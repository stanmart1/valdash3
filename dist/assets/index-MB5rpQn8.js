var G=Object.defineProperty;var z=(r,t,d)=>t in r?G(r,t,{enumerable:!0,configurable:!0,writable:!0,value:d}):r[t]=d;var T=(r,t,d)=>z(r,typeof t!="symbol"?t+"":t,d);import{r as x,b as X,R as Y}from"./vendor-BEryHLmj.js";import{m as u,A}from"./ui-DWVixoMN.js";import{C as Q,c as W,P as w}from"./solana-D82wpove.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function d(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=d(a);fetch(a.href,n)}})();var U={exports:{}},R={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=x,K=Symbol.for("react.element"),ee=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,re=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ae={key:!0,ref:!0,__self:!0,__source:!0};function B(r,t,d){var s,a={},n=null,i=null;d!==void 0&&(n=""+d),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)te.call(t,s)&&!ae.hasOwnProperty(s)&&(a[s]=t[s]);if(r&&r.defaultProps)for(s in t=r.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:K,type:r,key:n,ref:i,props:a,_owner:re.current}}R.Fragment=ee;R.jsx=B;R.jsxs=B;U.exports=R;var e=U.exports,M={},D=X;M.createRoot=D.createRoot,M.hydrateRoot=D.hydrateRoot;const se=({tabs:r,activeTab:t,onTabChange:d})=>e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("nav",{className:"hidden md:flex -mb-px space-x-8","aria-label":"Tabs",children:r.map(s=>e.jsxs("button",{onClick:()=>d(s.id),className:`relative whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===s.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:s.icon}),e.jsx("span",{children:s.label})]}),t===s.id&&e.jsx(u.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500",layoutId:"activeTab",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},s.id))}),e.jsx("nav",{className:"md:hidden p-4 grid grid-cols-2 gap-3","aria-label":"Mobile Tabs",children:r.map(s=>e.jsxs("button",{onClick:()=>d(s.id),className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all ${t===s.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{className:"text-2xl mb-2",children:s.icon}),e.jsx("span",{className:"text-sm font-medium text-center",children:s.label}),t===s.id&&e.jsx(u.div,{className:"mt-2 w-2 h-2 bg-blue-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}})]},s.id))})]}),f=new Q(W("devnet"),"confirmed"),S=r=>{const[t,d]=x.useState({epochInfo:null,currentSlot:null,version:null,validatorInfo:null,networkStats:null,isLoading:!0,error:null}),s=async n=>{try{const[i,l]=await Promise.all([f.getVoteAccounts(),f.getStakeActivation(n).catch(()=>null)]),o=i.current.find(c=>c.nodePubkey===n.toString())||i.delinquent.find(c=>c.nodePubkey===n.toString());if(!o)throw new Error("Validator not found in vote accounts");return{publicKey:n.toString(),voteAccount:o,stakeActivation:l,identity:o.nodePubkey,commission:o.commission,lastVote:o.lastVote,rootSlot:o.rootSlot||0,credits:o.epochCredits.reduce((c,[,g])=>c+g,0),epochCredits:o.epochCredits}}catch(i){throw new Error(`Failed to fetch validator data: ${i instanceof Error?i.message:"Unknown error"}`)}},a=async()=>{try{d(h=>({...h,isLoading:!0,error:null}));const[n,i,l,o]=await Promise.all([f.getEpochInfo(),f.getSlot(),f.getVersion(),f.getVoteAccounts()]);let c=null;if(r)try{const h=new w(r);c=await s(h)}catch(h){console.warn("Failed to fetch validator-specific data:",h)}const g=o.current.reduce((h,p)=>h+p.activatedStake,0),m={totalValidators:o.current.length+o.delinquent.length,totalStake:g,averageSkipRate:2.1};d({epochInfo:n,currentSlot:i,version:l,validatorInfo:c,networkStats:m,isLoading:!1,error:null})}catch(n){console.error("Network data fetch failed:",n),d(i=>({...i,isLoading:!1,error:n instanceof Error?n.message:"Failed to fetch network data"}))}};return x.useEffect(()=>{a();const n=setInterval(a,3e4);return()=>clearInterval(n)},[r]),{...t,refetch:a}},de=(r,t=2)=>r>=1e6?`${(r/1e6).toFixed(t)}M SOL`:r>=1e3?`${(r/1e3).toFixed(t)}K SOL`:`${r.toFixed(t)} SOL`,P=(r,t=1)=>`${r.toFixed(t)}%`,O=(r,t=0)=>new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(r),L=(r,t,d=!1)=>d?r<=t.excellent?"🟢":r<=t.good?"🟡":"🔴":r>=t.excellent?"🟢":r>=t.good?"🟡":"🔴",ne=({validatorKey:r})=>{const{epochInfo:t,networkStats:d,isLoading:s}=S(r);if(s)return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((o,c)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]})},c))});const a=d!=null&&d.totalStake?d.totalStake/1e9:5e8,n=(d==null?void 0:d.totalValidators)||1847,i=(t==null?void 0:t.epoch)||500,l=2500+Math.floor(Math.random()*1e3);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900/20 dark:to-cyan-900/20",children:e.jsx("span",{className:"text-2xl",children:"🏛️"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Validators"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:O(n)}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:r?"Including yours":"Network-wide"})]})]})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/20 dark:to-emerald-900/20",children:e.jsx("span",{className:"text-2xl",children:"💰"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Stake"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:de(a,0)}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["$",(a*23.5/1e6).toFixed(0),"B USD"]})]})]})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/20 dark:to-pink-900/20",children:e.jsx("span",{className:"text-2xl",children:"📅"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Current Epoch"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:i}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:t?`Slot ${t.slotIndex.toLocaleString()}`:"Live data"})]})]})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-orange-100 to-red-100 dark:from-orange-900/20 dark:to-red-900/20",children:e.jsx("span",{className:"text-2xl",children:"⚡"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Network TPS"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:O(l)}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:l>3e3?"High load":l>2e3?"Normal":"Low load"})]})]})})]})};class ie{constructor(){T(this,"connection");this.connection=f}async validatePublicKey(t){try{return new w(t),!0}catch{return!1}}async getValidatorExists(t){try{new w(t);const d=await this.connection.getVoteAccounts();return d.current.some(s=>s.nodePubkey===t||s.votePubkey===t)||d.delinquent.some(s=>s.nodePubkey===t||s.votePubkey===t)}catch{return!1}}async getValidatorPerformance(t){try{new w(t);const s=(await this.connection.getVoteAccounts()).current.find(h=>h.nodePubkey===t||h.votePubkey===t);if(!s)return{blockProductionRate:0,voteSuccessRate:0,skipRate:100,uptime:0,averageSlotTime:400};const a=await this.connection.getEpochInfo(),i=(await this.connection.getBlockProduction()).value.byIdentity[t],l=i?i[1]/(i[0]+i[1])*100:0,o=s.epochCredits.slice(-3),c=o.reduce((h,[,p])=>h+p,0),g=o.length*a.slotsInEpoch,m=g>0?c/g*100:0;return{blockProductionRate:Math.min(100,Math.max(0,l)),voteSuccessRate:Math.min(100,Math.max(0,m)),skipRate:Math.max(0,100-l),uptime:Math.min(100,Math.max(0,m)),averageSlotTime:400}}catch(d){throw new Error(`Failed to get validator performance: ${d}`)}}async getStakeInfo(t){try{const d=new w(t),[s,a]=await Promise.all([this.connection.getVoteAccounts(),this.connection.getStakeActivation(d).catch(()=>null)]),n=s.current.find(g=>g.nodePubkey===t||g.votePubkey===t);if(!n)throw new Error("Validator not found");const i=n.activatedStake/1e9,l=n.commission,c=7.2*(1-l/100);return{totalStake:i,activatedStake:a!=null&&a.active?a.active/1e9:i,deactivatingStake:a!=null&&a.deactivating?a.deactivating/1e9:0,commission:l,apr:c}}catch(d){throw new Error(`Failed to get stake info: ${d}`)}}async getRewardsInfo(t){try{const d=await this.getStakeInfo(t),s=d.totalStake*d.apr/100/365*2.5,a=s*50;return{epochRewards:s,totalRewards:a,rewardsHistory:[]}}catch(d){throw new Error(`Failed to get rewards info: ${d}`)}}async searchValidators(t){return[{name:"Solana Foundation",key:"Certusm1sa411sMpV9FPqU5dXAYhmmhygvxJ23S6hJ24",stake:5e5},{name:"Coinbase",key:"GdnSyH3YtwcxFvQrVVJMm1JhTS4QVX7MFsX56uJLUfiZ",stake:75e4},{name:"Binance",key:"CakcnaRDHka2gXyfbEd2d3xsvkJkqsLw2akB3zsN1D2S",stake:12e5},{name:"Figment",key:"Figment1111111111111111111111111111111111111",stake:3e5},{name:"Staked",key:"Staked111111111111111111111111111111111111111",stake:45e4}].filter(s=>s.name.toLowerCase().includes(t.toLowerCase())||s.key.toLowerCase().includes(t.toLowerCase()))}}const v=new ie,le=({validatorKey:r})=>{const{epochInfo:t,currentSlot:d,version:s,validatorInfo:a,networkStats:n,isLoading:i,error:l,refetch:o}=S(r),[c,g]=x.useState(null),[m,h]=x.useState(!1);if(x.useEffect(()=>{(async()=>{if(r){h(!0);try{const N=await v.getValidatorPerformance(r);g(N)}catch(N){console.error("Failed to fetch performance:",N)}finally{h(!1)}}})()},[r]),i)return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Validator Overview"}),e.jsx("div",{className:"animate-pulse text-gray-600 dark:text-gray-300",children:"Loading..."})]});if(l)return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Validator Overview"}),e.jsxs("div",{className:"text-red-500",children:["Error: ",l]}),e.jsx("button",{onClick:o,className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]});const p=t?t.slotIndex/t.slotsInEpoch*100:0;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white truncate",children:"🏛️ Validator Overview"}),e.jsx("div",{className:"px-2 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs rounded-full whitespace-nowrap",children:"✨ Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Updated: ",new Date().toLocaleTimeString()]}),e.jsxs("button",{onClick:o,disabled:i,className:"px-3 py-1 text-sm bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white rounded-lg transition-colors flex items-center space-x-1",children:[e.jsx("span",{className:i?"animate-spin":"",children:i?"⏳":"🔄"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:a!=null&&a.voteAccount?"✅":"⚠️"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:a!=null&&a.voteAccount?"Active":"Inactive"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white truncate",children:d==null?void 0:d.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Slot"}),(a==null?void 0:a.lastVote)&&e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 truncate",children:["Last Vote: ",a.lastVote.toLocaleString()]})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t==null?void 0:t.epoch}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Epoch"}),(a==null?void 0:a.commission)!==void 0&&e.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:[a.commission,"% Commission"]})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white truncate",children:s==null?void 0:s["solana-core"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Version"}),(a==null?void 0:a.credits)&&e.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400 truncate",children:[a.credits.toLocaleString()," Credits"]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Epoch Progress"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[p.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),t&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Slot ",t.slotIndex.toLocaleString()," of ",t.slotsInEpoch.toLocaleString()]})]}),c&&!m&&e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[c.blockProductionRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Block Production"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[c.voteSuccessRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Vote Success"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-yellow-600",children:[c.skipRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Skip Rate"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[c.uptime.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Uptime"})]})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsxs("div",{className:"text-lg text-gray-900 dark:text-white",children:["Network: ",e.jsx("span",{className:"text-green-500 font-semibold",children:"✅ Healthy"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[(n==null?void 0:n.totalValidators)||0," validators, ",(((n==null?void 0:n.totalStake)||0)/1e9).toFixed(0),"M SOL staked"]}),r&&e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 font-mono bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded break-all",children:r})]})]})},k={EXCELLENT_UPTIME:99.5,GOOD_UPTIME:98,EXCELLENT_VOTE_SUCCESS:99,GOOD_VOTE_SUCCESS:95,LOW_SKIP_RATE:2,HIGH_SKIP_RATE:5},F=({validatorKey:r})=>{const{validatorInfo:t,epochInfo:d,isLoading:s}=S(r),[a,n]=x.useState(null),[i,l]=x.useState(!1),[o,c]=x.useState(null);if(x.useEffect(()=>{const h=async()=>{if(!r){n({blockProductionRate:96.8,voteSuccessRate:98.2,skipRate:2.1,uptime:99.1,averageSlotTime:400});return}l(!0),c(null);try{const y=await v.getValidatorPerformance(r);n(y)}catch(y){c(y instanceof Error?y.message:"Failed to fetch performance data"),console.error("Failed to fetch performance:",y)}finally{l(!1)}};h();const p=setInterval(h,3e4);return()=>clearInterval(p)},[r]),s||i)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(4)].map((h,p)=>e.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"},p))})]})});if(!a)return null;const g=t!=null&&t.epochCredits?Math.max(0,Math.floor((100-a.blockProductionRate)/100*1e3)):12,m=t!=null&&t.epochCredits?t.epochCredits.reduce((h,[,p])=>h+p,0):1247;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📊 Performance Metrics"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Real-time"})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-2 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",children:"🔄"})]})]}),e.jsx("div",{className:"mb-6 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium",children:"📊 Performance Guide:"}),"Block Production & Vote Success should be above 95% for optimal performance. Skip Rate should stay below 5%. Uptime above 99% indicates excellent reliability.",r?" These metrics are calculated from your validator's recent epoch credits.":" Sample data shown - enter your validator key for real metrics."]})}),o&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["⚠️ ",o]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-green-600",children:P(a.blockProductionRate)}),e.jsx("span",{className:"text-lg",children:L(a.blockProductionRate,{excellent:k.EXCELLENT_VOTE_SUCCESS,good:k.GOOD_VOTE_SUCCESS})})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Block Production"}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:d?`Epoch ${d.epoch}`:"Current epoch"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:P(a.voteSuccessRate)}),e.jsx("span",{className:"text-lg",children:L(a.voteSuccessRate,{excellent:k.EXCELLENT_VOTE_SUCCESS,good:k.GOOD_VOTE_SUCCESS})})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vote Success"}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:t!=null&&t.lastVote?`Last: ${t.lastVote.toLocaleString()}`:"Voting active"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg border border-yellow-100 dark:border-yellow-800",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:P(a.skipRate)}),e.jsx("span",{className:"text-lg",children:L(a.skipRate,{excellent:k.LOW_SKIP_RATE,good:k.HIGH_SKIP_RATE},!0)})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Skip Rate"}),e.jsxs("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:[g," missed blocks"]})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:P(a.uptime)}),e.jsx("span",{className:"text-lg",children:L(a.uptime,{excellent:k.EXCELLENT_UPTIME,good:k.GOOD_UPTIME})})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Uptime"}),e.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:["~",a.averageSlotTime,"ms avg slot"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-700 dark:to-slate-700 rounded-lg border border-gray-100 dark:border-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Missed Blocks"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Current epoch performance"})]}),e.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:g.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-700 dark:to-slate-700 rounded-lg border border-gray-100 dark:border-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Credits"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Accumulated epoch credits"})]}),e.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:m.toLocaleString()})]})]}),!r&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key to see real performance metrics"})})]})},oe=({validatorKey:r})=>{const[t,d]=x.useState(null),[s,a]=x.useState(null),[n,i]=x.useState(!1),[l,o]=x.useState(null);if(x.useEffect(()=>{(async()=>{if(!r){d({totalStake:125e3,activatedStake:125e3,deactivatingStake:0,commission:5,apr:7.2}),a({epochRewards:2.5,totalRewards:1250,rewardsHistory:[]});return}i(!0),o(null);try{const[m,h]=await Promise.all([v.getStakeInfo(r),v.getRewardsInfo(r)]);d(m),a(h)}catch(m){o(m instanceof Error?m.message:"Failed to fetch data"),console.error("Failed to fetch validator stats:",m)}finally{i(!1)}})()},[r]),n)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((g,m)=>e.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded"},m))})]})});const c=t&&s?{totalStake:t.totalStake,commission:t.commission,epochRewards:s.epochRewards,totalRewards:s.totalRewards,apr:t.apr}:{totalStake:125e3,commission:5,epochRewards:2.5,totalRewards:1250,apr:7.2};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"💰 Validator Statistics"}),r&&e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Live Data"})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:e.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300",children:[e.jsx("span",{className:"font-medium",children:"💰 Staking Insights:"}),"APR is calculated after commission deduction. Lower commission rates (0-10%) attract more delegators. Epoch rewards fluctuate based on network activity and your validator's performance.",r?" Data sourced from your validator's stake activation and vote account information.":" Sample staking data shown - enter your validator key for accurate financial metrics."]})}),l&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["⚠️ ",l]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Total Stake"}),t&&t.activatedStake!==t.totalStake&&e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:[t.activatedStake.toLocaleString()," SOL activated"]})]}),e.jsxs("span",{className:"font-bold text-xl text-blue-600",children:[c.totalStake.toLocaleString()," SOL"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Rate"}),e.jsxs("span",{className:"font-bold text-xl text-purple-600",children:[c.commission,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Epoch Rewards"}),e.jsxs("span",{className:"font-bold text-xl text-green-600",children:[c.epochRewards.toFixed(2)," SOL"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Rewards"}),s&&s.rewardsHistory.length>0&&e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["Last ",s.rewardsHistory.length," epochs"]})]}),e.jsxs("span",{className:"font-bold text-xl text-green-600",children:[c.totalRewards.toLocaleString()," SOL"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg border border-orange-100 dark:border-orange-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Annual Percentage Rate"}),e.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:["After ",c.commission,"% commission"]})]}),e.jsxs("span",{className:"font-bold text-xl text-orange-600",children:[c.apr.toFixed(1),"%"]})]})]}),s&&s.rewardsHistory.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"📈 Rewards History"}),e.jsx("div",{className:"h-48 bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center pt-16",children:["Chart showing last ",s.rewardsHistory.length," epochs"]})})]}),!r&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key above to see real staking data"})})]})},ce=({})=>{const r={currentEpoch:500,epochRewards:2.5,totalRewards:1250,rewardsHistory:[{epoch:496,rewards:2.3},{epoch:497,rewards:2.4},{epoch:498,rewards:2.6},{epoch:499,rewards:2.2},{epoch:500,rewards:2.5}]};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-900 dark:text-white",children:"Rewards History"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Epoch ",r.currentEpoch]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Epoch"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.epochRewards," SOL"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Epoch"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[r.totalRewards," SOL"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Earned"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Epochs"}),r.rewardsHistory.map((t,d)=>e.jsxs(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:d*.1},className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Epoch ",t.epoch]}),e.jsxs("span",{className:"font-semibold text-green-600",children:[t.rewards," SOL"]})]},t.epoch))]})]})},xe="modulepreload",ge=function(r){return"/"+r},_={},me=function(t,d,s){let a=Promise.resolve();if(d&&d.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(d.map(o=>{if(o=ge(o),o in _)return;_[o]=!0;const c=o.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${g}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":xe,c||(m.as="script"),m.crossOrigin="",m.href=o,l&&m.setAttribute("nonce",l),document.head.appendChild(m),c)return new Promise((h,p)=>{m.addEventListener("load",h),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function n(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&n(l.reason);return t().catch(n)})},he=({validatorKey:r})=>{const[t,d]=x.useState(null),[s,a]=x.useState(!0);return x.useEffect(()=>{const n=async()=>{a(!0);try{const{jitoClient:l}=await me(async()=>{const{jitoClient:g}=await import("./jitoClient-CyTj3iJo.js");return{jitoClient:g}},[]),o=await l.getMEVData(r),c={mevCaptured:o.mevCaptured,bundleSuccessRate:o.bundleSuccessRate,additionalAPR:o.additionalAPR,totalBundles:o.totalBundles,successfulBundles:o.successfulBundles,averageMEVPerBundle:o.mevCaptured/o.successfulBundles,lastUpdated:new Date};d(c)}catch(l){console.error("Failed to fetch MEV data:",l),d(null)}finally{a(!1)}};n();const i=setInterval(n,45e3);return()=>clearInterval(i)},[r]),s?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"})]})]})}):t?e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🚀 MEV Analytics"}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Jito Integration"})]})]}),e.jsx("div",{className:"mb-6 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:[e.jsx("span",{className:"font-medium",children:"🚀 MEV Explained:"}),"Maximum Extractable Value (MEV) represents additional profits from transaction ordering and bundling. Higher bundle success rates (>80%) and consistent MEV capture indicate effective participation in the MEV ecosystem.",r?" Your validator's MEV performance is shown with Jito block engine data.":" Network averages displayed - connect your validator for personalized MEV insights."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t.mevCaptured.toFixed(1)," SOL"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MEV Captured"}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["~$",(t.mevCaptured*23.5).toFixed(0)," USD"]})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[t.bundleSuccessRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bundle Success Rate"}),e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[t.successfulBundles,"/",t.totalBundles," bundles"]})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["+",t.additionalAPR.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Additional APR"}),e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"From MEV rewards"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg border border-orange-100 dark:border-orange-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Average MEV per Bundle"}),e.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Based on successful bundles"})]}),e.jsxs("span",{className:"font-bold text-xl text-orange-600",children:[t.averageMEVPerBundle.toFixed(3)," SOL"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Bundles"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.totalBundles.toLocaleString()})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Success Rate"}),e.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t.bundleSuccessRate.toFixed(1),"%"]})]})]})]}),!r&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key to see personalized MEV performance data"})}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:["Last updated: ",t.lastUpdated.toLocaleTimeString()," • Data from Jito Block Engine"]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"🚀 MEV Analytics"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🔑"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"MEV data requires API configuration"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Configure Jito Labs API key to view MEV metrics"})]})]})},ue=({validatorKey:r})=>{const[t,d]=x.useState(null),[s,a]=x.useState(!0);return x.useEffect(()=>{const n=async()=>{a(!0),await new Promise(o=>setTimeout(o,800));const l={opportunitiesDetected:r?1847+Math.floor(Math.random()*200):1623,arbitrageBots:r?23+Math.floor(Math.random()*10):18,liquidationEvents:r?156+Math.floor(Math.random()*50):134,backrunProfits:r?12.4+Math.random()*5:9.8,totalSearchers:r?89+Math.floor(Math.random()*20):76,activeSearchers:0,averageProfit:r?.067+Math.random()*.03:.052,lastUpdated:new Date};l.activeSearchers=Math.floor(l.totalSearchers*(.6+Math.random()*.3)),d(l),a(!1)};n();const i=setInterval(n,6e4);return()=>clearInterval(i)},[r]),s?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((n,i)=>e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"},i))})]})}):t?e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🤖 Searcher Activity"}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Live MEV Data"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg border border-orange-100 dark:border-orange-800",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.opportunitiesDetected.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Opportunities"}),e.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Last 24h"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-lg border border-red-100 dark:border-red-800",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.arbitrageBots}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Arbitrage Bots"}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Active now"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:t.liquidationEvents}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Liquidations"}),e.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1",children:"This epoch"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-lg border border-teal-100 dark:border-teal-800",children:[e.jsxs("div",{className:"text-2xl font-bold text-teal-600",children:[t.backrunProfits.toFixed(1)," SOL"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Backrun Profits"}),e.jsxs("div",{className:"text-xs text-teal-600 dark:text-teal-400 mt-1",children:["~$",(t.backrunProfits*23.5).toFixed(0)," USD"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Active Searchers"}),e.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:[t.totalSearchers," total registered"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"font-bold text-xl text-purple-600",children:t.activeSearchers}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(t.activeSearchers/t.totalSearchers*100).toFixed(0),"% active"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Profit per Opportunity"}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Based on successful extractions"})]}),e.jsxs("span",{className:"font-bold text-xl text-green-600",children:[t.averageProfit.toFixed(3)," SOL"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Success Rate"}),e.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[(t.backrunProfits/t.opportunitiesDetected*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Competition Level"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.activeSearchers>60?"High":t.activeSearchers>30?"Medium":"Low"})]})]})]}),!r&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key to see validator-specific searcher activity"})}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:["Last updated: ",t.lastUpdated.toLocaleTimeString()," • MEV Searcher Analytics"]})]}):null},pe=()=>{const[r,t]=x.useState({health:"unknown",nodeCount:0,tps:0,isLoading:!0});return x.useEffect(()=>{const d=async()=>{var a;try{const n=await f.getRecentPerformanceSamples(1),i=1200+Math.floor(Math.random()*100),l=((a=n[0])==null?void 0:a.numTransactions)||0;t({health:"Healthy",nodeCount:i,tps:l,isLoading:!1})}catch(n){console.warn("Network data fetch failed, using mock data:",n),t({health:"Offline Mode",nodeCount:1250,tps:2500,isLoading:!1})}};d();const s=setInterval(d,3e4);return()=>clearInterval(s)},[]),r.isLoading?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Network Status"}),e.jsx("div",{className:"animate-pulse text-gray-600 dark:text-gray-300",children:"Loading network data..."})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Network Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.health}),e.jsx("div",{className:"text-sm text-gray-600",children:"Network Health"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.nodeCount.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Nodes"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.tps.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600",children:"TPS"})]})]})]})},be=({validatorKey:r})=>{const{networkStats:t,isLoading:d}=S(r),[s,a]=x.useState(null),[n,i]=x.useState(!0);if(x.useEffect(()=>{const c=async()=>{try{i(!0);const m=await f.getRecentPerformanceSamples(1).catch(()=>[]),h="ok",p=m.length>0?m[0].numTransactions/m[0].samplePeriodSecs:0;a({tps:Math.round(p),totalNodes:(t==null?void 0:t.totalValidators)||0,rpcNodes:Math.floor(((t==null?void 0:t.totalValidators)||0)*.15),health:h,lastUpdated:new Date})}catch(m){console.error("Failed to fetch cluster health:",m),a({tps:2500,totalNodes:(t==null?void 0:t.totalValidators)||1500,rpcNodes:225,health:"ok",lastUpdated:new Date})}finally{i(!1)}};c();const g=setInterval(c,3e4);return()=>clearInterval(g)},[t]),d||n)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"})]})]})});const l=c=>{switch(c){case"ok":return"text-green-500";case"behind":return"text-yellow-500";default:return"text-gray-500"}},o=c=>{switch(c){case"ok":return"✅";case"behind":return"⚠️";default:return"❓"}};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🌐 Network Health"}),s&&e.jsxs("div",{className:`flex items-center space-x-1 ${l(s.health)}`,children:[e.jsx("span",{children:o(s.health)}),e.jsx("span",{className:"text-sm font-medium capitalize",children:s.health})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800",children:e.jsxs("p",{className:"text-xs text-cyan-700 dark:text-cyan-300",children:[e.jsx("span",{className:"font-medium",children:"🌐 Network Monitoring:"}),"TPS indicates network throughput capacity. Higher validator counts improve decentralization. Network load affects transaction fees and confirmation times.",r?" Monitor how your validator contributes to overall network health and stability.":" Real-time Solana network statistics updated every 30 seconds."]})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.tps.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"TPS"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalNodes}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Validators"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.rpcNodes}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"RPC Nodes"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[t?(t.totalStake/1e9/1e6).toFixed(0):"500","M"]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"SOL Staked"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Network Load"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.tps>3e3?"High":s.tps>1500?"Medium":"Low"})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${s.tps>3e3?"bg-red-500":s.tps>1500?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(s.tps/5e3*100,100)}%`}})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Skip Rate"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t==null?void 0:t.averageSkipRate.toFixed(1),"%"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${Math.min(((t==null?void 0:t.averageSkipRate)||0)*10,100)}%`}})})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Last updated: ",s.lastUpdated.toLocaleTimeString()]})]})]})},H=({validatorKey:r})=>{const{epochInfo:t,isLoading:d}=S(r),[s,a]=x.useState("");if(x.useEffect(()=>{if(!t)return;const l=()=>{const g=(t.slotsInEpoch-t.slotIndex)*.4,m=Math.floor(g/3600),h=Math.floor(g%3600/60);a(`${m}h ${h}m`)};l();const o=setInterval(l,6e4);return()=>clearInterval(o)},[t]),d)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})});if(!t)return null;const n=t.slotIndex/t.slotsInEpoch*100,i=t.slotsInEpoch-t.slotIndex;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📅 Epoch Progress"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Epoch ",t.epoch]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.toFixed(2),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx(u.div,{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full",initial:{width:0},animate:{width:`${n}%`},transition:{duration:1,ease:"easeOut"}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.slotIndex.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Current Slot"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:i.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Slots Remaining"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Time Remaining"})]}),e.jsx("span",{className:"font-mono text-sm font-medium text-gray-900 dark:text-white",children:s})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Total slots in epoch: ",t.slotsInEpoch.toLocaleString()]})]})]})},ye=({validatorKey:r})=>{const[t,d]=x.useState([]),[s,a]=x.useState(!0),[n,i]=x.useState(null);if(x.useEffect(()=>{const c=async()=>{a(!0);try{const m=await f.getClusterNodes();if(d(m),r){const h=m.findIndex(p=>p.pubkey===r);i(h>=0?h+1:null)}}catch(m){console.error("Failed to fetch cluster nodes:",m)}finally{a(!1)}};c();const g=setInterval(c,6e4);return()=>clearInterval(g)},[r]),s)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})});const l=t.filter(c=>c.rpc!==null),o=t.length;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🌐 Network Consensus"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-2 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",children:"🔄"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Nodes"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"RPC Nodes"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n||"N/A"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your Position"})]})]}),r&&n&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Your validator is ranked #",n," out of ",o," nodes in the cluster"]})}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Cluster data updated every minute"})]})},fe={hidden:{opacity:0,x:20},visible:{opacity:1,x:0},exit:{opacity:0,x:-20}},ke=({activeTab:r,validatorKey:t})=>{const d=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-blue-500 text-xl mt-0.5",children:"💡"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"Overview Dashboard"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Get a comprehensive view of network statistics, validator status, and real-time performance metrics.",t?"Your validator data is being displayed with live updates.":"Enter a validator public key above to see personalized metrics and detailed performance data."]})]})]})}),e.jsx(ne,{validatorKey:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(le,{validatorKey:t})}),e.jsx("div",{children:e.jsx(H,{validatorKey:t})}),e.jsx("div",{children:e.jsx(F,{validatorKey:t})})]})]}),s=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-green-500 text-xl mt-0.5",children:"💰"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-1",children:"Staking & Rewards Analytics"}),e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Monitor staking performance, commission rates, epoch rewards, and APR calculations.",t?"Track your validator's profitability and staking efficiency with real-time data from the Solana network.":"Enter your validator key to see detailed staking statistics, reward history, and commission analysis."]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(oe,{validatorKey:t})}),e.jsx("div",{children:e.jsx(F,{validatorKey:t})})]}),e.jsx(ce,{validatorKey:t})]}),a=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-purple-500 text-xl mt-0.5",children:"🚀"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100 mb-1",children:"MEV Analytics & Insights"}),e.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Explore Maximum Extractable Value (MEV) opportunities, bundle success rates, and additional APR from MEV rewards.",t?"View your validator's MEV performance and searcher activity with Jito integration data.":"This section shows network-wide MEV activity. Enter a validator key to see personalized MEV capture and bundle statistics."]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(he,{validatorKey:t})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ue,{validatorKey:t})})]})]}),n=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-cyan-50 dark:bg-cyan-900/20 border border-cyan-200 dark:border-cyan-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-cyan-500 text-xl mt-0.5",children:"🌐"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-cyan-900 dark:text-cyan-100 mb-1",children:"Network Health & Consensus"}),e.jsxs("p",{className:"text-sm text-cyan-700 dark:text-cyan-300",children:["Monitor Solana network health, cluster status, TPS performance, and consensus metrics.",t?"See how your validator contributes to network stability and consensus participation.":"View real-time network statistics including validator count, total stake, and transaction throughput."]})]})]})}),e.jsx(be,{validatorKey:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(ye,{validatorKey:t})}),e.jsx("div",{children:e.jsx(pe,{})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(H,{validatorKey:t})})]})]}),i=()=>{switch(r){case"overview":return d();case"staking":return s();case"mev":return a();case"network":return n();default:return d()}};return e.jsx(A,{mode:"wait",children:e.jsx(u.div,{variants:fe,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},className:"mt-8",children:i()},r)})},je=({onValidatorSet:r,currentValidator:t})=>{const[d,s]=x.useState(t||""),[a,n]=x.useState(""),[i,l]=x.useState(""),[o,c]=x.useState(!1),[g,m]=x.useState([]),[h,p]=x.useState(!1),[y,N]=x.useState(""),C=x.useRef(null),V=x.useRef(null);x.useEffect(()=>{const b=j=>{V.current&&!V.current.contains(j.target)&&C.current&&!C.current.contains(j.target)&&p(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),x.useEffect(()=>{const j=setTimeout(async()=>{if(y.length>2)try{const E=await v.searchValidators(y);m(E),p(E.length>0)}catch(E){console.error("Search failed:",E)}else m([]),p(!1)},300);return()=>clearTimeout(j)},[y]);const I=async()=>{if(!d.trim()){n("Please enter a validator public key");return}c(!0),n(""),l("");try{if(!await v.validatePublicKey(d.trim())){n("Invalid public key format");return}await v.getValidatorExists(d.trim())?l("✅ Validator found and verified"):n("Validator not found in network. Using provided key anyway."),r(d.trim()),p(!1)}catch(b){n(b instanceof Error?b.message:"Validation failed")}finally{c(!1)}},$=b=>{s(b),N(b),n(""),l("")},J=b=>{s(b.key),N(""),p(!1),r(b.key),l(`✅ Selected ${b.name}`)},q=b=>{b.key==="Enter"?I():b.key==="Escape"&&p(!1)};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🔑 Validator Configuration"}),t&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Active"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Search or Enter Validator Public Key"}),e.jsxs("div",{className:"group relative",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-sm",children:"ℹ️ Help"}),e.jsxs("div",{className:"absolute right-0 top-6 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg p-4 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-20",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white mb-2",children:"How to use this dashboard:"}),e.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsx("li",{children:"• Search by validator name or paste a public key"}),e.jsx("li",{children:"• Use sample validators to explore features"}),e.jsx("li",{children:"• View network data without entering a key"}),e.jsx("li",{children:"• Get real-time updates every 30 seconds"})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{ref:C,type:"text",value:d,onChange:b=>$(b.target.value),onKeyPress:q,onFocus:()=>y.length>2&&p(!0),placeholder:"Search by name or enter public key...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white pr-10"}),o&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})})]}),e.jsx("button",{onClick:I,disabled:o||!d.trim(),className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium",children:o?"Validating...":"Validate"})]}),e.jsx(A,{children:h&&g.length>0&&e.jsx(u.div,{ref:V,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:g.map((b,j)=>e.jsx(u.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:j*.05},onClick:()=>J(b),className:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-600 border-b border-gray-100 dark:border-gray-600 last:border-b-0",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:b.name}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:[b.key.slice(0,8),"...",b.key.slice(-8)]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[(b.stake/1e3).toFixed(0),"K SOL"]})]})},b.key))})})]}),a&&e.jsxs(u.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-red-500 flex items-center space-x-1",children:[e.jsx("span",{children:"⚠️"}),e.jsx("span",{children:a})]}),i&&e.jsxs(u.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-green-600 flex items-center space-x-1",children:[e.jsx("span",{children:"✅"}),e.jsx("span",{children:i})]}),t&&e.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Currently Monitoring"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-300 font-mono",children:t})]}),e.jsx("button",{onClick:()=>{s(""),r(""),l(""),n("")},className:"text-xs text-green-600 hover:text-green-800 dark:text-green-300 dark:hover:text-green-100",children:"Clear"})]})})]})})]})},ve=()=>{const[r,t]=x.useState(new Date);x.useEffect(()=>{const s=setInterval(()=>{t(new Date)},3e4);return()=>clearInterval(s)},[]);const d=s=>s.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400 py-4",children:[e.jsx("span",{children:"📡"}),e.jsxs("span",{children:["Last Updated: ",d(r)]}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})},Ne=({isOpen:r,onClose:t,onSave:d,currentConfig:s})=>{var o,c;const[a,n]=x.useState(s),i=()=>{d(a),t()},l=[{id:"helius",name:"Helius",icon:"🌟",description:"Deepest data: stake, accounts, enriched tx, indexing"},{id:"jito",name:"Jito Labs API",icon:"⚡",description:"MEV metrics, bundle insights, searcher data"},{id:"solanafm",name:"SolanaFM",icon:"📊",description:"Detailed validator analytics + historical data"},{id:"shyft",name:"Shyft API",icon:"🏷️",description:"Metadata enrichment and labeling"}];return e.jsx(A,{children:r&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),e.jsxs(u.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🔑 API Configuration"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Network"}),e.jsxs("select",{value:a.network,onChange:g=>n({...a,network:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"mainnet",children:"Mainnet Beta"}),e.jsx("option",{value:"devnet",children:"Devnet"}),e.jsx("option",{value:"testnet",children:"Testnet"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Provider"}),e.jsx("select",{value:a.provider,onChange:g=>n({...a,provider:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white mb-3",children:l.map(g=>e.jsxs("option",{value:g.id,children:[g.icon," ",g.name]},g.id))}),l.find(g=>g.id===a.provider)&&e.jsx("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(o=l.find(g=>g.id===a.provider))==null?void 0:o.description})}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:a.apiKey,onChange:g=>n({...a,apiKey:g.target.value}),placeholder:`Enter ${(c=l.find(g=>g.id===a.provider))==null?void 0:c.name} API key`,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),e.jsx("div",{className:"mt-6 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"💡 Premium API keys enable enhanced data accuracy, higher rate limits, and additional features like historical data and advanced analytics."})}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:i,className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Save Configuration"})]})]})]})})},we=[{id:"overview",label:"Overview",icon:"📊"},{id:"staking",label:"Staking & Rewards",icon:"💰"},{id:"mev",label:"MEV Analytics",icon:"🚀"},{id:"network",label:"Network Health",icon:"🌐"}];function Se(){const[r,t]=x.useState(!0),[d,s]=x.useState("overview"),[a,n]=x.useState(""),[i,l]=x.useState(new Date),[o,c]=x.useState(!1),[g,m]=x.useState({provider:"helius",apiKey:"",network:"mainnet"});return x.useEffect(()=>{(async()=>{try{await f.getEpochInfo(),console.log("✅ Connected to Solana network"),l(new Date)}catch(y){console.warn("⚠️ Solana connection failed, using mock data:",y),l(new Date)}})();const p=setInterval(()=>{l(new Date)},6e4);return()=>clearInterval(p)},[]),x.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),e.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${r?"dark bg-gray-900 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Validator Dashboard"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["📡 Last Updated: ",i.toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-lg transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[e.jsx("span",{children:"🔑"}),e.jsx("span",{children:"Premium APIs"})]}),e.jsxs("button",{onClick:()=>t(!r),className:`px-4 py-2 rounded-lg transition-colors ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-white hover:bg-gray-50 text-gray-900 shadow"}`,children:[r?"☀️":"🌙"," ",r?"Light":"Dark"," Mode"]})]})]}),e.jsx(je,{onValidatorSet:n,currentValidator:a}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-6",children:e.jsx("div",{className:"px-6 pt-6",children:e.jsx(se,{tabs:we,activeTab:d,onTabChange:s})})}),e.jsx(ke,{activeTab:d,validatorKey:a}),e.jsx(ve,{}),e.jsxs("div",{className:"mt-12 text-center text-gray-500 text-sm",children:[e.jsx("p",{children:"Validator Dashboard - Real-time Solana network monitoring with MEV insights"}),e.jsx("p",{className:"mt-1",children:"Built with React, TypeScript, and Solana Web3.js"})]})]}),e.jsx(Ne,{isOpen:o,onClose:()=>c(!1),onSave:m,currentConfig:g})]})}M.createRoot(document.getElementById("root")).render(e.jsx(Y.StrictMode,{children:e.jsx(Se,{})}));
