var Z=Object.defineProperty;var K=(r,t,n)=>t in r?Z(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var H=(r,t,n)=>K(r,typeof t!="symbol"?t+"":t,n);import{L as i,M as ee,N as te,O as F,P as L,W as ae,Q as re,S as se,T as ne,U as de,V as le,R as ie}from"./wallet-adapters-DPvjAAl-.js";import{m as u,A as D}from"./ui-components-CPh_Jspb.js";import{C as z,c as W,P as E,T as I,S as P,L as oe,A as ce,a as _,K as xe}from"./solana-web3-BjCZMVJs.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(s){if(s.ep)return;s.ep=!0;const d=n(s);fetch(s.href,d)}})();var J={exports:{}},T={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ge=i,me=Symbol.for("react.element"),he=Symbol.for("react.fragment"),ue=Object.prototype.hasOwnProperty,be=ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pe={key:!0,ref:!0,__self:!0,__source:!0};function G(r,t,n){var a,s={},d=null,l=null;n!==void 0&&(d=""+n),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)ue.call(t,a)&&!pe.hasOwnProperty(a)&&(s[a]=t[a]);if(r&&r.defaultProps)for(a in t=r.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:me,type:r,key:d,ref:l,props:s,_owner:be.current}}T.Fragment=he;T.jsx=G;T.jsxs=G;J.exports=T;var e=J.exports,O={},U=ee;O.createRoot=U.createRoot,O.hydrateRoot=U.hydrateRoot;const ye=({tabs:r,activeTab:t,onTabChange:n})=>e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("nav",{className:"hidden md:flex -mb-px space-x-8","aria-label":"Tabs",children:r.map(a=>e.jsxs("button",{onClick:()=>n(a.id),className:`relative whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===a.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsx("span",{children:a.label})]}),t===a.id&&e.jsx(u.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500",layoutId:"activeTab",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]},a.id))}),e.jsx("nav",{className:"md:hidden p-4 grid grid-cols-2 gap-3","aria-label":"Mobile Tabs",children:r.map(a=>e.jsxs("button",{onClick:()=>n(a.id),className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all ${t===a.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{className:"text-2xl mb-2",children:a.icon}),e.jsx("span",{className:"text-sm font-medium text-center",children:a.label}),t===a.id&&e.jsx(u.div,{className:"mt-2 w-2 h-2 bg-blue-500 rounded-full",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30}})]},a.id))})]}),fe="devnet",ke=W(fe),f=new z(ke,"confirmed"),R=r=>{const[t,n]=i.useState({epochInfo:null,currentSlot:null,version:null,validatorInfo:null,networkStats:null,isLoading:!0,error:null}),a=async d=>{try{const[l,o]=await Promise.all([f.getVoteAccounts(),f.getStakeActivation(d).catch(()=>null)]),g=l.current.find(c=>c.nodePubkey===d.toString())||l.delinquent.find(c=>c.nodePubkey===d.toString());if(!g)throw new Error("Validator not found in vote accounts");return{publicKey:d.toString(),voteAccount:g,stakeActivation:o,identity:g.nodePubkey,commission:g.commission,lastVote:g.lastVote,rootSlot:g.rootSlot||0,credits:g.epochCredits.reduce((c,[,h])=>c+h,0),epochCredits:g.epochCredits}}catch(l){throw new Error(`Failed to fetch validator data: ${l instanceof Error?l.message:"Unknown error"}`)}},s=async()=>{try{n(x=>({...x,isLoading:!0,error:null}));const[d,l,o,g]=await Promise.all([f.getEpochInfo(),f.getSlot(),f.getVersion(),f.getVoteAccounts()]);let c=null;if(r)try{const x=new E(r);c=await a(x)}catch(x){console.warn("Failed to fetch validator-specific data:",x)}const h=g.current.reduce((x,b)=>x+b.activatedStake,0),m={totalValidators:g.current.length+g.delinquent.length,totalStake:h,averageSkipRate:2.1};n({epochInfo:d,currentSlot:l,version:o,validatorInfo:c,networkStats:m,isLoading:!1,error:null})}catch(d){console.error("Network data fetch failed:",d),n(l=>({...l,isLoading:!1,error:d instanceof Error?d.message:"Failed to fetch network data"}))}};return i.useEffect(()=>{s();const d=setInterval(s,3e4);return()=>clearInterval(d)},[r]),{...t,refetch:s}},je=(r,t=2)=>r>=1e6?`${(r/1e6).toFixed(t)}M SOL`:r>=1e3?`${(r/1e3).toFixed(t)}K SOL`:`${r.toFixed(t)} SOL`,M=(r,t=1)=>`${r.toFixed(t)}%`,B=(r,t=0)=>new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(r),A=(r,t,n=!1)=>n?r<=t.excellent?"🟢":r<=t.good?"🟡":"🔴":r>=t.excellent?"🟢":r>=t.good?"🟡":"🔴",ve=({validatorKey:r})=>{const{epochInfo:t,networkStats:n,isLoading:a}=R(r);if(a)return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((g,c)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-3/4"})]})},c))});const s=n!=null&&n.totalStake?n.totalStake/1e9:5e8,d=(n==null?void 0:n.totalValidators)||1847,l=(t==null?void 0:t.epoch)||500,o=2500+Math.floor(Math.random()*1e3);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900/20 dark:to-cyan-900/20",children:e.jsx("span",{className:"text-2xl",children:"🏛️"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Validators"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:B(d)}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:r?"Including yours":"Network-wide"})]})]})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/20 dark:to-emerald-900/20",children:e.jsx("span",{className:"text-2xl",children:"💰"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Stake"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:je(s,0)}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["$",(s*23.5/1e6).toFixed(0),"B USD"]})]})]})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/20 dark:to-pink-900/20",children:e.jsx("span",{className:"text-2xl",children:"📅"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Current Epoch"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:l}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:t?`Slot ${t.slotIndex.toLocaleString()}`:"Live data"})]})]})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-gradient-to-br from-orange-100 to-red-100 dark:from-orange-900/20 dark:to-red-900/20",children:e.jsx("span",{className:"text-2xl",children:"⚡"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Network TPS"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:B(o)}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:o>3e3?"High load":o>2e3?"Normal":"Low load"})]})]})})]})};class Ne{constructor(){H(this,"connection");this.connection=f}async validatePublicKey(t){try{return new E(t),!0}catch{return!1}}async getValidatorExists(t){try{new E(t);const n=await this.connection.getVoteAccounts();return n.current.some(a=>a.nodePubkey===t||a.votePubkey===t)||n.delinquent.some(a=>a.nodePubkey===t||a.votePubkey===t)}catch{return!1}}async getValidatorPerformance(t){try{new E(t);const a=(await this.connection.getVoteAccounts()).current.find(x=>x.nodePubkey===t||x.votePubkey===t);if(!a)return{blockProductionRate:0,voteSuccessRate:0,skipRate:100,uptime:0,averageSlotTime:400};const s=await this.connection.getEpochInfo(),l=(await this.connection.getBlockProduction()).value.byIdentity[t],o=l?l[1]/(l[0]+l[1])*100:0,g=a.epochCredits.slice(-3),c=g.reduce((x,[,b])=>x+b,0),h=g.length*s.slotsInEpoch,m=h>0?c/h*100:0;return{blockProductionRate:Math.min(100,Math.max(0,o)),voteSuccessRate:Math.min(100,Math.max(0,m)),skipRate:Math.max(0,100-o),uptime:Math.min(100,Math.max(0,m)),averageSlotTime:400}}catch(n){throw new Error(`Failed to get validator performance: ${n}`)}}async getStakeInfo(t){try{const n=new E(t),[a,s]=await Promise.all([this.connection.getVoteAccounts(),this.connection.getStakeActivation(n).catch(()=>null)]),d=a.current.find(h=>h.nodePubkey===t||h.votePubkey===t);if(!d)throw new Error("Validator not found");const l=d.activatedStake/1e9,o=d.commission,c=7.2*(1-o/100);return{totalStake:l,activatedStake:s!=null&&s.active?s.active/1e9:l,deactivatingStake:s!=null&&s.deactivating?s.deactivating/1e9:0,commission:o,apr:c}}catch(n){throw new Error(`Failed to get stake info: ${n}`)}}async getRewardsInfo(t){try{const n=await this.getStakeInfo(t),a=n.totalStake*n.apr/100/365*2.5,s=a*50;return{epochRewards:a,totalRewards:s,rewardsHistory:[]}}catch(n){throw new Error(`Failed to get rewards info: ${n}`)}}async searchValidators(t){return[{name:"Solana Foundation",key:"Certusm1sa411sMpV9FPqU5dXAYhmmhygvxJ23S6hJ24",stake:5e5},{name:"Coinbase",key:"GdnSyH3YtwcxFvQrVVJMm1JhTS4QVX7MFsX56uJLUfiZ",stake:75e4},{name:"Binance",key:"CakcnaRDHka2gXyfbEd2d3xsvkJkqsLw2akB3zsN1D2S",stake:12e5},{name:"Figment",key:"Figment1111111111111111111111111111111111111",stake:3e5},{name:"Staked",key:"Staked111111111111111111111111111111111111111",stake:45e4}].filter(a=>a.name.toLowerCase().includes(t.toLowerCase())||a.key.toLowerCase().includes(t.toLowerCase()))}}const w=new Ne,we=({validatorKey:r})=>{const{epochInfo:t,currentSlot:n,version:a,validatorInfo:s,networkStats:d,isLoading:l,error:o,refetch:g}=R(r),[c,h]=i.useState(null),[m,x]=i.useState(!1),[b,y]=i.useState(null);if(i.useEffect(()=>{(async()=>{if(r){x(!0),y(null);try{const k=await w.getValidatorPerformance(r);h(k)}catch(k){const C=k instanceof Error?k.message:"Failed to fetch performance data";y(C),console.error("Failed to fetch performance:",k)}finally{x(!1)}}})()},[r]),l)return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Validator Overview"}),e.jsx("div",{className:"animate-pulse text-gray-600 dark:text-gray-300",children:"Loading..."})]});if(o)return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Validator Overview"}),e.jsxs("div",{className:"text-red-500",children:["Error: ",o]}),e.jsx("button",{onClick:g,className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]});const v=t?t.slotIndex/t.slotsInEpoch*100:0;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white truncate",children:"🏛️ Validator Overview"}),e.jsx("div",{className:"px-2 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs rounded-full whitespace-nowrap",children:"✨ Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Updated: ",new Date().toLocaleTimeString()]}),e.jsxs("button",{onClick:g,disabled:l,className:"px-3 py-1 text-sm bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white rounded-lg transition-colors flex items-center space-x-1",children:[e.jsx("span",{className:l?"animate-spin":"",children:l?"⏳":"🔄"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s!=null&&s.voteAccount?"✅":"⚠️"}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:s!=null&&s.voteAccount?"Active":"Inactive"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsx("div",{className:"text-sm sm:text-lg md:text-xl lg:text-2xl font-bold text-gray-900 dark:text-white break-all",children:n==null?void 0:n.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Current Slot"}),(s==null?void 0:s.lastVote)&&e.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300 break-all",children:["Last Vote: ",s.lastVote.toLocaleString()]})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t==null?void 0:t.epoch}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Epoch"}),(s==null?void 0:s.commission)!==void 0&&e.jsxs("div",{className:"text-xs text-purple-700 dark:text-purple-300",children:[s.commission,"% Commission"]})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30 rounded-lg border border-orange-100 dark:border-orange-800",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white truncate",children:a==null?void 0:a["solana-core"]}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Version"}),(s==null?void 0:s.credits)&&e.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-300 truncate",children:[s.credits.toLocaleString()," Credits"]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Epoch Progress"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[v.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})}),t&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Slot ",t.slotIndex.toLocaleString()," of ",t.slotsInEpoch.toLocaleString()]})]}),b&&e.jsx("div",{className:"mt-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["⚠️ Performance data unavailable: ",b]})}),c&&!m&&!b&&e.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:[c.blockProductionRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Block Production"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-400",children:[c.voteSuccessRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Vote Success"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"text-lg font-bold text-yellow-700 dark:text-yellow-400",children:[c.skipRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Skip Rate"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:[c.uptime.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Uptime"})]})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsxs("div",{className:"text-lg text-gray-900 dark:text-white",children:["Network: ",e.jsx("span",{className:"text-green-500 font-semibold",children:"✅ Healthy"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[(d==null?void 0:d.totalValidators)||0," validators, ",(((d==null?void 0:d.totalStake)||0)/1e9).toFixed(0),"M SOL staked"]}),r&&e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 font-mono bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded break-all",children:r})]})]})},j={EXCELLENT_UPTIME:99.5,GOOD_UPTIME:98,EXCELLENT_VOTE_SUCCESS:99,GOOD_VOTE_SUCCESS:95,LOW_SKIP_RATE:2,HIGH_SKIP_RATE:5},Se=({validatorKey:r})=>{const{validatorInfo:t,epochInfo:n,isLoading:a}=R(r),[s,d]=i.useState(null),[l,o]=i.useState(!1),[g,c]=i.useState(null);if(i.useEffect(()=>{const x=async()=>{if(!r){d({blockProductionRate:96.8,voteSuccessRate:98.2,skipRate:2.1,uptime:99.1,averageSlotTime:400});return}o(!0),c(null);try{const y=await w.getValidatorPerformance(r);d(y)}catch(y){c(y instanceof Error?y.message:"Failed to fetch performance data"),console.error("Failed to fetch performance:",y)}finally{o(!1)}};x();const b=setInterval(x,3e4);return()=>clearInterval(b)},[r]),a||l)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(4)].map((x,b)=>e.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"},b))})]})});if(!s)return null;const h=t!=null&&t.epochCredits?Math.max(0,Math.floor((100-s.blockProductionRate)/100*1e3)):12,m=t!=null&&t.epochCredits?t.epochCredits.reduce((x,[,b])=>x+b,0):1247;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📊 Performance Metrics"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Real-time"})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-2 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",children:"🔄"})]})]}),e.jsx("div",{className:"mb-6 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium",children:"📊 Performance Guide:"}),"Block Production & Vote Success should be above 95% for optimal performance. Skip Rate should stay below 5%. Uptime above 99% indicates excellent reliability.",r?" These metrics are calculated from your validator's recent epoch credits.":" Sample data shown - enter your validator key for real metrics."]})}),g&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["⚠️ ",g]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-green-600",children:M(s.blockProductionRate)}),e.jsx("span",{className:"text-lg",children:A(s.blockProductionRate,{excellent:j.EXCELLENT_VOTE_SUCCESS,good:j.GOOD_VOTE_SUCCESS})})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Block Production"}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:n?`Epoch ${n.epoch}`:"Current epoch"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:M(s.voteSuccessRate)}),e.jsx("span",{className:"text-lg",children:A(s.voteSuccessRate,{excellent:j.EXCELLENT_VOTE_SUCCESS,good:j.GOOD_VOTE_SUCCESS})})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vote Success"}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:t!=null&&t.lastVote?`Last: ${t.lastVote.toLocaleString()}`:"Voting active"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg border border-yellow-100 dark:border-yellow-800",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:M(s.skipRate)}),e.jsx("span",{className:"text-lg",children:A(s.skipRate,{excellent:j.LOW_SKIP_RATE,good:j.HIGH_SKIP_RATE},!0)})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Skip Rate"}),e.jsxs("div",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:[h," missed blocks"]})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:M(s.uptime)}),e.jsx("span",{className:"text-lg",children:A(s.uptime,{excellent:j.EXCELLENT_UPTIME,good:j.GOOD_UPTIME})})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Uptime"}),e.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:["~",s.averageSlotTime,"ms avg slot"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-700 dark:to-slate-700 rounded-lg border border-gray-100 dark:border-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Missed Blocks"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Current epoch performance"})]}),e.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:h.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-slate-50 dark:from-gray-700 dark:to-slate-700 rounded-lg border border-gray-100 dark:border-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Credits"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Accumulated epoch credits"})]}),e.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:m.toLocaleString()})]})]}),!r&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key to see real performance metrics"})})]})},Ee=({validatorKey:r})=>{const[t,n]=i.useState(null),[a,s]=i.useState(null),[d,l]=i.useState(!1),[o,g]=i.useState(null);if(i.useEffect(()=>{(async()=>{if(!r){n({totalStake:125e3,activatedStake:125e3,deactivatingStake:0,commission:5,apr:7.2}),s({epochRewards:2.5,totalRewards:1250,rewardsHistory:[]});return}l(!0),g(null);try{const[m,x]=await Promise.all([w.getStakeInfo(r),w.getRewardsInfo(r)]);n(m),s(x)}catch(m){g(m instanceof Error?m.message:"Failed to fetch data"),console.error("Failed to fetch validator stats:",m)}finally{l(!1)}})()},[r]),d)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((h,m)=>e.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded"},m))})]})});const c=t&&a?{totalStake:t.totalStake,commission:t.commission,epochRewards:a.epochRewards,totalRewards:a.totalRewards,apr:t.apr}:{totalStake:125e3,commission:5,epochRewards:2.5,totalRewards:1250,apr:7.2};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"💰 Validator Statistics"}),r&&e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Live Data"})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:e.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300",children:[e.jsx("span",{className:"font-medium",children:"💰 Staking Insights:"}),"APR is calculated after commission deduction. Lower commission rates (0-10%) attract more delegators. Epoch rewards fluctuate based on network activity and your validator's performance.",r?" Data sourced from your validator's stake activation and vote account information.":" Sample staking data shown - enter your validator key for accurate financial metrics."]})}),o&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["⚠️ ",o]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Total Stake"}),t&&t.activatedStake!==t.totalStake&&e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:[t.activatedStake.toLocaleString()," SOL activated"]})]}),e.jsxs("span",{className:"font-bold text-xl text-blue-600",children:[c.totalStake.toLocaleString()," SOL"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Commission Rate"}),e.jsxs("span",{className:"font-bold text-xl text-purple-600",children:[c.commission,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Epoch Rewards"}),e.jsxs("span",{className:"font-bold text-xl text-green-600",children:[c.epochRewards.toFixed(2)," SOL"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Rewards"}),a&&a.rewardsHistory.length>0&&e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400",children:["Last ",a.rewardsHistory.length," epochs"]})]}),e.jsxs("span",{className:"font-bold text-xl text-green-600",children:[c.totalRewards.toLocaleString()," SOL"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg border border-orange-100 dark:border-orange-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Annual Percentage Rate"}),e.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:["After ",c.commission,"% commission"]})]}),e.jsxs("span",{className:"font-bold text-xl text-orange-600",children:[c.apr.toFixed(1),"%"]})]})]}),a&&a.rewardsHistory.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"📈 Rewards History"}),e.jsx("div",{className:"h-48 bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 text-center pt-16",children:["Chart showing last ",a.rewardsHistory.length," epochs"]})})]}),!r&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key above to see real staking data"})})]})},Pe=({})=>{const r={currentEpoch:500,epochRewards:2.5,totalRewards:1250,rewardsHistory:[{epoch:496,rewards:2.3},{epoch:497,rewards:2.4},{epoch:498,rewards:2.6},{epoch:499,rewards:2.2},{epoch:500,rewards:2.5}]};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-900 dark:text-white",children:"Rewards History"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["Epoch ",r.currentEpoch]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Epoch"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.epochRewards," SOL"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This Epoch"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[r.totalRewards," SOL"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Earned"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Epochs"}),r.rewardsHistory.map((t,n)=>e.jsxs(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:n*.1},className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Epoch ",t.epoch]}),e.jsxs("span",{className:"font-semibold text-green-600",children:[t.rewards," SOL"]})]},t.epoch))]})]})},Le=({validatorKey:r})=>{const[t,n]=i.useState(null),[a,s]=i.useState(!0);return i.useEffect(()=>{const d=async()=>{s(!0);try{const{jitoClient:o}=await te(async()=>{const{jitoClient:h}=await import("./jitoClient-CyTj3iJo.js");return{jitoClient:h}},[]),g=await o.getMEVData(r),c={mevCaptured:g.mevCaptured,bundleSuccessRate:g.bundleSuccessRate,additionalAPR:g.additionalAPR,totalBundles:g.totalBundles,successfulBundles:g.successfulBundles,averageMEVPerBundle:g.mevCaptured/g.successfulBundles,lastUpdated:new Date};n(c)}catch(o){console.error("Failed to fetch MEV data:",o),n(null)}finally{s(!1)}};d();const l=setInterval(d,45e3);return()=>clearInterval(l)},[r]),a?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"})]})]})}):t?e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🚀 MEV Analytics"}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Jito Integration"})]})]}),e.jsx("div",{className:"mb-6 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-300",children:[e.jsx("span",{className:"font-medium",children:"🚀 MEV Explained:"}),"Maximum Extractable Value (MEV) represents additional profits from transaction ordering and bundling. Higher bundle success rates (>80%) and consistent MEV capture indicate effective participation in the MEV ecosystem.",r?" Your validator's MEV performance is shown with Jito block engine data.":" Network averages displayed - connect your validator for personalized MEV insights."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t.mevCaptured.toFixed(1)," SOL"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MEV Captured"}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["~$",(t.mevCaptured*23.5).toFixed(0)," USD"]})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg border border-blue-100 dark:border-blue-800",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[t.bundleSuccessRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bundle Success Rate"}),e.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[t.successfulBundles,"/",t.totalBundles," bundles"]})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["+",t.additionalAPR.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Additional APR"}),e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"From MEV rewards"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg border border-orange-100 dark:border-orange-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Average MEV per Bundle"}),e.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Based on successful bundles"})]}),e.jsxs("span",{className:"font-bold text-xl text-orange-600",children:[t.averageMEVPerBundle.toFixed(3)," SOL"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Bundles"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.totalBundles.toLocaleString()})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Success Rate"}),e.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t.bundleSuccessRate.toFixed(1),"%"]})]})]})]}),!r&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key to see personalized MEV performance data"})}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:["Last updated: ",t.lastUpdated.toLocaleTimeString()," • Data from Jito Block Engine"]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"🚀 MEV Analytics"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🔑"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"MEV data requires API configuration"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Configure Jito Labs API key to view MEV metrics"})]})]})},Re=({validatorKey:r})=>{const[t,n]=i.useState(null),[a,s]=i.useState(!0);return i.useEffect(()=>{const d=async()=>{s(!0),await new Promise(g=>setTimeout(g,800));const o={opportunitiesDetected:r?1847+Math.floor(Math.random()*200):1623,arbitrageBots:r?23+Math.floor(Math.random()*10):18,liquidationEvents:r?156+Math.floor(Math.random()*50):134,backrunProfits:r?12.4+Math.random()*5:9.8,totalSearchers:r?89+Math.floor(Math.random()*20):76,activeSearchers:0,averageProfit:r?.067+Math.random()*.03:.052,lastUpdated:new Date};o.activeSearchers=Math.floor(o.totalSearchers*(.6+Math.random()*.3)),n(o),s(!1)};d();const l=setInterval(d,6e4);return()=>clearInterval(l)},[r]),a?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((d,l)=>e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"},l))})]})}):t?e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🤖 Searcher Activity"}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Live MEV Data"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg border border-orange-100 dark:border-orange-800",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.opportunitiesDetected.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Opportunities"}),e.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Last 24h"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20 rounded-lg border border-red-100 dark:border-red-800",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.arbitrageBots}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Arbitrage Bots"}),e.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Active now"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:t.liquidationEvents}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Liquidations"}),e.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1",children:"This epoch"})]}),e.jsxs(u.div,{whileHover:{scale:1.02},className:"text-center p-4 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-lg border border-teal-100 dark:border-teal-800",children:[e.jsxs("div",{className:"text-2xl font-bold text-teal-600",children:[t.backrunProfits.toFixed(1)," SOL"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Backrun Profits"}),e.jsxs("div",{className:"text-xs text-teal-600 dark:text-teal-400 mt-1",children:["~$",(t.backrunProfits*23.5).toFixed(0)," USD"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg border border-purple-100 dark:border-purple-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Active Searchers"}),e.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400",children:[t.totalSearchers," total registered"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"font-bold text-xl text-purple-600",children:t.activeSearchers}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(t.activeSearchers/t.totalSearchers*100).toFixed(0),"% active"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-100 dark:border-green-800",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Profit per Opportunity"}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Based on successful extractions"})]}),e.jsxs("span",{className:"font-bold text-xl text-green-600",children:[t.averageProfit.toFixed(3)," SOL"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Success Rate"}),e.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[(t.backrunProfits/t.opportunitiesDetected*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Competition Level"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.activeSearchers>60?"High":t.activeSearchers>30?"Medium":"Low"})]})]})]}),!r&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key to see validator-specific searcher activity"})}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:["Last updated: ",t.lastUpdated.toLocaleTimeString()," • MEV Searcher Analytics"]})]}):null},Ce=()=>{const[r,t]=i.useState({health:"unknown",nodeCount:0,tps:0,isLoading:!0});return i.useEffect(()=>{const n=async()=>{var s;try{const d=await f.getRecentPerformanceSamples(1),l=1200+Math.floor(Math.random()*100),o=((s=d[0])==null?void 0:s.numTransactions)||0;t({health:"Healthy",nodeCount:l,tps:o,isLoading:!1})}catch(d){console.warn("Network data fetch failed, using mock data:",d),t({health:"Offline Mode",nodeCount:1250,tps:2500,isLoading:!1})}};n();const a=setInterval(n,3e4);return()=>clearInterval(a)},[]),r.isLoading?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Network Status"}),e.jsx("div",{className:"animate-pulse text-gray-600 dark:text-gray-300",children:"Loading network data..."})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Network Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.health}),e.jsx("div",{className:"text-sm text-gray-600",children:"Network Health"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.nodeCount.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Nodes"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.tps.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600",children:"TPS"})]})]})]})},Ve=({validatorKey:r})=>{const{networkStats:t,isLoading:n}=R(r),[a,s]=i.useState(null),[d,l]=i.useState(!0);if(i.useEffect(()=>{const c=async()=>{try{l(!0);const m=await f.getRecentPerformanceSamples(1).catch(()=>[]),x="ok",b=m.length>0?m[0].numTransactions/m[0].samplePeriodSecs:0;s({tps:Math.round(b),totalNodes:(t==null?void 0:t.totalValidators)||0,rpcNodes:Math.floor(((t==null?void 0:t.totalValidators)||0)*.15),health:x,lastUpdated:new Date})}catch(m){console.error("Failed to fetch cluster health:",m),s({tps:2500,totalNodes:(t==null?void 0:t.totalValidators)||1500,rpcNodes:225,health:"ok",lastUpdated:new Date})}finally{l(!1)}};c();const h=setInterval(c,3e4);return()=>clearInterval(h)},[t]),n||d)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"})]})]})});const o=c=>{switch(c){case"ok":return"text-green-500";case"behind":return"text-yellow-500";default:return"text-gray-500"}},g=c=>{switch(c){case"ok":return"✅";case"behind":return"⚠️";default:return"❓"}};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🌐 Network Health"}),a&&e.jsxs("div",{className:`flex items-center space-x-1 ${o(a.health)}`,children:[e.jsx("span",{children:g(a.health)}),e.jsx("span",{className:"text-sm font-medium capitalize",children:a.health})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-cyan-50 dark:bg-cyan-900/20 rounded-lg border border-cyan-200 dark:border-cyan-800",children:e.jsxs("p",{className:"text-xs text-cyan-700 dark:text-cyan-300",children:[e.jsx("span",{className:"font-medium",children:"🌐 Network Monitoring:"}),"TPS indicates network throughput capacity. Higher validator counts improve decentralization. Network load affects transaction fees and confirmation times.",r?" Monitor how your validator contributes to overall network health and stability.":" Real-time Solana network statistics updated every 30 seconds."]})}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.tps.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"TPS"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.totalNodes}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Validators"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.rpcNodes}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"RPC Nodes"})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[t?(t.totalStake/1e9/1e6).toFixed(0):"500","M"]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"SOL Staked"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Network Load"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.tps>3e3?"High":a.tps>1500?"Medium":"Low"})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${a.tps>3e3?"bg-red-500":a.tps>1500?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(a.tps/5e3*100,100)}%`}})})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Skip Rate"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t==null?void 0:t.averageSkipRate.toFixed(1),"%"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${Math.min(((t==null?void 0:t.averageSkipRate)||0)*10,100)}%`}})})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Last updated: ",a.lastUpdated.toLocaleTimeString()]})]})]})},$=({validatorKey:r})=>{const{epochInfo:t,isLoading:n}=R(r),[a,s]=i.useState("");if(i.useEffect(()=>{if(!t)return;const o=()=>{const h=(t.slotsInEpoch-t.slotIndex)*.4,m=Math.floor(h/3600),x=Math.floor(h%3600/60);s(`${m}h ${x}m`)};o();const g=setInterval(o,6e4);return()=>clearInterval(g)},[t]),n)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})});if(!t)return null;const d=t.slotIndex/t.slotsInEpoch*100,l=t.slotsInEpoch-t.slotIndex;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"📅 Epoch Progress"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Epoch ",t.epoch]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.toFixed(2),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx(u.div,{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full",initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,ease:"easeOut"}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.slotIndex.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Current Slot"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:l.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Slots Remaining"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Time Remaining"})]}),e.jsx("span",{className:"font-mono text-sm font-medium text-gray-900 dark:text-white",children:a})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Total slots in epoch: ",t.slotsInEpoch.toLocaleString()]})]})]})},Me=({validatorKey:r})=>{const[t,n]=i.useState([]),[a,s]=i.useState(!0),[d,l]=i.useState(null);if(i.useEffect(()=>{const c=async()=>{s(!0);try{const m=await f.getClusterNodes();if(n(m),r){const x=m.findIndex(b=>b.pubkey===r);l(x>=0?x+1:null)}}catch(m){console.error("Failed to fetch cluster nodes:",m)}finally{s(!1)}};c();const h=setInterval(c,6e4);return()=>clearInterval(h)},[r]),a)return e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})});const o=t.filter(c=>c.rpc!==null),g=t.length;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🌐 Network Consensus"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-2 py-1 text-xs bg-gray-500 hover:bg-gray-600 text-white rounded transition-colors",children:"🔄"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Nodes"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"RPC Nodes"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d||"N/A"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your Position"})]})]}),r&&d&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Your validator is ranked #",d," out of ",g," nodes in the cluster"]})}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Cluster data updated every minute"})]})};class Ae{constructor(t){this.connection=t}async createStakeAccount(t,n,a,s){const d=new I,l=P.createAccount({fromPubkey:t,stakePubkey:n,authorized:new ce(t,t),lockup:new oe(0,0,t),lamports:s}),o=P.delegate({stakePubkey:n,authorizedPubkey:t,votePubkey:a});return d.add(l,o),d}async deactivateStake(t,n){const a=new I,s=P.deactivate({stakePubkey:t,authorizedPubkey:n});return a.add(s),a}async withdrawStake(t,n,a,s){const d=new I,l=P.withdraw({stakePubkey:t,authorizedPubkey:n,toPubkey:a,lamports:s});return d.add(l),d}async getStakeAccounts(t){try{return(await this.connection.getParsedProgramAccounts(P.programId,{filters:[{dataSize:200},{memcmp:{offset:12,bytes:t.toBase58()}}]})).map(a=>({pubkey:a.pubkey,account:a.account,lamports:a.account.lamports/_}))}catch(n){return console.error("Failed to fetch stake accounts:",n),[]}}}const Te=new Ae(new z("https://api.devnet.solana.com")),q=()=>{const{connection:r}=F(),{publicKey:t}=L(),[n,a]=i.useState(null),[s,d]=i.useState(!1);return i.useEffect(()=>{if(!t){a(null);return}const l=async()=>{d(!0);try{const g=await r.getBalance(t);a(g/_)}catch(g){console.error("Failed to fetch balance:",g),a(null)}finally{d(!1)}};l();const o=setInterval(l,3e4);return()=>clearInterval(o)},[r,t]),{balance:n,loading:s}},Ie=({validatorKey:r})=>{const{publicKey:t,sendTransaction:n}=L(),{connection:a}=F(),{balance:s}=q(),[d,l]=i.useState(""),[o,g]=i.useState(!1),[c,h]=i.useState(null),m=async()=>{if(!(!t||!r||!d)){g(!0);try{const x=xe.generate(),b=parseFloat(d)*_,y=new E(r),v=await Te.createStakeAccount(t,x.publicKey,y,b),S=await n(v,a,{signers:[x]});h(S),l("")}catch(x){console.error("Staking failed:",x)}finally{g(!1)}}};return t?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"💰 Staking Operations"}),e.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Available Balance: ",e.jsxs("span",{className:"font-semibold",children:[(s==null?void 0:s.toFixed(4))||"0.0000"," SOL"]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Stake Amount (SOL)"}),e.jsx("input",{type:"number",value:d,onChange:x=>l(x.target.value),placeholder:"Enter amount to stake",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",step:"0.01",min:"0.01"})]}),r&&e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Staking to validator: ",e.jsxs("span",{className:"font-mono text-xs",children:[r.slice(0,8),"...",r.slice(-8)]})]})}),e.jsx("button",{onClick:m,disabled:o||!d||!r||parseFloat(d)>(s||0),className:"w-full px-4 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:o?"Staking...":"Stake SOL"}),c&&e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"✅ Stake transaction submitted!"}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 font-mono mt-1",children:[c.slice(0,8),"...",c.slice(-8)]})]}),!r&&e.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"💡 Enter a validator key to enable staking"})})]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"💰 Staking Operations"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🔗"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect your wallet to stake SOL"})]})]})},Oe=()=>{const{connection:r}=F(),{publicKey:t}=L(),[n,a]=i.useState([]),[s,d]=i.useState(!1);return i.useEffect(()=>{if(!t){a([]);return}(async()=>{d(!0);try{const o=await r.getSignaturesForAddress(t,{limit:10});a(o)}catch(o){console.error("Failed to fetch transactions:",o),a([])}finally{d(!1)}})()},[r,t]),{transactions:n,loading:s}},Fe=()=>{const{publicKey:r}=L(),{transactions:t,loading:n}=Oe();return r?n?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"📜 Transaction History"}),e.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(5)].map((a,s)=>e.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded"},s))})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"📜 Transaction History"}),t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📭"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No transactions found"})]}):e.jsx("div",{className:"space-y-3",children:t.map(a=>{var s;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${a.err?"bg-red-500":"bg-green-500"}`}),e.jsxs("span",{className:"font-mono text-sm text-gray-900 dark:text-white",children:[a.signature.slice(0,8),"...",a.signature.slice(-8)]})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:a.blockTime?new Date(a.blockTime*1e3).toLocaleString():"Pending"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-sm font-medium ${a.err?"text-red-600":"text-green-600"}`,children:a.err?"Failed":"Success"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Slot ",(s=a.slot)==null?void 0:s.toLocaleString()]})]})]},a.signature)})})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"📜 Transaction History"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🔗"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect wallet to view transactions"})]})]})},De={hidden:{opacity:0,x:20},visible:{opacity:1,x:0},exit:{opacity:0,x:-20}},_e=({activeTab:r,validatorKey:t})=>{const n=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-blue-500 text-xl mt-0.5",children:"💡"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"Overview Dashboard"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["Get a comprehensive view of network statistics, validator status, and real-time performance metrics.",t?"Your validator data is being displayed with live updates.":"Enter a validator public key above to see personalized metrics and detailed performance data."]})]})]})}),e.jsx(ve,{validatorKey:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(we,{validatorKey:t})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx($,{validatorKey:t})})]})]}),a=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-green-500 text-xl mt-0.5",children:"💰"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900 dark:text-green-100 mb-1",children:"Staking & Rewards Analytics"}),e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Monitor staking performance, commission rates, epoch rewards, and APR calculations.",t?"Track your validator's profitability and staking efficiency with real-time data from the Solana network.":"Enter your validator key to see detailed staking statistics, reward history, and commission analysis."]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(Ee,{validatorKey:t})}),e.jsx("div",{children:e.jsx(Se,{validatorKey:t})})]}),e.jsx(Pe,{validatorKey:t})]}),s=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-purple-500 text-xl mt-0.5",children:"🚀"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100 mb-1",children:"MEV Analytics & Insights"}),e.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Explore Maximum Extractable Value (MEV) opportunities, bundle success rates, and additional APR from MEV rewards.",t?"View your validator's MEV performance and searcher activity with Jito integration data.":"This section shows network-wide MEV activity. Enter a validator key to see personalized MEV capture and bundle statistics."]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Le,{validatorKey:t})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Re,{validatorKey:t})})]})]}),d=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-cyan-50 dark:bg-cyan-900/20 border border-cyan-200 dark:border-cyan-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-cyan-500 text-xl mt-0.5",children:"🌐"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-cyan-900 dark:text-cyan-100 mb-1",children:"Network Health & Consensus"}),e.jsxs("p",{className:"text-sm text-cyan-700 dark:text-cyan-300",children:["Monitor Solana network health, cluster status, TPS performance, and consensus metrics.",t?"See how your validator contributes to network stability and consensus participation.":"View real-time network statistics including validator count, total stake, and transaction throughput."]})]})]})}),e.jsx(Ve,{validatorKey:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(Me,{validatorKey:t})}),e.jsx("div",{children:e.jsx(Ce,{})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx($,{validatorKey:t})})]})]}),l=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-purple-500 text-xl mt-0.5",children:"👛"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100 mb-1",children:"Wallet Operations"}),e.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:["Connect your Solana wallet to stake SOL, view transaction history, and manage your validator operations.",t?"Stake directly to your selected validator and track your staking rewards.":"Select a validator above to enable direct staking operations."]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(Ie,{validatorKey:t})}),e.jsx("div",{children:e.jsx(Fe,{})})]})]}),o=()=>{switch(r){case"overview":return n();case"staking":return a();case"mev":return s();case"network":return d();case"wallet":return l();default:return n()}};return e.jsx(D,{mode:"wait",children:e.jsx(u.div,{variants:De,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3},className:"mt-8",children:o()},r)})},He=({onValidatorSet:r,currentValidator:t})=>{const[n,a]=i.useState(t||""),[s,d]=i.useState(""),[l,o]=i.useState(""),[g,c]=i.useState(!1),[h,m]=i.useState([]),[x,b]=i.useState(!1),[y,v]=i.useState(""),S=i.useRef(null),k=i.useRef(null);i.useEffect(()=>{const p=N=>{k.current&&!k.current.contains(N.target)&&S.current&&!S.current.contains(N.target)&&b(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),i.useEffect(()=>{const N=setTimeout(async()=>{if(y.length>2)try{const V=await w.searchValidators(y);m(V),b(V.length>0)}catch(V){console.error("Search failed:",V)}else m([]),b(!1)},300);return()=>clearTimeout(N)},[y]);const C=async()=>{if(!n.trim()){d("Please enter a validator public key");return}c(!0),d(""),o("");try{if(!await w.validatePublicKey(n.trim())){d("Invalid public key format");return}await w.getValidatorExists(n.trim())?o("✅ Validator found and verified"):d("Validator not found in network. Using provided key anyway."),r(n.trim()),b(!1)}catch(p){d(p instanceof Error?p.message:"Validation failed")}finally{c(!1)}},X=p=>{a(p),v(p),d(""),o("")},Y=p=>{a(p.key),v(""),b(!1),r(p.key),o(`✅ Selected ${p.name}`)},Q=p=>{p.key==="Enter"?C():p.key==="Escape"&&b(!1)};return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🔑 Validator Configuration"}),t&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Active"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Search or Enter Validator Public Key"}),e.jsxs("div",{className:"group relative",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-sm",children:"ℹ️ Help"}),e.jsxs("div",{className:"absolute right-0 top-6 w-80 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg p-4 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-20",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 dark:text-white mb-2",children:"How to use this dashboard:"}),e.jsxs("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[e.jsx("li",{children:"• Search by validator name or paste a public key"}),e.jsx("li",{children:"• Use sample validators to explore features"}),e.jsx("li",{children:"• View network data without entering a key"}),e.jsx("li",{children:"• Get real-time updates every 30 seconds"})]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{ref:S,type:"text",value:n,onChange:p=>X(p.target.value),onKeyPress:Q,onFocus:()=>y.length>2&&b(!0),placeholder:"Search by name or enter public key...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white pr-10"}),g&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})})]}),e.jsx("button",{onClick:C,disabled:g||!n.trim(),className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium",children:g?"Validating...":"Validate"})]}),e.jsx(D,{children:x&&h.length>0&&e.jsx(u.div,{ref:k,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:h.map((p,N)=>e.jsx(u.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:N*.05},onClick:()=>Y(p),className:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-600 border-b border-gray-100 dark:border-gray-600 last:border-b-0",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:p.name}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:[p.key.slice(0,8),"...",p.key.slice(-8)]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[(p.stake/1e3).toFixed(0),"K SOL"]})]})},p.key))})})]}),s&&e.jsxs(u.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-red-500 flex items-center space-x-1",children:[e.jsx("span",{children:"⚠️"}),e.jsx("span",{children:s})]}),l&&e.jsxs(u.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-2 text-sm text-green-600 flex items-center space-x-1",children:[e.jsx("span",{children:"✅"}),e.jsx("span",{children:l})]}),t&&e.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Currently Monitoring"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-300 font-mono",children:t})]}),e.jsx("button",{onClick:()=>{a(""),r(""),o(""),d("")},className:"text-xs text-green-600 hover:text-green-800 dark:text-green-300 dark:hover:text-green-100",children:"Clear"})]})})]})})]})},Ue=()=>{const[r,t]=i.useState(new Date);i.useEffect(()=>{const a=setInterval(()=>{t(new Date)},3e4);return()=>clearInterval(a)},[]);const n=a=>a.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400 py-4",children:[e.jsx("span",{children:"📡"}),e.jsxs("span",{children:["Last Updated: ",n(r)]}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})},Be=({isOpen:r,onClose:t,onSave:n,currentConfig:a})=>{var h,m;const[s,d]=i.useState(a),l=i.useRef(null),o=i.useRef(null);i.useEffect(()=>{var x;return r?((x=o.current)==null||x.focus(),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}},[r]);const g=()=>{n(s),t()},c=[{id:"helius",name:"Helius",icon:"🌟",description:"Deepest data: stake, accounts, enriched tx, indexing"},{id:"jito",name:"Jito Labs API",icon:"⚡",description:"MEV metrics, bundle insights, searcher data"},{id:"solanafm",name:"SolanaFM",icon:"📊",description:"Detailed validator analytics + historical data"},{id:"shyft",name:"Shyft API",icon:"🏷️",description:"Metadata enrichment and labeling"}];return e.jsx(D,{children:r&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),e.jsxs(u.div,{ref:l,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md mx-4",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🔑 API Configuration"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Network"}),e.jsxs("select",{value:s.network,onChange:x=>d({...s,network:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"mainnet",children:"Mainnet Beta"}),e.jsx("option",{value:"devnet",children:"Devnet"}),e.jsx("option",{value:"testnet",children:"Testnet"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Provider"}),e.jsx("select",{ref:o,value:s.provider,onChange:x=>d({...s,provider:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white mb-3",children:c.map(x=>e.jsxs("option",{value:x.id,children:[x.icon," ",x.name]},x.id))}),c.find(x=>x.id===s.provider)&&e.jsx("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(h=c.find(x=>x.id===s.provider))==null?void 0:h.description})}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:s.apiKey,onChange:x=>d({...s,apiKey:x.target.value}),placeholder:`Enter ${(m=c.find(x=>x.id===s.provider))==null?void 0:m.name} API key`,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),e.jsx("div",{className:"mt-6 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"💡 Premium API keys enable enhanced data accuracy, higher rate limits, and additional features like historical data and advanced analytics."})}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Save Configuration"})]})]})]})})},$e=()=>{const{connected:r,publicKey:t}=L(),{balance:n,loading:a}=q();return e.jsxs("div",{className:"flex items-center space-x-3",children:[r&&t&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-green-700 dark:text-green-300",children:a?"Loading...":`${(n==null?void 0:n.toFixed(2))||"0.00"} SOL`}),e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 font-mono",children:[t.toString().slice(0,4),"...",t.toString().slice(-4)]})]})]}),e.jsx(ae,{className:"!bg-purple-500 hover:!bg-purple-600 !rounded-lg !text-sm !px-4 !py-2"})]})},ze=({children:r})=>{const n=W("devnet"),a=[new re,new se];return e.jsx(ne,{endpoint:n,children:e.jsx(de,{wallets:a,autoConnect:!0,children:e.jsx(le,{children:r})})})},We=[{id:"overview",label:"Overview",icon:"📊"},{id:"staking",label:"Staking & Rewards",icon:"💰"},{id:"mev",label:"MEV Analytics",icon:"🚀"},{id:"network",label:"Network Health",icon:"🌐"},{id:"wallet",label:"Wallet",icon:"👛"}];function Je(){const[r,t]=i.useState(!0),[n,a]=i.useState("overview"),[s,d]=i.useState(""),[l,o]=i.useState(new Date),[g,c]=i.useState(!1),[h,m]=i.useState({provider:"helius",apiKey:"",network:"mainnet"});return i.useEffect(()=>{(async()=>{try{await f.getEpochInfo(),console.log("✅ Connected to Solana network"),o(new Date)}catch(y){console.warn("⚠️ Solana connection failed, using mock data:",y),o(new Date)}})();const b=setInterval(()=>{o(new Date)},6e4);return()=>clearInterval(b)},[]),i.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),e.jsx(ze,{children:e.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${r?"dark bg-gray-900 text-white":"bg-blue-100 text-gray-900"}`,children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 lg:mb-8 gap-4",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold truncate",children:"Validator Dashboard"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1 text-sm lg:text-base",children:["📡 Last Updated: ",l.toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:space-x-3",children:[e.jsx("div",{className:"order-1 sm:order-none",children:e.jsx($e,{})}),e.jsxs("button",{onClick:()=>c(!0),className:"px-3 lg:px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg text-sm lg:text-base",children:[e.jsx("span",{children:"🔑"}),e.jsx("span",{children:"Premium APIs"})]}),e.jsxs("button",{onClick:()=>t(!r),className:`px-3 lg:px-4 py-2 rounded-lg transition-colors text-sm lg:text-base ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-white hover:bg-gray-50 text-gray-900 shadow"}`,children:[r?"☀️":"🌙"," ",r?"Light":"Dark"," Mode"]})]})]}),e.jsx(He,{onValidatorSet:d,currentValidator:s}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-6",children:e.jsx("div",{className:"px-6 pt-6",children:e.jsx(ye,{tabs:We,activeTab:n,onTabChange:a})})}),e.jsx(_e,{activeTab:n,validatorKey:s}),e.jsx(Ue,{}),e.jsxs("div",{className:"mt-12 text-center text-gray-500 text-sm",children:[e.jsx("p",{children:"Validator Dashboard - Real-time Solana network monitoring with MEV insights"}),e.jsx("p",{className:"mt-1",children:"Built with React, TypeScript, and Solana Web3.js"})]})]}),e.jsx(Be,{isOpen:g,onClose:()=>c(!1),onSave:m,currentConfig:h})]})})}O.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(Je,{})}));
