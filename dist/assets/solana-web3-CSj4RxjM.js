var Nc=Object.defineProperty;var Fc=(n,t,e)=>t in n?Nc(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var le=(n,t,e)=>Fc(n,typeof t!="symbol"?t+"":t,e);var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Zn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function fs(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),e}var ot={},Yn={};Yn.byteLength=Dc;Yn.toByteArray=qc;Yn.fromByteArray=Hc;var Ze=[],Fe=[],zc=typeof Uint8Array<"u"?Uint8Array:Array,Ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var zr=0,Kc=Ti.length;zr<Kc;++zr)Ze[zr]=Ti[zr],Fe[Ti.charCodeAt(zr)]=zr;Fe[45]=62;Fe[95]=63;function $o(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=t);var r=e===t?0:4-e%4;return[e,r]}function Dc(n){var t=$o(n),e=t[0],r=t[1];return(e+r)*3/4-r}function Wc(n,t,e){return(t+e)*3/4-e}function qc(n){var t,e=$o(n),r=e[0],s=e[1],i=new zc(Wc(n,r,s)),o=0,c=s>0?r-4:r,h;for(h=0;h<c;h+=4)t=Fe[n.charCodeAt(h)]<<18|Fe[n.charCodeAt(h+1)]<<12|Fe[n.charCodeAt(h+2)]<<6|Fe[n.charCodeAt(h+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=Fe[n.charCodeAt(h)]<<2|Fe[n.charCodeAt(h+1)]>>4,i[o++]=t&255),s===1&&(t=Fe[n.charCodeAt(h)]<<10|Fe[n.charCodeAt(h+1)]<<4|Fe[n.charCodeAt(h+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function $c(n){return Ze[n>>18&63]+Ze[n>>12&63]+Ze[n>>6&63]+Ze[n&63]}function Vc(n,t,e){for(var r,s=[],i=t;i<e;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),s.push($c(r));return s.join("")}function Hc(n){for(var t,e=n.length,r=e%3,s=[],i=16383,o=0,c=e-r;o<c;o+=i)s.push(Vc(n,o,o+i>c?c:o+i));return r===1?(t=n[e-1],s.push(Ze[t>>2]+Ze[t<<4&63]+"==")):r===2&&(t=(n[e-2]<<8)+n[e-1],s.push(Ze[t>>10]+Ze[t>>4&63]+Ze[t<<2&63]+"=")),s.join("")}var ls={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ls.read=function(n,t,e,r,s){var i,o,c=s*8-r-1,h=(1<<c)-1,w=h>>1,E=-7,_=e?s-1:0,A=e?-1:1,S=n[t+_];for(_+=A,i=S&(1<<-E)-1,S>>=-E,E+=c;E>0;i=i*256+n[t+_],_+=A,E-=8);for(o=i&(1<<-E)-1,i>>=-E,E+=r;E>0;o=o*256+n[t+_],_+=A,E-=8);if(i===0)i=1-w;else{if(i===h)return o?NaN:(S?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-w}return(S?-1:1)*o*Math.pow(2,i-r)};ls.write=function(n,t,e,r,s,i){var o,c,h,w=i*8-s-1,E=(1<<w)-1,_=E>>1,A=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=r?0:i-1,B=r?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,o=E):(o=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-o))<1&&(o--,h*=2),o+_>=1?t+=A/h:t+=A*Math.pow(2,1-_),t*h>=2&&(o++,h/=2),o+_>=E?(c=0,o=E):o+_>=1?(c=(t*h-1)*Math.pow(2,s),o=o+_):(c=t*Math.pow(2,_-1)*Math.pow(2,s),o=0));s>=8;n[e+S]=c&255,S+=B,c/=256,s-=8);for(o=o<<s|c,w+=s;w>0;n[e+S]=o&255,S+=B,o/=256,w-=8);n[e+S-B]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=Yn,e=ls,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=c,n.SlowBuffer=K,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const g=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(g,u),g.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function o(g){if(g>s)throw new RangeError('The value "'+g+'" is invalid for option "size"');const u=new Uint8Array(g);return Object.setPrototypeOf(u,c.prototype),u}function c(g,u,l){if(typeof g=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(g)}return h(g,u,l)}c.poolSize=8192;function h(g,u,l){if(typeof g=="string")return A(g,u);if(ArrayBuffer.isView(g))return B(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(Le(g,ArrayBuffer)||g&&Le(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(g,SharedArrayBuffer)||g&&Le(g.buffer,SharedArrayBuffer)))return T(g,u,l);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=g.valueOf&&g.valueOf();if(k!=null&&k!==g)return c.from(k,u,l);const M=P(g);if(M)return M;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return c.from(g[Symbol.toPrimitive]("string"),u,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}c.from=function(g,u,l){return h(g,u,l)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function w(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function E(g,u,l){return w(g),g<=0?o(g):u!==void 0?typeof l=="string"?o(g).fill(u,l):o(g).fill(u):o(g)}c.alloc=function(g,u,l){return E(g,u,l)};function _(g){return w(g),o(g<0?0:C(g)|0)}c.allocUnsafe=function(g){return _(g)},c.allocUnsafeSlow=function(g){return _(g)};function A(g,u){if((typeof u!="string"||u==="")&&(u="utf8"),!c.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const l=N(g,u)|0;let k=o(l);const M=k.write(g,u);return M!==l&&(k=k.slice(0,M)),k}function S(g){const u=g.length<0?0:C(g.length)|0,l=o(u);for(let k=0;k<u;k+=1)l[k]=g[k]&255;return l}function B(g){if(Le(g,Uint8Array)){const u=new Uint8Array(g);return T(u.buffer,u.byteOffset,u.byteLength)}return S(g)}function T(g,u,l){if(u<0||g.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<u+(l||0))throw new RangeError('"length" is outside of buffer bounds');let k;return u===void 0&&l===void 0?k=new Uint8Array(g):l===void 0?k=new Uint8Array(g,u):k=new Uint8Array(g,u,l),Object.setPrototypeOf(k,c.prototype),k}function P(g){if(c.isBuffer(g)){const u=C(g.length)|0,l=o(u);return l.length===0||g.copy(l,0,0,u),l}if(g.length!==void 0)return typeof g.length!="number"||Ot(g.length)?o(0):S(g);if(g.type==="Buffer"&&Array.isArray(g.data))return S(g.data)}function C(g){if(g>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return g|0}function K(g){return+g!=g&&(g=0),c.alloc(+g)}c.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==c.prototype},c.compare=function(u,l){if(Le(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),Le(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(u)||!c.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===l)return 0;let k=u.length,M=l.length;for(let L=0,F=Math.min(k,M);L<F;++L)if(u[L]!==l[L]){k=u[L],M=l[L];break}return k<M?-1:M<k?1:0},c.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(u,l){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return c.alloc(0);let k;if(l===void 0)for(l=0,k=0;k<u.length;++k)l+=u[k].length;const M=c.allocUnsafe(l);let L=0;for(k=0;k<u.length;++k){let F=u[k];if(Le(F,Uint8Array))L+F.length>M.length?(c.isBuffer(F)||(F=c.from(F)),F.copy(M,L)):Uint8Array.prototype.set.call(M,F,L);else if(c.isBuffer(F))F.copy(M,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=F.length}return M};function N(g,u){if(c.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||Le(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const l=g.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&l===0)return 0;let M=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return Ut(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return Nt(g).length;default:if(M)return k?-1:Ut(g).length;u=(""+u).toLowerCase(),M=!0}}c.byteLength=N;function H(g,u,l){let k=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,u>>>=0,l<=u))return"";for(g||(g="utf8");;)switch(g){case"hex":return I(this,u,l);case"utf8":case"utf-8":return a(this,u,l);case"ascii":return b(this,u,l);case"latin1":case"binary":return v(this,u,l);case"base64":return y(this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,u,l);default:if(k)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),k=!0}}c.prototype._isBuffer=!0;function Q(g,u,l){const k=g[u];g[u]=g[l],g[l]=k}c.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<u;l+=2)Q(this,l,l+1);return this},c.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<u;l+=4)Q(this,l,l+3),Q(this,l+1,l+2);return this},c.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<u;l+=8)Q(this,l,l+7),Q(this,l+1,l+6),Q(this,l+2,l+5),Q(this,l+3,l+4);return this},c.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?a(this,0,u):H.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(u){if(!c.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:c.compare(this,u)===0},c.prototype.inspect=function(){let u="";const l=n.INSPECT_MAX_BYTES;return u=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(u+=" ... "),"<Buffer "+u+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(u,l,k,M,L){if(Le(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),!c.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(l===void 0&&(l=0),k===void 0&&(k=u?u.length:0),M===void 0&&(M=0),L===void 0&&(L=this.length),l<0||k>u.length||M<0||L>this.length)throw new RangeError("out of range index");if(M>=L&&l>=k)return 0;if(M>=L)return-1;if(l>=k)return 1;if(l>>>=0,k>>>=0,M>>>=0,L>>>=0,this===u)return 0;let F=L-M,pt=k-l;const dt=Math.min(F,pt),ht=this.slice(M,L),Lt=u.slice(l,k);for(let ut=0;ut<dt;++ut)if(ht[ut]!==Lt[ut]){F=ht[ut],pt=Lt[ut];break}return F<pt?-1:pt<F?1:0};function it(g,u,l,k,M){if(g.length===0)return-1;if(typeof l=="string"?(k=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,Ot(l)&&(l=M?0:g.length-1),l<0&&(l=g.length+l),l>=g.length){if(M)return-1;l=g.length-1}else if(l<0)if(M)l=0;else return-1;if(typeof u=="string"&&(u=c.from(u,k)),c.isBuffer(u))return u.length===0?-1:ft(g,u,l,k,M);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?M?Uint8Array.prototype.indexOf.call(g,u,l):Uint8Array.prototype.lastIndexOf.call(g,u,l):ft(g,[u],l,k,M);throw new TypeError("val must be string, number or Buffer")}function ft(g,u,l,k,M){let L=1,F=g.length,pt=u.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(g.length<2||u.length<2)return-1;L=2,F/=2,pt/=2,l/=2}function dt(Lt,ut){return L===1?Lt[ut]:Lt.readUInt16BE(ut*L)}let ht;if(M){let Lt=-1;for(ht=l;ht<F;ht++)if(dt(g,ht)===dt(u,Lt===-1?0:ht-Lt)){if(Lt===-1&&(Lt=ht),ht-Lt+1===pt)return Lt*L}else Lt!==-1&&(ht-=ht-Lt),Lt=-1}else for(l+pt>F&&(l=F-pt),ht=l;ht>=0;ht--){let Lt=!0;for(let ut=0;ut<pt;ut++)if(dt(g,ht+ut)!==dt(u,ut)){Lt=!1;break}if(Lt)return ht}return-1}c.prototype.includes=function(u,l,k){return this.indexOf(u,l,k)!==-1},c.prototype.indexOf=function(u,l,k){return it(this,u,l,k,!0)},c.prototype.lastIndexOf=function(u,l,k){return it(this,u,l,k,!1)};function ct(g,u,l,k){l=Number(l)||0;const M=g.length-l;k?(k=Number(k),k>M&&(k=M)):k=M;const L=u.length;k>L/2&&(k=L/2);let F;for(F=0;F<k;++F){const pt=parseInt(u.substr(F*2,2),16);if(Ot(pt))return F;g[l+F]=pt}return F}function z(g,u,l,k){return Pt(Ut(u,g.length-l),g,l,k)}function tt(g,u,l,k){return Pt(Wt(u),g,l,k)}function Y(g,u,l,k){return Pt(Nt(u),g,l,k)}function J(g,u,l,k){return Pt(An(u,g.length-l),g,l,k)}c.prototype.write=function(u,l,k,M){if(l===void 0)M="utf8",k=this.length,l=0;else if(k===void 0&&typeof l=="string")M=l,k=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(k)?(k=k>>>0,M===void 0&&(M="utf8")):(M=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-l;if((k===void 0||k>L)&&(k=L),u.length>0&&(k<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let F=!1;for(;;)switch(M){case"hex":return ct(this,u,l,k);case"utf8":case"utf-8":return z(this,u,l,k);case"ascii":case"latin1":case"binary":return tt(this,u,l,k);case"base64":return Y(this,u,l,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,u,l,k);default:if(F)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),F=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function y(g,u,l){return u===0&&l===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(u,l))}function a(g,u,l){l=Math.min(g.length,l);const k=[];let M=u;for(;M<l;){const L=g[M];let F=null,pt=L>239?4:L>223?3:L>191?2:1;if(M+pt<=l){let dt,ht,Lt,ut;switch(pt){case 1:L<128&&(F=L);break;case 2:dt=g[M+1],(dt&192)===128&&(ut=(L&31)<<6|dt&63,ut>127&&(F=ut));break;case 3:dt=g[M+1],ht=g[M+2],(dt&192)===128&&(ht&192)===128&&(ut=(L&15)<<12|(dt&63)<<6|ht&63,ut>2047&&(ut<55296||ut>57343)&&(F=ut));break;case 4:dt=g[M+1],ht=g[M+2],Lt=g[M+3],(dt&192)===128&&(ht&192)===128&&(Lt&192)===128&&(ut=(L&15)<<18|(dt&63)<<12|(ht&63)<<6|Lt&63,ut>65535&&ut<1114112&&(F=ut))}}F===null?(F=65533,pt=1):F>65535&&(F-=65536,k.push(F>>>10&1023|55296),F=56320|F&1023),k.push(F),M+=pt}return p(k)}const d=4096;function p(g){const u=g.length;if(u<=d)return String.fromCharCode.apply(String,g);let l="",k=0;for(;k<u;)l+=String.fromCharCode.apply(String,g.slice(k,k+=d));return l}function b(g,u,l){let k="";l=Math.min(g.length,l);for(let M=u;M<l;++M)k+=String.fromCharCode(g[M]&127);return k}function v(g,u,l){let k="";l=Math.min(g.length,l);for(let M=u;M<l;++M)k+=String.fromCharCode(g[M]);return k}function I(g,u,l){const k=g.length;(!u||u<0)&&(u=0),(!l||l<0||l>k)&&(l=k);let M="";for(let L=u;L<l;++L)M+=qt[g[L]];return M}function R(g,u,l){const k=g.slice(u,l);let M="";for(let L=0;L<k.length-1;L+=2)M+=String.fromCharCode(k[L]+k[L+1]*256);return M}c.prototype.slice=function(u,l){const k=this.length;u=~~u,l=l===void 0?k:~~l,u<0?(u+=k,u<0&&(u=0)):u>k&&(u=k),l<0?(l+=k,l<0&&(l=0)):l>k&&(l=k),l<u&&(l=u);const M=this.subarray(u,l);return Object.setPrototypeOf(M,c.prototype),M};function m(g,u,l){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+u>l)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(u,l,k){u=u>>>0,l=l>>>0,k||m(u,l,this.length);let M=this[u],L=1,F=0;for(;++F<l&&(L*=256);)M+=this[u+F]*L;return M},c.prototype.readUintBE=c.prototype.readUIntBE=function(u,l,k){u=u>>>0,l=l>>>0,k||m(u,l,this.length);let M=this[u+--l],L=1;for(;l>0&&(L*=256);)M+=this[u+--l]*L;return M},c.prototype.readUint8=c.prototype.readUInt8=function(u,l){return u=u>>>0,l||m(u,1,this.length),this[u]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(u,l){return u=u>>>0,l||m(u,2,this.length),this[u]|this[u+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(u,l){return u=u>>>0,l||m(u,2,this.length),this[u]<<8|this[u+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(u,l){return u=u>>>0,l||m(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(u,l){return u=u>>>0,l||m(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},c.prototype.readBigUInt64LE=De(function(u){u=u>>>0,Ne(u,"offset");const l=this[u],k=this[u+7];(l===void 0||k===void 0)&&Rt(u,this.length-8);const M=l+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,L=this[++u]+this[++u]*2**8+this[++u]*2**16+k*2**24;return BigInt(M)+(BigInt(L)<<BigInt(32))}),c.prototype.readBigUInt64BE=De(function(u){u=u>>>0,Ne(u,"offset");const l=this[u],k=this[u+7];(l===void 0||k===void 0)&&Rt(u,this.length-8);const M=l*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],L=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+k;return(BigInt(M)<<BigInt(32))+BigInt(L)}),c.prototype.readIntLE=function(u,l,k){u=u>>>0,l=l>>>0,k||m(u,l,this.length);let M=this[u],L=1,F=0;for(;++F<l&&(L*=256);)M+=this[u+F]*L;return L*=128,M>=L&&(M-=Math.pow(2,8*l)),M},c.prototype.readIntBE=function(u,l,k){u=u>>>0,l=l>>>0,k||m(u,l,this.length);let M=l,L=1,F=this[u+--M];for(;M>0&&(L*=256);)F+=this[u+--M]*L;return L*=128,F>=L&&(F-=Math.pow(2,8*l)),F},c.prototype.readInt8=function(u,l){return u=u>>>0,l||m(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},c.prototype.readInt16LE=function(u,l){u=u>>>0,l||m(u,2,this.length);const k=this[u]|this[u+1]<<8;return k&32768?k|4294901760:k},c.prototype.readInt16BE=function(u,l){u=u>>>0,l||m(u,2,this.length);const k=this[u+1]|this[u]<<8;return k&32768?k|4294901760:k},c.prototype.readInt32LE=function(u,l){return u=u>>>0,l||m(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},c.prototype.readInt32BE=function(u,l){return u=u>>>0,l||m(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},c.prototype.readBigInt64LE=De(function(u){u=u>>>0,Ne(u,"offset");const l=this[u],k=this[u+7];(l===void 0||k===void 0)&&Rt(u,this.length-8);const M=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(k<<24);return(BigInt(M)<<BigInt(32))+BigInt(l+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),c.prototype.readBigInt64BE=De(function(u){u=u>>>0,Ne(u,"offset");const l=this[u],k=this[u+7];(l===void 0||k===void 0)&&Rt(u,this.length-8);const M=(l<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(M)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+k)}),c.prototype.readFloatLE=function(u,l){return u=u>>>0,l||m(u,4,this.length),e.read(this,u,!0,23,4)},c.prototype.readFloatBE=function(u,l){return u=u>>>0,l||m(u,4,this.length),e.read(this,u,!1,23,4)},c.prototype.readDoubleLE=function(u,l){return u=u>>>0,l||m(u,8,this.length),e.read(this,u,!0,52,8)},c.prototype.readDoubleBE=function(u,l){return u=u>>>0,l||m(u,8,this.length),e.read(this,u,!1,52,8)};function f(g,u,l,k,M,L){if(!c.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>M||u<L)throw new RangeError('"value" argument is out of bounds');if(l+k>g.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(u,l,k,M){if(u=+u,l=l>>>0,k=k>>>0,!M){const pt=Math.pow(2,8*k)-1;f(this,u,l,k,pt,0)}let L=1,F=0;for(this[l]=u&255;++F<k&&(L*=256);)this[l+F]=u/L&255;return l+k},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(u,l,k,M){if(u=+u,l=l>>>0,k=k>>>0,!M){const pt=Math.pow(2,8*k)-1;f(this,u,l,k,pt,0)}let L=k-1,F=1;for(this[l+L]=u&255;--L>=0&&(F*=256);)this[l+L]=u/F&255;return l+k},c.prototype.writeUint8=c.prototype.writeUInt8=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,1,255,0),this[l]=u&255,l+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,2,65535,0),this[l]=u&255,this[l+1]=u>>>8,l+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,2,65535,0),this[l]=u>>>8,this[l+1]=u&255,l+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,4,4294967295,0),this[l+3]=u>>>24,this[l+2]=u>>>16,this[l+1]=u>>>8,this[l]=u&255,l+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,4,4294967295,0),this[l]=u>>>24,this[l+1]=u>>>16,this[l+2]=u>>>8,this[l+3]=u&255,l+4};function x(g,u,l,k,M){Bt(u,k,M,g,l,7);let L=Number(u&BigInt(4294967295));g[l++]=L,L=L>>8,g[l++]=L,L=L>>8,g[l++]=L,L=L>>8,g[l++]=L;let F=Number(u>>BigInt(32)&BigInt(4294967295));return g[l++]=F,F=F>>8,g[l++]=F,F=F>>8,g[l++]=F,F=F>>8,g[l++]=F,l}function j(g,u,l,k,M){Bt(u,k,M,g,l,7);let L=Number(u&BigInt(4294967295));g[l+7]=L,L=L>>8,g[l+6]=L,L=L>>8,g[l+5]=L,L=L>>8,g[l+4]=L;let F=Number(u>>BigInt(32)&BigInt(4294967295));return g[l+3]=F,F=F>>8,g[l+2]=F,F=F>>8,g[l+1]=F,F=F>>8,g[l]=F,l+8}c.prototype.writeBigUInt64LE=De(function(u,l=0){return x(this,u,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=De(function(u,l=0){return j(this,u,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(u,l,k,M){if(u=+u,l=l>>>0,!M){const dt=Math.pow(2,8*k-1);f(this,u,l,k,dt-1,-dt)}let L=0,F=1,pt=0;for(this[l]=u&255;++L<k&&(F*=256);)u<0&&pt===0&&this[l+L-1]!==0&&(pt=1),this[l+L]=(u/F>>0)-pt&255;return l+k},c.prototype.writeIntBE=function(u,l,k,M){if(u=+u,l=l>>>0,!M){const dt=Math.pow(2,8*k-1);f(this,u,l,k,dt-1,-dt)}let L=k-1,F=1,pt=0;for(this[l+L]=u&255;--L>=0&&(F*=256);)u<0&&pt===0&&this[l+L+1]!==0&&(pt=1),this[l+L]=(u/F>>0)-pt&255;return l+k},c.prototype.writeInt8=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,1,127,-128),u<0&&(u=255+u+1),this[l]=u&255,l+1},c.prototype.writeInt16LE=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,2,32767,-32768),this[l]=u&255,this[l+1]=u>>>8,l+2},c.prototype.writeInt16BE=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,2,32767,-32768),this[l]=u>>>8,this[l+1]=u&255,l+2},c.prototype.writeInt32LE=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,4,2147483647,-2147483648),this[l]=u&255,this[l+1]=u>>>8,this[l+2]=u>>>16,this[l+3]=u>>>24,l+4},c.prototype.writeInt32BE=function(u,l,k){return u=+u,l=l>>>0,k||f(this,u,l,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[l]=u>>>24,this[l+1]=u>>>16,this[l+2]=u>>>8,this[l+3]=u&255,l+4},c.prototype.writeBigInt64LE=De(function(u,l=0){return x(this,u,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=De(function(u,l=0){return j(this,u,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(g,u,l,k,M,L){if(l+k>g.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function X(g,u,l,k,M){return u=+u,l=l>>>0,M||q(g,u,l,4),e.write(g,u,l,k,23,4),l+4}c.prototype.writeFloatLE=function(u,l,k){return X(this,u,l,!0,k)},c.prototype.writeFloatBE=function(u,l,k){return X(this,u,l,!1,k)};function mt(g,u,l,k,M){return u=+u,l=l>>>0,M||q(g,u,l,8),e.write(g,u,l,k,52,8),l+8}c.prototype.writeDoubleLE=function(u,l,k){return mt(this,u,l,!0,k)},c.prototype.writeDoubleBE=function(u,l,k){return mt(this,u,l,!1,k)},c.prototype.copy=function(u,l,k,M){if(!c.isBuffer(u))throw new TypeError("argument should be a Buffer");if(k||(k=0),!M&&M!==0&&(M=this.length),l>=u.length&&(l=u.length),l||(l=0),M>0&&M<k&&(M=k),M===k||u.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),u.length-l<M-k&&(M=u.length-l+k);const L=M-k;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,k,M):Uint8Array.prototype.set.call(u,this.subarray(k,M),l),L},c.prototype.fill=function(u,l,k,M){if(typeof u=="string"){if(typeof l=="string"?(M=l,l=0,k=this.length):typeof k=="string"&&(M=k,k=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!c.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(u.length===1){const F=u.charCodeAt(0);(M==="utf8"&&F<128||M==="latin1")&&(u=F)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(l<0||this.length<l||this.length<k)throw new RangeError("Out of range index");if(k<=l)return this;l=l>>>0,k=k===void 0?this.length:k>>>0,u||(u=0);let L;if(typeof u=="number")for(L=l;L<k;++L)this[L]=u;else{const F=c.isBuffer(u)?u:c.from(u,M),pt=F.length;if(pt===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(L=0;L<k-l;++L)this[L+l]=F[L%pt]}return this};const lt={};function at(g,u,l){lt[g]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(M){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:M,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(g,u){return`The "${g}" argument must be of type number. Received type ${typeof u}`},TypeError),at("ERR_OUT_OF_RANGE",function(g,u,l){let k=`The value of "${g}" is out of range.`,M=l;return Number.isInteger(l)&&Math.abs(l)>2**32?M=Kt(String(l)):typeof l=="bigint"&&(M=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(M=Kt(M)),M+="n"),k+=` It must be ${u}. Received ${M}`,k},RangeError);function Kt(g){let u="",l=g.length;const k=g[0]==="-"?1:0;for(;l>=k+4;l-=3)u=`_${g.slice(l-3,l)}${u}`;return`${g.slice(0,l)}${u}`}function _t(g,u,l){Ne(u,"offset"),(g[u]===void 0||g[u+l]===void 0)&&Rt(u,g.length-(l+1))}function Bt(g,u,l,k,M,L){if(g>l||g<u){const F=typeof u=="bigint"?"n":"";let pt;throw u===0||u===BigInt(0)?pt=`>= 0${F} and < 2${F} ** ${(L+1)*8}${F}`:pt=`>= -(2${F} ** ${(L+1)*8-1}${F}) and < 2 ** ${(L+1)*8-1}${F}`,new lt.ERR_OUT_OF_RANGE("value",pt,g)}_t(k,M,L)}function Ne(g,u){if(typeof g!="number")throw new lt.ERR_INVALID_ARG_TYPE(u,"number",g)}function Rt(g,u,l){throw Math.floor(g)!==g?(Ne(g,l),new lt.ERR_OUT_OF_RANGE("offset","an integer",g)):u<0?new lt.ERR_BUFFER_OUT_OF_BOUNDS:new lt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,g)}const Dt=/[^+/0-9A-Za-z-_]/g;function _n(g){if(g=g.split("=")[0],g=g.trim().replace(Dt,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function Ut(g,u){u=u||1/0;let l;const k=g.length;let M=null;const L=[];for(let F=0;F<k;++F){if(l=g.charCodeAt(F),l>55295&&l<57344){if(!M){if(l>56319){(u-=3)>-1&&L.push(239,191,189);continue}else if(F+1===k){(u-=3)>-1&&L.push(239,191,189);continue}M=l;continue}if(l<56320){(u-=3)>-1&&L.push(239,191,189),M=l;continue}l=(M-55296<<10|l-56320)+65536}else M&&(u-=3)>-1&&L.push(239,191,189);if(M=null,l<128){if((u-=1)<0)break;L.push(l)}else if(l<2048){if((u-=2)<0)break;L.push(l>>6|192,l&63|128)}else if(l<65536){if((u-=3)<0)break;L.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((u-=4)<0)break;L.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return L}function Wt(g){const u=[];for(let l=0;l<g.length;++l)u.push(g.charCodeAt(l)&255);return u}function An(g,u){let l,k,M;const L=[];for(let F=0;F<g.length&&!((u-=2)<0);++F)l=g.charCodeAt(F),k=l>>8,M=l%256,L.push(M),L.push(k);return L}function Nt(g){return t.toByteArray(_n(g))}function Pt(g,u,l,k){let M;for(M=0;M<k&&!(M+l>=u.length||M>=g.length);++M)u[M+l]=g[M];return M}function Le(g,u){return g instanceof u||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===u.name}function Ot(g){return g!==g}const qt=function(){const g="0123456789abcdef",u=new Array(256);for(let l=0;l<16;++l){const k=l*16;for(let M=0;M<16;++M)u[k+M]=g[l]+g[M]}return u}();function De(g){return typeof BigInt>"u"?$t:g}function $t(){throw new Error("BigInt not supported")}})(ot);const Kr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bn(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function hn(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function hr(n,...t){if(!bn(n))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(n.length))throw new Error("Uint8Array expected of length "+t+", got length="+n.length)}function Vo(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hn(n.outputLen),hn(n.blockLen)}function Xr(n,t=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(t&&n.finished)throw new Error("Hash#digest() has already been called")}function Ho(n,t){hr(n);const e=t.outputLen;if(n.length<e)throw new Error("digestInto() expects output buffer of length at least "+e)}function jc(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function Sr(...n){for(let t=0;t<n.length;t++)n[t].fill(0)}function Pi(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function je(n,t){return n<<32-t|n>>>t}const Gc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Zc(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Yc(n){for(let t=0;t<n.length;t++)n[t]=Zc(n[t]);return n}const no=Gc?n=>n:Yc,jo=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Xc=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function Mr(n){if(hr(n),jo)return n.toHex();let t="";for(let e=0;e<n.length;e++)t+=Xc[n[e]];return t}const sr={_0:48,_9:57,A:65,F:70,a:97,f:102};function io(n){if(n>=sr._0&&n<=sr._9)return n-sr._0;if(n>=sr.A&&n<=sr.F)return n-(sr.A-10);if(n>=sr.a&&n<=sr.f)return n-(sr.a-10)}function Fn(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(jo)return Uint8Array.fromHex(n);const t=n.length,e=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(e);for(let s=0,i=0;s<e;s++,i+=2){const o=io(n.charCodeAt(i)),c=io(n.charCodeAt(i+1));if(o===void 0||c===void 0){const h=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+i)}r[s]=o*16+c}return r}function Jc(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function Xn(n){return typeof n=="string"&&(n=Jc(n)),hr(n),n}function Ye(...n){let t=0;for(let r=0;r<n.length;r++){const s=n[r];hr(s),t+=s.length}const e=new Uint8Array(t);for(let r=0,s=0;r<n.length;r++){const i=n[r];e.set(i,s),s+=i.length}return e}class hs{}function ds(n){const t=r=>n().update(Xn(r)).digest(),e=n();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>n(),t}function ps(n=32){if(Kr&&typeof Kr.getRandomValues=="function")return Kr.getRandomValues(new Uint8Array(n));if(Kr&&typeof Kr.randomBytes=="function")return Uint8Array.from(Kr.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function Qc(n,t,e,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(t,e,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(e>>s&i),c=Number(e&i),h=r?4:0,w=r?0:4;n.setUint32(t+h,o,r),n.setUint32(t+w,c,r)}function tu(n,t,e){return n&t^~n&e}function eu(n,t,e){return n&t^n&e^t&e}class Go extends hs{constructor(t,e,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Pi(this.buffer)}update(t){Xr(this),t=Xn(t),hr(t);const{view:e,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const c=Math.min(s-this.pos,i-o);if(c===s){const h=Pi(t);for(;s<=i-o;o+=s)this.process(h,o);continue}r.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===s&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Xr(this),Ho(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;e[o++]=128,Sr(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let _=o;_<s;_++)e[_]=0;Qc(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=Pi(t),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=h/4,E=this.get();if(w>E.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<w;_++)c.setUint32(4*_,E[_],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:s,finished:i,destroyed:o,pos:c}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=c,s%e&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const dr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Se=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Bn=BigInt(2**32-1),so=BigInt(32);function ru(n,t=!1){return t?{h:Number(n&Bn),l:Number(n>>so&Bn)}:{h:Number(n>>so&Bn)|0,l:Number(n&Bn)|0}}function Zo(n,t=!1){const e=n.length;let r=new Uint32Array(e),s=new Uint32Array(e);for(let i=0;i<e;i++){const{h:o,l:c}=ru(n[i],t);[r[i],s[i]]=[o,c]}return[r,s]}const oo=(n,t,e)=>n>>>e,ao=(n,t,e)=>n<<32-e|t>>>e,Dr=(n,t,e)=>n>>>e|t<<32-e,Wr=(n,t,e)=>n<<32-e|t>>>e,Rn=(n,t,e)=>n<<64-e|t>>>e-32,Mn=(n,t,e)=>n>>>e-32|t<<64-e,nu=(n,t,e)=>n<<e|t>>>32-e,iu=(n,t,e)=>t<<e|n>>>32-e,su=(n,t,e)=>t<<e-32|n>>>64-e,ou=(n,t,e)=>n<<e-32|t>>>64-e;function or(n,t,e,r){const s=(t>>>0)+(r>>>0);return{h:n+e+(s/2**32|0)|0,l:s|0}}const au=(n,t,e)=>(n>>>0)+(t>>>0)+(e>>>0),cu=(n,t,e,r)=>t+e+r+(n/2**32|0)|0,uu=(n,t,e,r)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0),fu=(n,t,e,r,s)=>t+e+r+s+(n/2**32|0)|0,lu=(n,t,e,r,s)=>(n>>>0)+(t>>>0)+(e>>>0)+(r>>>0)+(s>>>0),hu=(n,t,e,r,s,i)=>t+e+r+s+i+(n/2**32|0)|0,du=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pr=new Uint32Array(64);class pu extends Go{constructor(t=32){super(64,t,8,!1),this.A=dr[0]|0,this.B=dr[1]|0,this.C=dr[2]|0,this.D=dr[3]|0,this.E=dr[4]|0,this.F=dr[5]|0,this.G=dr[6]|0,this.H=dr[7]|0}get(){const{A:t,B:e,C:r,D:s,E:i,F:o,G:c,H:h}=this;return[t,e,r,s,i,o,c,h]}set(t,e,r,s,i,o,c,h){this.A=t|0,this.B=e|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=c|0,this.H=h|0}process(t,e){for(let _=0;_<16;_++,e+=4)pr[_]=t.getUint32(e,!1);for(let _=16;_<64;_++){const A=pr[_-15],S=pr[_-2],B=je(A,7)^je(A,18)^A>>>3,T=je(S,17)^je(S,19)^S>>>10;pr[_]=T+pr[_-7]+B+pr[_-16]|0}let{A:r,B:s,C:i,D:o,E:c,F:h,G:w,H:E}=this;for(let _=0;_<64;_++){const A=je(c,6)^je(c,11)^je(c,25),S=E+A+tu(c,h,w)+du[_]+pr[_]|0,T=(je(r,2)^je(r,13)^je(r,22))+eu(r,s,i)|0;E=w,w=h,h=c,c=o+S|0,o=i,i=s,s=r,r=S+T|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,c=c+this.E|0,h=h+this.F|0,w=w+this.G|0,E=E+this.H|0,this.set(r,s,i,o,c,h,w,E)}roundClean(){Sr(pr)}destroy(){this.set(0,0,0,0,0,0,0,0),Sr(this.buffer)}}const Yo=Zo(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),gu=Yo[0],yu=Yo[1],gr=new Uint32Array(80),yr=new Uint32Array(80);class mu extends Go{constructor(t=64){super(128,t,16,!1),this.Ah=Se[0]|0,this.Al=Se[1]|0,this.Bh=Se[2]|0,this.Bl=Se[3]|0,this.Ch=Se[4]|0,this.Cl=Se[5]|0,this.Dh=Se[6]|0,this.Dl=Se[7]|0,this.Eh=Se[8]|0,this.El=Se[9]|0,this.Fh=Se[10]|0,this.Fl=Se[11]|0,this.Gh=Se[12]|0,this.Gl=Se[13]|0,this.Hh=Se[14]|0,this.Hl=Se[15]|0}get(){const{Ah:t,Al:e,Bh:r,Bl:s,Ch:i,Cl:o,Dh:c,Dl:h,Eh:w,El:E,Fh:_,Fl:A,Gh:S,Gl:B,Hh:T,Hl:P}=this;return[t,e,r,s,i,o,c,h,w,E,_,A,S,B,T,P]}set(t,e,r,s,i,o,c,h,w,E,_,A,S,B,T,P){this.Ah=t|0,this.Al=e|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=c|0,this.Dl=h|0,this.Eh=w|0,this.El=E|0,this.Fh=_|0,this.Fl=A|0,this.Gh=S|0,this.Gl=B|0,this.Hh=T|0,this.Hl=P|0}process(t,e){for(let N=0;N<16;N++,e+=4)gr[N]=t.getUint32(e),yr[N]=t.getUint32(e+=4);for(let N=16;N<80;N++){const H=gr[N-15]|0,Q=yr[N-15]|0,it=Dr(H,Q,1)^Dr(H,Q,8)^oo(H,Q,7),ft=Wr(H,Q,1)^Wr(H,Q,8)^ao(H,Q,7),ct=gr[N-2]|0,z=yr[N-2]|0,tt=Dr(ct,z,19)^Rn(ct,z,61)^oo(ct,z,6),Y=Wr(ct,z,19)^Mn(ct,z,61)^ao(ct,z,6),J=uu(ft,Y,yr[N-7],yr[N-16]),y=fu(J,it,tt,gr[N-7],gr[N-16]);gr[N]=y|0,yr[N]=J|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:c,Cl:h,Dh:w,Dl:E,Eh:_,El:A,Fh:S,Fl:B,Gh:T,Gl:P,Hh:C,Hl:K}=this;for(let N=0;N<80;N++){const H=Dr(_,A,14)^Dr(_,A,18)^Rn(_,A,41),Q=Wr(_,A,14)^Wr(_,A,18)^Mn(_,A,41),it=_&S^~_&T,ft=A&B^~A&P,ct=lu(K,Q,ft,yu[N],yr[N]),z=hu(ct,C,H,it,gu[N],gr[N]),tt=ct|0,Y=Dr(r,s,28)^Rn(r,s,34)^Rn(r,s,39),J=Wr(r,s,28)^Mn(r,s,34)^Mn(r,s,39),y=r&i^r&c^i&c,a=s&o^s&h^o&h;C=T|0,K=P|0,T=S|0,P=B|0,S=_|0,B=A|0,{h:_,l:A}=or(w|0,E|0,z|0,tt|0),w=c|0,E=h|0,c=i|0,h=o|0,i=r|0,o=s|0;const d=au(tt,J,a);r=cu(d,z,Y,y),s=d|0}({h:r,l:s}=or(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=or(this.Bh|0,this.Bl|0,i|0,o|0),{h:c,l:h}=or(this.Ch|0,this.Cl|0,c|0,h|0),{h:w,l:E}=or(this.Dh|0,this.Dl|0,w|0,E|0),{h:_,l:A}=or(this.Eh|0,this.El|0,_|0,A|0),{h:S,l:B}=or(this.Fh|0,this.Fl|0,S|0,B|0),{h:T,l:P}=or(this.Gh|0,this.Gl|0,T|0,P|0),{h:C,l:K}=or(this.Hh|0,this.Hl|0,C|0,K|0),this.set(r,s,i,o,c,h,w,E,_,A,S,B,T,P,C,K)}roundClean(){Sr(gr,yr)}destroy(){Sr(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Xo=ds(()=>new pu),wu=ds(()=>new mu);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gs=BigInt(0),Ji=BigInt(1);function Tr(n,t=""){if(typeof n!="boolean"){const e=t&&`"${t}"`;throw new Error(e+"expected boolean, got type="+typeof n)}return n}function We(n,t,e=""){const r=bn(n),s=n==null?void 0:n.length,i=t!==void 0;if(!r||i&&s!==t){const o=e&&`"${e}" `,c=i?` of length ${t}`:"",h=r?`length=${s}`:`type=${typeof n}`;throw new Error(o+"expected Uint8Array"+c+", got "+h)}return n}function Tn(n){const t=n.toString(16);return t.length&1?"0"+t:t}function Jo(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?gs:BigInt("0x"+n)}function Jn(n){return Jo(Mr(n))}function dn(n){return hr(n),Jo(Mr(Uint8Array.from(n).reverse()))}function ys(n,t){return Fn(n.toString(16).padStart(t*2,"0"))}function Qo(n,t){return ys(n,t).reverse()}function Ht(n,t,e){let r;if(typeof t=="string")try{r=Fn(t)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(bn(t))r=Uint8Array.from(t);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof e=="number"&&s!==e)throw new Error(n+" of length "+e+" expected, got "+s);return r}function co(n){return Uint8Array.from(n)}const Li=n=>typeof n=="bigint"&&gs<=n;function bu(n,t,e){return Li(n)&&Li(t)&&Li(e)&&t<=n&&n<e}function Qi(n,t,e,r){if(!bu(t,e,r))throw new Error("expected valid "+n+": "+e+" <= n < "+r+", got "+t)}function ta(n){let t;for(t=0;n>gs;n>>=Ji,t+=1);return t}const kn=n=>(Ji<<BigInt(n))-Ji;function ku(n,t,e){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");const r=S=>new Uint8Array(S),s=S=>Uint8Array.of(S);let i=r(n),o=r(n),c=0;const h=()=>{i.fill(1),o.fill(0),c=0},w=(...S)=>e(o,i,...S),E=(S=r(0))=>{o=w(s(0),S),i=w(),S.length!==0&&(o=w(s(1),S),i=w())},_=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let S=0;const B=[];for(;S<t;){i=w();const T=i.slice();B.push(T),S+=i.length}return Ye(...B)};return(S,B)=>{h(),E(S);let T;for(;!(T=B(_()));)E();return h(),T}}function vn(n,t,e={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(s,i,o){const c=n[s];if(o&&c===void 0)return;const h=typeof c;if(h!==i||c===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${h}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(e).forEach(([s,i])=>r(s,i,!0))}function zn(n){const t=new WeakMap;return(e,...r)=>{const s=t.get(e);if(s!==void 0)return s;const i=n(e,...r);return t.set(e,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pe=BigInt(0),ve=BigInt(1),_r=BigInt(2),ea=BigInt(3),ra=BigInt(4),na=BigInt(5),vu=BigInt(7),ia=BigInt(8),Su=BigInt(9),sa=BigInt(16);function he(n,t){const e=n%t;return e>=Pe?e:t+e}function Vt(n,t,e){let r=n;for(;t-- >Pe;)r*=r,r%=e;return r}function uo(n,t){if(n===Pe)throw new Error("invert: expected non-zero number");if(t<=Pe)throw new Error("invert: expected positive modulus, got "+t);let e=he(n,t),r=t,s=Pe,i=ve;for(;e!==Pe;){const c=r/e,h=r%e,w=s-i*c;r=e,e=h,s=i,i=w}if(r!==ve)throw new Error("invert: does not exist");return he(s,t)}function ms(n,t,e){if(!n.eql(n.sqr(t),e))throw new Error("Cannot find square root")}function oa(n,t){const e=(n.ORDER+ve)/ra,r=n.pow(t,e);return ms(n,r,t),r}function xu(n,t){const e=(n.ORDER-na)/ia,r=n.mul(t,_r),s=n.pow(r,e),i=n.mul(t,s),o=n.mul(n.mul(i,_r),s),c=n.mul(i,n.sub(o,n.ONE));return ms(n,c,t),c}function Eu(n){const t=Cr(n),e=aa(n),r=e(t,t.neg(t.ONE)),s=e(t,r),i=e(t,t.neg(r)),o=(n+vu)/sa;return(c,h)=>{let w=c.pow(h,o),E=c.mul(w,r);const _=c.mul(w,s),A=c.mul(w,i),S=c.eql(c.sqr(E),h),B=c.eql(c.sqr(_),h);w=c.cmov(w,E,S),E=c.cmov(A,_,B);const T=c.eql(c.sqr(E),h),P=c.cmov(w,E,T);return ms(c,P,h),P}}function aa(n){if(n<ea)throw new Error("sqrt is not defined for small field");let t=n-ve,e=0;for(;t%_r===Pe;)t/=_r,e++;let r=_r;const s=Cr(n);for(;fo(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(e===1)return oa;let i=s.pow(r,t);const o=(t+ve)/_r;return function(h,w){if(h.is0(w))return w;if(fo(h,w)!==1)throw new Error("Cannot find square root");let E=e,_=h.mul(h.ONE,i),A=h.pow(w,t),S=h.pow(w,o);for(;!h.eql(A,h.ONE);){if(h.is0(A))return h.ZERO;let B=1,T=h.sqr(A);for(;!h.eql(T,h.ONE);)if(B++,T=h.sqr(T),B===E)throw new Error("Cannot find square root");const P=ve<<BigInt(E-B-1),C=h.pow(_,P);E=B,_=h.sqr(C),A=h.mul(A,_),S=h.mul(S,C)}return S}}function Iu(n){return n%ra===ea?oa:n%ia===na?xu:n%sa===Su?Eu(n):aa(n)}const _u=(n,t)=>(he(n,t)&ve)===ve,Au=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Bu(n){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},e=Au.reduce((r,s)=>(r[s]="function",r),t);return vn(n,e),n}function Ru(n,t,e){if(e<Pe)throw new Error("invalid exponent, negatives unsupported");if(e===Pe)return n.ONE;if(e===ve)return t;let r=n.ONE,s=t;for(;e>Pe;)e&ve&&(r=n.mul(r,s)),s=n.sqr(s),e>>=ve;return r}function ca(n,t,e=!1){const r=new Array(t.length).fill(e?n.ZERO:void 0),s=t.reduce((o,c,h)=>n.is0(c)?o:(r[h]=o,n.mul(o,c)),n.ONE),i=n.inv(s);return t.reduceRight((o,c,h)=>n.is0(c)?o:(r[h]=n.mul(o,r[h]),n.mul(o,c)),i),r}function fo(n,t){const e=(n.ORDER-ve)/_r,r=n.pow(t,e),s=n.eql(r,n.ONE),i=n.eql(r,n.ZERO),o=n.eql(r,n.neg(n.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function ua(n,t){t!==void 0&&hn(t);const e=t!==void 0?t:n.toString(2).length,r=Math.ceil(e/8);return{nBitLength:e,nByteLength:r}}function Cr(n,t,e=!1,r={}){if(n<=Pe)throw new Error("invalid field: expected ORDER > 0, got "+n);let s,i,o=!1,c;if(typeof t=="object"&&t!=null){if(r.sqrt||e)throw new Error("cannot specify opts in two arguments");const A=t;A.BITS&&(s=A.BITS),A.sqrt&&(i=A.sqrt),typeof A.isLE=="boolean"&&(e=A.isLE),typeof A.modFromBytes=="boolean"&&(o=A.modFromBytes),c=A.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:h,nByteLength:w}=ua(n,s);if(w>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let E;const _=Object.freeze({ORDER:n,isLE:e,BITS:h,BYTES:w,MASK:kn(h),ZERO:Pe,ONE:ve,allowedLengths:c,create:A=>he(A,n),isValid:A=>{if(typeof A!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof A);return Pe<=A&&A<n},is0:A=>A===Pe,isValidNot0:A=>!_.is0(A)&&_.isValid(A),isOdd:A=>(A&ve)===ve,neg:A=>he(-A,n),eql:(A,S)=>A===S,sqr:A=>he(A*A,n),add:(A,S)=>he(A+S,n),sub:(A,S)=>he(A-S,n),mul:(A,S)=>he(A*S,n),pow:(A,S)=>Ru(_,A,S),div:(A,S)=>he(A*uo(S,n),n),sqrN:A=>A*A,addN:(A,S)=>A+S,subN:(A,S)=>A-S,mulN:(A,S)=>A*S,inv:A=>uo(A,n),sqrt:i||(A=>(E||(E=Iu(n)),E(_,A))),toBytes:A=>e?Qo(A,w):ys(A,w),fromBytes:(A,S=!0)=>{if(c){if(!c.includes(A.length)||A.length>w)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+A.length);const T=new Uint8Array(w);T.set(A,e?0:T.length-A.length),A=T}if(A.length!==w)throw new Error("Field.fromBytes: expected "+w+" bytes, got "+A.length);let B=e?dn(A):Jn(A);if(o&&(B=he(B,n)),!S&&!_.isValid(B))throw new Error("invalid field element: outside of range 0..ORDER");return B},invertBatch:A=>ca(_,A),cmov:(A,S,B)=>B?S:A});return Object.freeze(_)}function fa(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const t=n.toString(2).length;return Math.ceil(t/8)}function la(n){const t=fa(n);return t+Math.ceil(t/2)}function Mu(n,t,e=!1){const r=n.length,s=fa(t),i=la(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=e?dn(n):Jn(n),c=he(o,t-ve)+ve;return e?Qo(c,s):ys(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jr=BigInt(0),Ar=BigInt(1);function Kn(n,t){const e=t.negate();return n?e:t}function Br(n,t){const e=ca(n.Fp,t.map(r=>r.Z));return t.map((r,s)=>n.fromAffine(r.toAffine(e[s])))}function ha(n,t){if(!Number.isSafeInteger(n)||n<=0||n>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+n)}function Ci(n,t){ha(n,t);const e=Math.ceil(t/n)+1,r=2**(n-1),s=2**n,i=kn(n),o=BigInt(n);return{windows:e,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function lo(n,t,e){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=e;let c=Number(n&s),h=n>>o;c>r&&(c-=i,h+=Ar);const w=t*r,E=w+Math.abs(c)-1,_=c===0,A=c<0,S=t%2!==0;return{nextN:h,offset:E,isZero:_,isNeg:A,isNegF:S,offsetF:w}}function Tu(n,t){if(!Array.isArray(n))throw new Error("array expected");n.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}function Pu(n,t){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}const Ui=new WeakMap,da=new WeakMap;function Oi(n){return da.get(n)||1}function ho(n){if(n!==Jr)throw new Error("invalid wNAF")}class pa{constructor(t,e){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=e}_unsafeLadder(t,e,r=this.ZERO){let s=t;for(;e>Jr;)e&Ar&&(r=r.add(s)),s=s.double(),e>>=Ar;return r}precomputeWindow(t,e){const{windows:r,windowSize:s}=Ci(e,this.bits),i=[];let o=t,c=o;for(let h=0;h<r;h++){c=o,i.push(c);for(let w=1;w<s;w++)c=c.add(o),i.push(c);o=c.double()}return i}wNAF(t,e,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=Ci(t,this.bits);for(let c=0;c<o.windows;c++){const{nextN:h,offset:w,isZero:E,isNeg:_,isNegF:A,offsetF:S}=lo(r,c,o);r=h,E?i=i.add(Kn(A,e[S])):s=s.add(Kn(_,e[w]))}return ho(r),{p:s,f:i}}wNAFUnsafe(t,e,r,s=this.ZERO){const i=Ci(t,this.bits);for(let o=0;o<i.windows&&r!==Jr;o++){const{nextN:c,offset:h,isZero:w,isNeg:E}=lo(r,o,i);if(r=c,!w){const _=e[h];s=s.add(E?_.negate():_)}}return ho(r),s}getPrecomputes(t,e,r){let s=Ui.get(e);return s||(s=this.precomputeWindow(e,t),t!==1&&(typeof r=="function"&&(s=r(s)),Ui.set(e,s))),s}cached(t,e,r){const s=Oi(t);return this.wNAF(s,this.getPrecomputes(s,t,r),e)}unsafe(t,e,r,s){const i=Oi(t);return i===1?this._unsafeLadder(t,e,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),e,s)}createCache(t,e){ha(e,this.bits),da.set(t,e),Ui.delete(t)}hasCache(t){return Oi(t)!==1}}function Lu(n,t,e,r){let s=t,i=n.ZERO,o=n.ZERO;for(;e>Jr||r>Jr;)e&Ar&&(i=i.add(s)),r&Ar&&(o=o.add(s)),s=s.double(),e>>=Ar,r>>=Ar;return{p1:i,p2:o}}function ga(n,t,e,r){Tu(e,n),Pu(r,t);const s=e.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=n.ZERO,c=ta(BigInt(s));let h=1;c>12?h=c-3:c>4?h=c-2:c>0&&(h=2);const w=kn(h),E=new Array(Number(w)+1).fill(o),_=Math.floor((t.BITS-1)/h)*h;let A=o;for(let S=_;S>=0;S-=h){E.fill(o);for(let T=0;T<i;T++){const P=r[T],C=Number(P>>BigInt(S)&w);E[C]=E[C].add(e[T])}let B=o;for(let T=E.length-1,P=o;T>0;T--)P=P.add(E[T]),B=B.add(P);if(A=A.add(B),S!==0)for(let T=0;T<h;T++)A=A.double()}return A}function po(n,t,e){if(t){if(t.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Bu(t),t}else return Cr(n,{isLE:e})}function ya(n,t,e={},r){if(r===void 0&&(r=n==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${n} CURVE object`);for(const h of["p","n","h"]){const w=t[h];if(!(typeof w=="bigint"&&w>Jr))throw new Error(`CURVE.${h} must be positive bigint`)}const s=po(t.p,e.Fp,r),i=po(t.n,e.Fn,r),c=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(const h of c)if(!s.isValid(t[h]))throw new Error(`CURVE.${h} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mr=BigInt(0),de=BigInt(1),Ni=BigInt(2),Cu=BigInt(8);function Uu(n,t,e,r){const s=n.sqr(e),i=n.sqr(r),o=n.add(n.mul(t.a,s),i),c=n.add(n.ONE,n.mul(t.d,n.mul(s,i)));return n.eql(o,c)}function Ou(n,t={}){const e=ya("edwards",n,t,t.FpFnLE),{Fp:r,Fn:s}=e;let i=e.CURVE;const{h:o}=i;vn(t,{},{uvRatio:"function"});const c=Ni<<BigInt(s.BYTES*8)-de,h=P=>r.create(P),w=t.uvRatio||((P,C)=>{try{return{isValid:!0,value:r.sqrt(r.div(P,C))}}catch{return{isValid:!1,value:mr}}});if(!Uu(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function E(P,C,K=!1){const N=K?de:mr;return Qi("coordinate "+P,C,N,c),C}function _(P){if(!(P instanceof B))throw new Error("ExtendedPoint expected")}const A=zn((P,C)=>{const{X:K,Y:N,Z:H}=P,Q=P.is0();C==null&&(C=Q?Cu:r.inv(H));const it=h(K*C),ft=h(N*C),ct=r.mul(H,C);if(Q)return{x:mr,y:de};if(ct!==de)throw new Error("invZ was invalid");return{x:it,y:ft}}),S=zn(P=>{const{a:C,d:K}=i;if(P.is0())throw new Error("bad point: ZERO");const{X:N,Y:H,Z:Q,T:it}=P,ft=h(N*N),ct=h(H*H),z=h(Q*Q),tt=h(z*z),Y=h(ft*C),J=h(z*h(Y+ct)),y=h(tt+h(K*h(ft*ct)));if(J!==y)throw new Error("bad point: equation left != right (1)");const a=h(N*H),d=h(Q*it);if(a!==d)throw new Error("bad point: equation left != right (2)");return!0});class B{constructor(C,K,N,H){this.X=E("x",C),this.Y=E("y",K),this.Z=E("z",N,!0),this.T=E("t",H),Object.freeze(this)}static CURVE(){return i}static fromAffine(C){if(C instanceof B)throw new Error("extended point not allowed");const{x:K,y:N}=C||{};return E("x",K),E("y",N),new B(K,N,de,h(K*N))}static fromBytes(C,K=!1){const N=r.BYTES,{a:H,d:Q}=i;C=co(We(C,N,"point")),Tr(K,"zip215");const it=co(C),ft=C[N-1];it[N-1]=ft&-129;const ct=dn(it),z=K?c:r.ORDER;Qi("point.y",ct,mr,z);const tt=h(ct*ct),Y=h(tt-de),J=h(Q*tt-H);let{isValid:y,value:a}=w(Y,J);if(!y)throw new Error("bad point: invalid y coordinate");const d=(a&de)===de,p=(ft&128)!==0;if(!K&&a===mr&&p)throw new Error("bad point: x=0 and x_0=1");return p!==d&&(a=h(-a)),B.fromAffine({x:a,y:ct})}static fromHex(C,K=!1){return B.fromBytes(Ht("point",C),K)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(C=8,K=!0){return T.createCache(this,C),K||this.multiply(Ni),this}assertValidity(){S(this)}equals(C){_(C);const{X:K,Y:N,Z:H}=this,{X:Q,Y:it,Z:ft}=C,ct=h(K*ft),z=h(Q*H),tt=h(N*ft),Y=h(it*H);return ct===z&&tt===Y}is0(){return this.equals(B.ZERO)}negate(){return new B(h(-this.X),this.Y,this.Z,h(-this.T))}double(){const{a:C}=i,{X:K,Y:N,Z:H}=this,Q=h(K*K),it=h(N*N),ft=h(Ni*h(H*H)),ct=h(C*Q),z=K+N,tt=h(h(z*z)-Q-it),Y=ct+it,J=Y-ft,y=ct-it,a=h(tt*J),d=h(Y*y),p=h(tt*y),b=h(J*Y);return new B(a,d,b,p)}add(C){_(C);const{a:K,d:N}=i,{X:H,Y:Q,Z:it,T:ft}=this,{X:ct,Y:z,Z:tt,T:Y}=C,J=h(H*ct),y=h(Q*z),a=h(ft*N*Y),d=h(it*tt),p=h((H+Q)*(ct+z)-J-y),b=d-a,v=d+a,I=h(y-K*J),R=h(p*b),m=h(v*I),f=h(p*I),x=h(b*v);return new B(R,m,x,f)}subtract(C){return this.add(C.negate())}multiply(C){if(!s.isValidNot0(C))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:K,f:N}=T.cached(this,C,H=>Br(B,H));return Br(B,[K,N])[0]}multiplyUnsafe(C,K=B.ZERO){if(!s.isValid(C))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return C===mr?B.ZERO:this.is0()||C===de?this:T.unsafe(this,C,N=>Br(B,N),K)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return T.unsafe(this,i.n).is0()}toAffine(C){return A(this,C)}clearCofactor(){return o===de?this:this.multiplyUnsafe(o)}toBytes(){const{x:C,y:K}=this.toAffine(),N=r.toBytes(K);return N[N.length-1]|=C&de?128:0,N}toHex(){return Mr(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(C){return Br(B,C)}static msm(C,K){return ga(B,s,C,K)}_setWindowSize(C){this.precompute(C)}toRawBytes(){return this.toBytes()}}B.BASE=new B(i.Gx,i.Gy,de,h(i.Gx*i.Gy)),B.ZERO=new B(mr,de,de,mr),B.Fp=r,B.Fn=s;const T=new pa(B,s.BITS);return B.BASE.precompute(8),B}function Nu(n,t,e={}){if(typeof t!="function")throw new Error('"hash" function param is required');vn(e,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=e,{BASE:s,Fp:i,Fn:o}=n,c=e.randomBytes||ps,h=e.adjustScalarBytes||(z=>z),w=e.domain||((z,tt,Y)=>{if(Tr(Y,"phflag"),tt.length||Y)throw new Error("Contexts/pre-hash are not supported");return z});function E(z){return o.create(dn(z))}function _(z){const tt=N.secretKey;z=Ht("private key",z,tt);const Y=Ht("hashed private key",t(z),2*tt),J=h(Y.slice(0,tt)),y=Y.slice(tt,2*tt),a=E(J);return{head:J,prefix:y,scalar:a}}function A(z){const{head:tt,prefix:Y,scalar:J}=_(z),y=s.multiply(J),a=y.toBytes();return{head:tt,prefix:Y,scalar:J,point:y,pointBytes:a}}function S(z){return A(z).pointBytes}function B(z=Uint8Array.of(),...tt){const Y=Ye(...tt);return E(t(w(Y,Ht("context",z),!!r)))}function T(z,tt,Y={}){z=Ht("message",z),r&&(z=r(z));const{prefix:J,scalar:y,pointBytes:a}=A(tt),d=B(Y.context,J,z),p=s.multiply(d).toBytes(),b=B(Y.context,p,a,z),v=o.create(d+b*y);if(!o.isValid(v))throw new Error("sign failed: invalid s");const I=Ye(p,o.toBytes(v));return We(I,N.signature,"result")}const P={zip215:!0};function C(z,tt,Y,J=P){const{context:y,zip215:a}=J,d=N.signature;z=Ht("signature",z,d),tt=Ht("message",tt),Y=Ht("publicKey",Y,N.publicKey),a!==void 0&&Tr(a,"zip215"),r&&(tt=r(tt));const p=d/2,b=z.subarray(0,p),v=dn(z.subarray(p,d));let I,R,m;try{I=n.fromBytes(Y,a),R=n.fromBytes(b,a),m=s.multiplyUnsafe(v)}catch{return!1}if(!a&&I.isSmallOrder())return!1;const f=B(y,R.toBytes(),I.toBytes(),tt);return R.add(I.multiplyUnsafe(f)).subtract(m).clearCofactor().is0()}const K=i.BYTES,N={secretKey:K,publicKey:K,signature:2*K,seed:K};function H(z=c(N.seed)){return We(z,N.seed,"seed")}function Q(z){const tt=ct.randomSecretKey(z);return{secretKey:tt,publicKey:S(tt)}}function it(z){return bn(z)&&z.length===o.BYTES}function ft(z,tt){try{return!!n.fromBytes(z,tt)}catch{return!1}}const ct={getExtendedPublicKey:A,randomSecretKey:H,isValidSecretKey:it,isValidPublicKey:ft,toMontgomery(z){const{y:tt}=n.fromBytes(z),Y=N.publicKey,J=Y===32;if(!J&&Y!==57)throw new Error("only defined for 25519 and 448");const y=J?i.div(de+tt,de-tt):i.div(tt-de,tt+de);return i.toBytes(y)},toMontgomerySecret(z){const tt=N.secretKey;We(z,tt);const Y=t(z.subarray(0,tt));return h(Y).subarray(0,tt)},randomPrivateKey:H,precompute(z=8,tt=n.BASE){return tt.precompute(z,!1)}};return Object.freeze({keygen:Q,getPublicKey:S,sign:T,verify:C,utils:ct,Point:n,lengths:N})}function Fu(n){const t={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},e=n.Fp,r=Cr(t.n,n.nBitLength,!0),s={Fp:e,Fn:r,uvRatio:n.uvRatio},i={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:t,curveOpts:s,hash:n.hash,eddsaOpts:i}}function zu(n,t){const e=t.Point;return Object.assign({},t,{ExtendedPoint:e,CURVE:n,nBitLength:e.Fn.BITS,nByteLength:e.Fn.BYTES})}function Ku(n){const{CURVE:t,curveOpts:e,hash:r,eddsaOpts:s}=Fu(n),i=Ou(t,e),o=Nu(i,r,s);return zu(n,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Du=BigInt(1),go=BigInt(2);BigInt(3);const Wu=BigInt(5),qu=BigInt(8),ws=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),ma={p:ws,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:qu,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function $u(n){const t=BigInt(10),e=BigInt(20),r=BigInt(40),s=BigInt(80),i=ws,c=n*n%i*n%i,h=Vt(c,go,i)*c%i,w=Vt(h,Du,i)*n%i,E=Vt(w,Wu,i)*w%i,_=Vt(E,t,i)*E%i,A=Vt(_,e,i)*_%i,S=Vt(A,r,i)*A%i,B=Vt(S,s,i)*S%i,T=Vt(B,s,i)*S%i,P=Vt(T,t,i)*E%i;return{pow_p_5_8:Vt(P,go,i)*n%i,b2:c}}function Vu(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const yo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Hu(n,t){const e=ws,r=he(t*t*t,e),s=he(r*r*t,e),i=$u(n*s).pow_p_5_8;let o=he(n*r*i,e);const c=he(t*o*o,e),h=o,w=he(o*yo,e),E=c===n,_=c===he(-n,e),A=c===he(-n*yo,e);return E&&(o=h),(_||A)&&(o=w),_u(o,e)&&(o=he(-o,e)),{isValid:E||_,value:o}}const ju=Cr(ma.p,{isLE:!0}),Gu={...ma,Fp:ju,hash:wu,adjustScalarBytes:Vu,uvRatio:Hu},rn=Ku(Gu);var bs={exports:{}};const Zu={},Yu=Object.freeze(Object.defineProperty({__proto__:null,default:Zu},Symbol.toStringTag,{value:"Module"})),Xu=fs(Yu);bs.exports;(function(n){(function(t,e){function r(y,a){if(!y)throw new Error(a||"Assertion failed")}function s(y,a){y.super_=a;var d=function(){};d.prototype=a.prototype,y.prototype=new d,y.prototype.constructor=y}function i(y,a,d){if(i.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,y!==null&&((a==="le"||a==="be")&&(d=a,a=10),this._init(y||0,a||10,d||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Xu.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,d){return a.cmp(d)>0?a:d},i.min=function(a,d){return a.cmp(d)<0?a:d},i.prototype._init=function(a,d,p){if(typeof a=="number")return this._initNumber(a,d,p);if(typeof a=="object")return this._initArray(a,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),a=a.toString().replace(/\s+/g,"");var b=0;a[0]==="-"&&(b++,this.negative=1),b<a.length&&(d===16?this._parseHex(a,b,p):(this._parseBase(a,d,b),p==="le"&&this._initArray(this.toArray(),d,p)))},i.prototype._initNumber=function(a,d,p){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},i.prototype._initArray=function(a,d,p){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var v,I,R=0;if(p==="be")for(b=a.length-1,v=0;b>=0;b-=3)I=a[b]|a[b-1]<<8|a[b-2]<<16,this.words[v]|=I<<R&67108863,this.words[v+1]=I>>>26-R&67108863,R+=24,R>=26&&(R-=26,v++);else if(p==="le")for(b=0,v=0;b<a.length;b+=3)I=a[b]|a[b+1]<<8|a[b+2]<<16,this.words[v]|=I<<R&67108863,this.words[v+1]=I>>>26-R&67108863,R+=24,R>=26&&(R-=26,v++);return this._strip()};function c(y,a){var d=y.charCodeAt(a);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;r(!1,"Invalid character in "+y)}function h(y,a,d){var p=c(y,d);return d-1>=a&&(p|=c(y,d-1)<<4),p}i.prototype._parseHex=function(a,d,p){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var v=0,I=0,R;if(p==="be")for(b=a.length-1;b>=d;b-=2)R=h(a,d,b)<<v,this.words[I]|=R&67108863,v>=18?(v-=18,I+=1,this.words[I]|=R>>>26):v+=8;else{var m=a.length-d;for(b=m%2===0?d+1:d;b<a.length;b+=2)R=h(a,d,b)<<v,this.words[I]|=R&67108863,v>=18?(v-=18,I+=1,this.words[I]|=R>>>26):v+=8}this._strip()};function w(y,a,d,p){for(var b=0,v=0,I=Math.min(y.length,d),R=a;R<I;R++){var m=y.charCodeAt(R)-48;b*=p,m>=49?v=m-49+10:m>=17?v=m-17+10:v=m,r(m>=0&&v<p,"Invalid character"),b+=v}return b}i.prototype._parseBase=function(a,d,p){this.words=[0],this.length=1;for(var b=0,v=1;v<=67108863;v*=d)b++;b--,v=v/d|0;for(var I=a.length-p,R=I%b,m=Math.min(I,I-R)+p,f=0,x=p;x<m;x+=b)f=w(a,x,x+b,d),this.imuln(v),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var j=1;for(f=w(a,x,a.length,d),x=0;x<R;x++)j*=d;this.imuln(j),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red};function E(y,a){y.words=a.words,y.length=a.length,y.negative=a.negative,y.red=a.red}if(i.prototype._move=function(a){E(a,this)},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{i.prototype.inspect=_}else i.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,d){a=a||10,d=d|0||1;var p;if(a===16||a==="hex"){p="";for(var b=0,v=0,I=0;I<this.length;I++){var R=this.words[I],m=((R<<b|v)&16777215).toString(16);v=R>>>24-b&16777215,b+=2,b>=26&&(b-=26,I--),v!==0||I!==this.length-1?p=A[6-m.length]+m+p:p=m+p}for(v!==0&&(p=v.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(a===(a|0)&&a>=2&&a<=36){var f=S[a],x=B[a];p="";var j=this.clone();for(j.negative=0;!j.isZero();){var q=j.modrn(x).toString(a);j=j.idivn(x),j.isZero()?p=q+p:p=A[f-q.length]+q+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(a,d){return this.toArrayLike(o,a,d)}),i.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)};var T=function(a,d){return a.allocUnsafe?a.allocUnsafe(d):new a(d)};i.prototype.toArrayLike=function(a,d,p){this._strip();var b=this.byteLength(),v=p||Math.max(1,b);r(b<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var I=T(a,v),R=d==="le"?"LE":"BE";return this["_toArrayLike"+R](I,b),I},i.prototype._toArrayLikeLE=function(a,d){for(var p=0,b=0,v=0,I=0;v<this.length;v++){var R=this.words[v]<<I|b;a[p++]=R&255,p<a.length&&(a[p++]=R>>8&255),p<a.length&&(a[p++]=R>>16&255),I===6?(p<a.length&&(a[p++]=R>>24&255),b=0,I=0):(b=R>>>24,I+=2)}if(p<a.length)for(a[p++]=b;p<a.length;)a[p++]=0},i.prototype._toArrayLikeBE=function(a,d){for(var p=a.length-1,b=0,v=0,I=0;v<this.length;v++){var R=this.words[v]<<I|b;a[p--]=R&255,p>=0&&(a[p--]=R>>8&255),p>=0&&(a[p--]=R>>16&255),I===6?(p>=0&&(a[p--]=R>>24&255),b=0,I=0):(b=R>>>24,I+=2)}if(p>=0)for(a[p--]=b;p>=0;)a[p--]=0},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var d=a,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},i.prototype._zeroBits=function(a){if(a===0)return 26;var d=a,p=0;return d&8191||(p+=13,d>>>=13),d&127||(p+=7,d>>>=7),d&15||(p+=4,d>>>=4),d&3||(p+=2,d>>>=2),d&1||p++,p},i.prototype.bitLength=function(){var a=this.words[this.length-1],d=this._countBits(a);return(this.length-1)*26+d};function P(y){for(var a=new Array(y.bitLength()),d=0;d<a.length;d++){var p=d/26|0,b=d%26;a[d]=y.words[p]>>>b&1}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(a+=p,p!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this._strip()},i.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var d;this.length>a.length?d=a:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&a.words[p];return this.length=d.length,this._strip()},i.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var d,p;this.length>a.length?(d=this,p=a):(d=a,p=this);for(var b=0;b<p.length;b++)this.words[b]=d.words[b]^p.words[b];if(this!==d)for(;b<d.length;b++)this.words[b]=d.words[b];return this.length=d.length,this._strip()},i.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var d=Math.ceil(a/26)|0,p=a%26;this._expand(d),p>0&&d--;for(var b=0;b<d;b++)this.words[b]=~this.words[b]&67108863;return p>0&&(this.words[b]=~this.words[b]&67108863>>26-p),this._strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,d){r(typeof a=="number"&&a>=0);var p=a/26|0,b=a%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<b:this.words[p]=this.words[p]&~(1<<b),this._strip()},i.prototype.iadd=function(a){var d;if(this.negative!==0&&a.negative===0)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();var p,b;this.length>a.length?(p=this,b=a):(p=a,b=this);for(var v=0,I=0;I<b.length;I++)d=(p.words[I]|0)+(b.words[I]|0)+v,this.words[I]=d&67108863,v=d>>>26;for(;v!==0&&I<p.length;I++)d=(p.words[I]|0)+v,this.words[I]=d&67108863,v=d>>>26;if(this.length=p.length,v!==0)this.words[this.length]=v,this.length++;else if(p!==this)for(;I<p.length;I++)this.words[I]=p.words[I];return this},i.prototype.add=function(a){var d;return a.negative!==0&&this.negative===0?(a.negative=0,d=this.sub(a),a.negative^=1,d):a.negative===0&&this.negative!==0?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p=this.cmp(a);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,v;p>0?(b=this,v=a):(b=a,v=this);for(var I=0,R=0;R<v.length;R++)d=(b.words[R]|0)-(v.words[R]|0)+I,I=d>>26,this.words[R]=d&67108863;for(;I!==0&&R<b.length;R++)d=(b.words[R]|0)+I,I=d>>26,this.words[R]=d&67108863;if(I===0&&R<b.length&&b!==this)for(;R<b.length;R++)this.words[R]=b.words[R];return this.length=Math.max(this.length,R),b!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function C(y,a,d){d.negative=a.negative^y.negative;var p=y.length+a.length|0;d.length=p,p=p-1|0;var b=y.words[0]|0,v=a.words[0]|0,I=b*v,R=I&67108863,m=I/67108864|0;d.words[0]=R;for(var f=1;f<p;f++){for(var x=m>>>26,j=m&67108863,q=Math.min(f,a.length-1),X=Math.max(0,f-y.length+1);X<=q;X++){var mt=f-X|0;b=y.words[mt]|0,v=a.words[X]|0,I=b*v+j,x+=I/67108864|0,j=I&67108863}d.words[f]=j|0,m=x|0}return m!==0?d.words[f]=m|0:d.length--,d._strip()}var K=function(a,d,p){var b=a.words,v=d.words,I=p.words,R=0,m,f,x,j=b[0]|0,q=j&8191,X=j>>>13,mt=b[1]|0,lt=mt&8191,at=mt>>>13,Kt=b[2]|0,_t=Kt&8191,Bt=Kt>>>13,Ne=b[3]|0,Rt=Ne&8191,Dt=Ne>>>13,_n=b[4]|0,Ut=_n&8191,Wt=_n>>>13,An=b[5]|0,Nt=An&8191,Pt=An>>>13,Le=b[6]|0,Ot=Le&8191,qt=Le>>>13,De=b[7]|0,$t=De&8191,g=De>>>13,u=b[8]|0,l=u&8191,k=u>>>13,M=b[9]|0,L=M&8191,F=M>>>13,pt=v[0]|0,dt=pt&8191,ht=pt>>>13,Lt=v[1]|0,ut=Lt&8191,Gt=Lt>>>13,Zs=v[2]|0,Zt=Zs&8191,Yt=Zs>>>13,Ys=v[3]|0,Xt=Ys&8191,Jt=Ys>>>13,Xs=v[4]|0,Qt=Xs&8191,te=Xs>>>13,Js=v[5]|0,ee=Js&8191,re=Js>>>13,Qs=v[6]|0,ne=Qs&8191,ie=Qs>>>13,to=v[7]|0,se=to&8191,oe=to>>>13,eo=v[8]|0,ae=eo&8191,ce=eo>>>13,ro=v[9]|0,ue=ro&8191,fe=ro>>>13;p.negative=a.negative^d.negative,p.length=19,m=Math.imul(q,dt),f=Math.imul(q,ht),f=f+Math.imul(X,dt)|0,x=Math.imul(X,ht);var hi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,m=Math.imul(lt,dt),f=Math.imul(lt,ht),f=f+Math.imul(at,dt)|0,x=Math.imul(at,ht),m=m+Math.imul(q,ut)|0,f=f+Math.imul(q,Gt)|0,f=f+Math.imul(X,ut)|0,x=x+Math.imul(X,Gt)|0;var di=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(di>>>26)|0,di&=67108863,m=Math.imul(_t,dt),f=Math.imul(_t,ht),f=f+Math.imul(Bt,dt)|0,x=Math.imul(Bt,ht),m=m+Math.imul(lt,ut)|0,f=f+Math.imul(lt,Gt)|0,f=f+Math.imul(at,ut)|0,x=x+Math.imul(at,Gt)|0,m=m+Math.imul(q,Zt)|0,f=f+Math.imul(q,Yt)|0,f=f+Math.imul(X,Zt)|0,x=x+Math.imul(X,Yt)|0;var pi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(pi>>>26)|0,pi&=67108863,m=Math.imul(Rt,dt),f=Math.imul(Rt,ht),f=f+Math.imul(Dt,dt)|0,x=Math.imul(Dt,ht),m=m+Math.imul(_t,ut)|0,f=f+Math.imul(_t,Gt)|0,f=f+Math.imul(Bt,ut)|0,x=x+Math.imul(Bt,Gt)|0,m=m+Math.imul(lt,Zt)|0,f=f+Math.imul(lt,Yt)|0,f=f+Math.imul(at,Zt)|0,x=x+Math.imul(at,Yt)|0,m=m+Math.imul(q,Xt)|0,f=f+Math.imul(q,Jt)|0,f=f+Math.imul(X,Xt)|0,x=x+Math.imul(X,Jt)|0;var gi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(gi>>>26)|0,gi&=67108863,m=Math.imul(Ut,dt),f=Math.imul(Ut,ht),f=f+Math.imul(Wt,dt)|0,x=Math.imul(Wt,ht),m=m+Math.imul(Rt,ut)|0,f=f+Math.imul(Rt,Gt)|0,f=f+Math.imul(Dt,ut)|0,x=x+Math.imul(Dt,Gt)|0,m=m+Math.imul(_t,Zt)|0,f=f+Math.imul(_t,Yt)|0,f=f+Math.imul(Bt,Zt)|0,x=x+Math.imul(Bt,Yt)|0,m=m+Math.imul(lt,Xt)|0,f=f+Math.imul(lt,Jt)|0,f=f+Math.imul(at,Xt)|0,x=x+Math.imul(at,Jt)|0,m=m+Math.imul(q,Qt)|0,f=f+Math.imul(q,te)|0,f=f+Math.imul(X,Qt)|0,x=x+Math.imul(X,te)|0;var yi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,m=Math.imul(Nt,dt),f=Math.imul(Nt,ht),f=f+Math.imul(Pt,dt)|0,x=Math.imul(Pt,ht),m=m+Math.imul(Ut,ut)|0,f=f+Math.imul(Ut,Gt)|0,f=f+Math.imul(Wt,ut)|0,x=x+Math.imul(Wt,Gt)|0,m=m+Math.imul(Rt,Zt)|0,f=f+Math.imul(Rt,Yt)|0,f=f+Math.imul(Dt,Zt)|0,x=x+Math.imul(Dt,Yt)|0,m=m+Math.imul(_t,Xt)|0,f=f+Math.imul(_t,Jt)|0,f=f+Math.imul(Bt,Xt)|0,x=x+Math.imul(Bt,Jt)|0,m=m+Math.imul(lt,Qt)|0,f=f+Math.imul(lt,te)|0,f=f+Math.imul(at,Qt)|0,x=x+Math.imul(at,te)|0,m=m+Math.imul(q,ee)|0,f=f+Math.imul(q,re)|0,f=f+Math.imul(X,ee)|0,x=x+Math.imul(X,re)|0;var mi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(mi>>>26)|0,mi&=67108863,m=Math.imul(Ot,dt),f=Math.imul(Ot,ht),f=f+Math.imul(qt,dt)|0,x=Math.imul(qt,ht),m=m+Math.imul(Nt,ut)|0,f=f+Math.imul(Nt,Gt)|0,f=f+Math.imul(Pt,ut)|0,x=x+Math.imul(Pt,Gt)|0,m=m+Math.imul(Ut,Zt)|0,f=f+Math.imul(Ut,Yt)|0,f=f+Math.imul(Wt,Zt)|0,x=x+Math.imul(Wt,Yt)|0,m=m+Math.imul(Rt,Xt)|0,f=f+Math.imul(Rt,Jt)|0,f=f+Math.imul(Dt,Xt)|0,x=x+Math.imul(Dt,Jt)|0,m=m+Math.imul(_t,Qt)|0,f=f+Math.imul(_t,te)|0,f=f+Math.imul(Bt,Qt)|0,x=x+Math.imul(Bt,te)|0,m=m+Math.imul(lt,ee)|0,f=f+Math.imul(lt,re)|0,f=f+Math.imul(at,ee)|0,x=x+Math.imul(at,re)|0,m=m+Math.imul(q,ne)|0,f=f+Math.imul(q,ie)|0,f=f+Math.imul(X,ne)|0,x=x+Math.imul(X,ie)|0;var wi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,m=Math.imul($t,dt),f=Math.imul($t,ht),f=f+Math.imul(g,dt)|0,x=Math.imul(g,ht),m=m+Math.imul(Ot,ut)|0,f=f+Math.imul(Ot,Gt)|0,f=f+Math.imul(qt,ut)|0,x=x+Math.imul(qt,Gt)|0,m=m+Math.imul(Nt,Zt)|0,f=f+Math.imul(Nt,Yt)|0,f=f+Math.imul(Pt,Zt)|0,x=x+Math.imul(Pt,Yt)|0,m=m+Math.imul(Ut,Xt)|0,f=f+Math.imul(Ut,Jt)|0,f=f+Math.imul(Wt,Xt)|0,x=x+Math.imul(Wt,Jt)|0,m=m+Math.imul(Rt,Qt)|0,f=f+Math.imul(Rt,te)|0,f=f+Math.imul(Dt,Qt)|0,x=x+Math.imul(Dt,te)|0,m=m+Math.imul(_t,ee)|0,f=f+Math.imul(_t,re)|0,f=f+Math.imul(Bt,ee)|0,x=x+Math.imul(Bt,re)|0,m=m+Math.imul(lt,ne)|0,f=f+Math.imul(lt,ie)|0,f=f+Math.imul(at,ne)|0,x=x+Math.imul(at,ie)|0,m=m+Math.imul(q,se)|0,f=f+Math.imul(q,oe)|0,f=f+Math.imul(X,se)|0,x=x+Math.imul(X,oe)|0;var bi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(bi>>>26)|0,bi&=67108863,m=Math.imul(l,dt),f=Math.imul(l,ht),f=f+Math.imul(k,dt)|0,x=Math.imul(k,ht),m=m+Math.imul($t,ut)|0,f=f+Math.imul($t,Gt)|0,f=f+Math.imul(g,ut)|0,x=x+Math.imul(g,Gt)|0,m=m+Math.imul(Ot,Zt)|0,f=f+Math.imul(Ot,Yt)|0,f=f+Math.imul(qt,Zt)|0,x=x+Math.imul(qt,Yt)|0,m=m+Math.imul(Nt,Xt)|0,f=f+Math.imul(Nt,Jt)|0,f=f+Math.imul(Pt,Xt)|0,x=x+Math.imul(Pt,Jt)|0,m=m+Math.imul(Ut,Qt)|0,f=f+Math.imul(Ut,te)|0,f=f+Math.imul(Wt,Qt)|0,x=x+Math.imul(Wt,te)|0,m=m+Math.imul(Rt,ee)|0,f=f+Math.imul(Rt,re)|0,f=f+Math.imul(Dt,ee)|0,x=x+Math.imul(Dt,re)|0,m=m+Math.imul(_t,ne)|0,f=f+Math.imul(_t,ie)|0,f=f+Math.imul(Bt,ne)|0,x=x+Math.imul(Bt,ie)|0,m=m+Math.imul(lt,se)|0,f=f+Math.imul(lt,oe)|0,f=f+Math.imul(at,se)|0,x=x+Math.imul(at,oe)|0,m=m+Math.imul(q,ae)|0,f=f+Math.imul(q,ce)|0,f=f+Math.imul(X,ae)|0,x=x+Math.imul(X,ce)|0;var ki=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(ki>>>26)|0,ki&=67108863,m=Math.imul(L,dt),f=Math.imul(L,ht),f=f+Math.imul(F,dt)|0,x=Math.imul(F,ht),m=m+Math.imul(l,ut)|0,f=f+Math.imul(l,Gt)|0,f=f+Math.imul(k,ut)|0,x=x+Math.imul(k,Gt)|0,m=m+Math.imul($t,Zt)|0,f=f+Math.imul($t,Yt)|0,f=f+Math.imul(g,Zt)|0,x=x+Math.imul(g,Yt)|0,m=m+Math.imul(Ot,Xt)|0,f=f+Math.imul(Ot,Jt)|0,f=f+Math.imul(qt,Xt)|0,x=x+Math.imul(qt,Jt)|0,m=m+Math.imul(Nt,Qt)|0,f=f+Math.imul(Nt,te)|0,f=f+Math.imul(Pt,Qt)|0,x=x+Math.imul(Pt,te)|0,m=m+Math.imul(Ut,ee)|0,f=f+Math.imul(Ut,re)|0,f=f+Math.imul(Wt,ee)|0,x=x+Math.imul(Wt,re)|0,m=m+Math.imul(Rt,ne)|0,f=f+Math.imul(Rt,ie)|0,f=f+Math.imul(Dt,ne)|0,x=x+Math.imul(Dt,ie)|0,m=m+Math.imul(_t,se)|0,f=f+Math.imul(_t,oe)|0,f=f+Math.imul(Bt,se)|0,x=x+Math.imul(Bt,oe)|0,m=m+Math.imul(lt,ae)|0,f=f+Math.imul(lt,ce)|0,f=f+Math.imul(at,ae)|0,x=x+Math.imul(at,ce)|0,m=m+Math.imul(q,ue)|0,f=f+Math.imul(q,fe)|0,f=f+Math.imul(X,ue)|0,x=x+Math.imul(X,fe)|0;var vi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(vi>>>26)|0,vi&=67108863,m=Math.imul(L,ut),f=Math.imul(L,Gt),f=f+Math.imul(F,ut)|0,x=Math.imul(F,Gt),m=m+Math.imul(l,Zt)|0,f=f+Math.imul(l,Yt)|0,f=f+Math.imul(k,Zt)|0,x=x+Math.imul(k,Yt)|0,m=m+Math.imul($t,Xt)|0,f=f+Math.imul($t,Jt)|0,f=f+Math.imul(g,Xt)|0,x=x+Math.imul(g,Jt)|0,m=m+Math.imul(Ot,Qt)|0,f=f+Math.imul(Ot,te)|0,f=f+Math.imul(qt,Qt)|0,x=x+Math.imul(qt,te)|0,m=m+Math.imul(Nt,ee)|0,f=f+Math.imul(Nt,re)|0,f=f+Math.imul(Pt,ee)|0,x=x+Math.imul(Pt,re)|0,m=m+Math.imul(Ut,ne)|0,f=f+Math.imul(Ut,ie)|0,f=f+Math.imul(Wt,ne)|0,x=x+Math.imul(Wt,ie)|0,m=m+Math.imul(Rt,se)|0,f=f+Math.imul(Rt,oe)|0,f=f+Math.imul(Dt,se)|0,x=x+Math.imul(Dt,oe)|0,m=m+Math.imul(_t,ae)|0,f=f+Math.imul(_t,ce)|0,f=f+Math.imul(Bt,ae)|0,x=x+Math.imul(Bt,ce)|0,m=m+Math.imul(lt,ue)|0,f=f+Math.imul(lt,fe)|0,f=f+Math.imul(at,ue)|0,x=x+Math.imul(at,fe)|0;var Si=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(Si>>>26)|0,Si&=67108863,m=Math.imul(L,Zt),f=Math.imul(L,Yt),f=f+Math.imul(F,Zt)|0,x=Math.imul(F,Yt),m=m+Math.imul(l,Xt)|0,f=f+Math.imul(l,Jt)|0,f=f+Math.imul(k,Xt)|0,x=x+Math.imul(k,Jt)|0,m=m+Math.imul($t,Qt)|0,f=f+Math.imul($t,te)|0,f=f+Math.imul(g,Qt)|0,x=x+Math.imul(g,te)|0,m=m+Math.imul(Ot,ee)|0,f=f+Math.imul(Ot,re)|0,f=f+Math.imul(qt,ee)|0,x=x+Math.imul(qt,re)|0,m=m+Math.imul(Nt,ne)|0,f=f+Math.imul(Nt,ie)|0,f=f+Math.imul(Pt,ne)|0,x=x+Math.imul(Pt,ie)|0,m=m+Math.imul(Ut,se)|0,f=f+Math.imul(Ut,oe)|0,f=f+Math.imul(Wt,se)|0,x=x+Math.imul(Wt,oe)|0,m=m+Math.imul(Rt,ae)|0,f=f+Math.imul(Rt,ce)|0,f=f+Math.imul(Dt,ae)|0,x=x+Math.imul(Dt,ce)|0,m=m+Math.imul(_t,ue)|0,f=f+Math.imul(_t,fe)|0,f=f+Math.imul(Bt,ue)|0,x=x+Math.imul(Bt,fe)|0;var xi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(xi>>>26)|0,xi&=67108863,m=Math.imul(L,Xt),f=Math.imul(L,Jt),f=f+Math.imul(F,Xt)|0,x=Math.imul(F,Jt),m=m+Math.imul(l,Qt)|0,f=f+Math.imul(l,te)|0,f=f+Math.imul(k,Qt)|0,x=x+Math.imul(k,te)|0,m=m+Math.imul($t,ee)|0,f=f+Math.imul($t,re)|0,f=f+Math.imul(g,ee)|0,x=x+Math.imul(g,re)|0,m=m+Math.imul(Ot,ne)|0,f=f+Math.imul(Ot,ie)|0,f=f+Math.imul(qt,ne)|0,x=x+Math.imul(qt,ie)|0,m=m+Math.imul(Nt,se)|0,f=f+Math.imul(Nt,oe)|0,f=f+Math.imul(Pt,se)|0,x=x+Math.imul(Pt,oe)|0,m=m+Math.imul(Ut,ae)|0,f=f+Math.imul(Ut,ce)|0,f=f+Math.imul(Wt,ae)|0,x=x+Math.imul(Wt,ce)|0,m=m+Math.imul(Rt,ue)|0,f=f+Math.imul(Rt,fe)|0,f=f+Math.imul(Dt,ue)|0,x=x+Math.imul(Dt,fe)|0;var Ei=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,m=Math.imul(L,Qt),f=Math.imul(L,te),f=f+Math.imul(F,Qt)|0,x=Math.imul(F,te),m=m+Math.imul(l,ee)|0,f=f+Math.imul(l,re)|0,f=f+Math.imul(k,ee)|0,x=x+Math.imul(k,re)|0,m=m+Math.imul($t,ne)|0,f=f+Math.imul($t,ie)|0,f=f+Math.imul(g,ne)|0,x=x+Math.imul(g,ie)|0,m=m+Math.imul(Ot,se)|0,f=f+Math.imul(Ot,oe)|0,f=f+Math.imul(qt,se)|0,x=x+Math.imul(qt,oe)|0,m=m+Math.imul(Nt,ae)|0,f=f+Math.imul(Nt,ce)|0,f=f+Math.imul(Pt,ae)|0,x=x+Math.imul(Pt,ce)|0,m=m+Math.imul(Ut,ue)|0,f=f+Math.imul(Ut,fe)|0,f=f+Math.imul(Wt,ue)|0,x=x+Math.imul(Wt,fe)|0;var Ii=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,m=Math.imul(L,ee),f=Math.imul(L,re),f=f+Math.imul(F,ee)|0,x=Math.imul(F,re),m=m+Math.imul(l,ne)|0,f=f+Math.imul(l,ie)|0,f=f+Math.imul(k,ne)|0,x=x+Math.imul(k,ie)|0,m=m+Math.imul($t,se)|0,f=f+Math.imul($t,oe)|0,f=f+Math.imul(g,se)|0,x=x+Math.imul(g,oe)|0,m=m+Math.imul(Ot,ae)|0,f=f+Math.imul(Ot,ce)|0,f=f+Math.imul(qt,ae)|0,x=x+Math.imul(qt,ce)|0,m=m+Math.imul(Nt,ue)|0,f=f+Math.imul(Nt,fe)|0,f=f+Math.imul(Pt,ue)|0,x=x+Math.imul(Pt,fe)|0;var _i=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(_i>>>26)|0,_i&=67108863,m=Math.imul(L,ne),f=Math.imul(L,ie),f=f+Math.imul(F,ne)|0,x=Math.imul(F,ie),m=m+Math.imul(l,se)|0,f=f+Math.imul(l,oe)|0,f=f+Math.imul(k,se)|0,x=x+Math.imul(k,oe)|0,m=m+Math.imul($t,ae)|0,f=f+Math.imul($t,ce)|0,f=f+Math.imul(g,ae)|0,x=x+Math.imul(g,ce)|0,m=m+Math.imul(Ot,ue)|0,f=f+Math.imul(Ot,fe)|0,f=f+Math.imul(qt,ue)|0,x=x+Math.imul(qt,fe)|0;var Ai=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,m=Math.imul(L,se),f=Math.imul(L,oe),f=f+Math.imul(F,se)|0,x=Math.imul(F,oe),m=m+Math.imul(l,ae)|0,f=f+Math.imul(l,ce)|0,f=f+Math.imul(k,ae)|0,x=x+Math.imul(k,ce)|0,m=m+Math.imul($t,ue)|0,f=f+Math.imul($t,fe)|0,f=f+Math.imul(g,ue)|0,x=x+Math.imul(g,fe)|0;var Bi=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(Bi>>>26)|0,Bi&=67108863,m=Math.imul(L,ae),f=Math.imul(L,ce),f=f+Math.imul(F,ae)|0,x=Math.imul(F,ce),m=m+Math.imul(l,ue)|0,f=f+Math.imul(l,fe)|0,f=f+Math.imul(k,ue)|0,x=x+Math.imul(k,fe)|0;var Ri=(R+m|0)+((f&8191)<<13)|0;R=(x+(f>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,m=Math.imul(L,ue),f=Math.imul(L,fe),f=f+Math.imul(F,ue)|0,x=Math.imul(F,fe);var Mi=(R+m|0)+((f&8191)<<13)|0;return R=(x+(f>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,I[0]=hi,I[1]=di,I[2]=pi,I[3]=gi,I[4]=yi,I[5]=mi,I[6]=wi,I[7]=bi,I[8]=ki,I[9]=vi,I[10]=Si,I[11]=xi,I[12]=Ei,I[13]=Ii,I[14]=_i,I[15]=Ai,I[16]=Bi,I[17]=Ri,I[18]=Mi,R!==0&&(I[19]=R,p.length++),p};Math.imul||(K=C);function N(y,a,d){d.negative=a.negative^y.negative,d.length=y.length+a.length;for(var p=0,b=0,v=0;v<d.length-1;v++){var I=b;b=0;for(var R=p&67108863,m=Math.min(v,a.length-1),f=Math.max(0,v-y.length+1);f<=m;f++){var x=v-f,j=y.words[x]|0,q=a.words[f]|0,X=j*q,mt=X&67108863;I=I+(X/67108864|0)|0,mt=mt+R|0,R=mt&67108863,I=I+(mt>>>26)|0,b+=I>>>26,I&=67108863}d.words[v]=R,p=I,I=b}return p!==0?d.words[v]=p:d.length--,d._strip()}function H(y,a,d){return N(y,a,d)}i.prototype.mulTo=function(a,d){var p,b=this.length+a.length;return this.length===10&&a.length===10?p=K(this,a,d):b<63?p=C(this,a,d):b<1024?p=N(this,a,d):p=H(this,a,d),p},i.prototype.mul=function(a){var d=new i(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},i.prototype.mulf=function(a){var d=new i(null);return d.words=new Array(this.length+a.length),H(this,a,d)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){var d=a<0;d&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var p=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*a,I=(v&67108863)+(p&67108863);p>>=26,p+=v/67108864|0,p+=I>>>26,this.words[b]=I&67108863}return p!==0&&(this.words[b]=p,this.length++),this.length=a===0?1:this.length,d?this.ineg():this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var d=P(a);if(d.length===0)return new i(1);for(var p=this,b=0;b<d.length&&d[b]===0;b++,p=p.sqr());if(++b<d.length)for(var v=p.sqr();b<d.length;b++,v=v.sqr())d[b]!==0&&(p=p.mul(v));return p},i.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var d=a%26,p=(a-d)/26,b=67108863>>>26-d<<26-d,v;if(d!==0){var I=0;for(v=0;v<this.length;v++){var R=this.words[v]&b,m=(this.words[v]|0)-R<<d;this.words[v]=m|I,I=R>>>26-d}I&&(this.words[v]=I,this.length++)}if(p!==0){for(v=this.length-1;v>=0;v--)this.words[v+p]=this.words[v];for(v=0;v<p;v++)this.words[v]=0;this.length+=p}return this._strip()},i.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,d,p){r(typeof a=="number"&&a>=0);var b;d?b=(d-d%26)/26:b=0;var v=a%26,I=Math.min((a-v)/26,this.length),R=67108863^67108863>>>v<<v,m=p;if(b-=I,b=Math.max(0,b),m){for(var f=0;f<I;f++)m.words[f]=this.words[f];m.length=I}if(I!==0)if(this.length>I)for(this.length-=I,f=0;f<this.length;f++)this.words[f]=this.words[f+I];else this.words[0]=0,this.length=1;var x=0;for(f=this.length-1;f>=0&&(x!==0||f>=b);f--){var j=this.words[f]|0;this.words[f]=x<<26-v|j>>>v,x=j&R}return m&&x!==0&&(m.words[m.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(a,d,p){return r(this.negative===0),this.iushrn(a,d,p)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var d=a%26,p=(a-d)/26,b=1<<d;if(this.length<=p)return!1;var v=this.words[p];return!!(v&b)},i.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var d=a%26,p=(a-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var b=67108863^67108863>>>d<<d;this.words[this.length-1]&=b}return this._strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,d,p){var b=a.length+p,v;this._expand(b);var I,R=0;for(v=0;v<a.length;v++){I=(this.words[v+p]|0)+R;var m=(a.words[v]|0)*d;I-=m&67108863,R=(I>>26)-(m/67108864|0),this.words[v+p]=I&67108863}for(;v<this.length-p;v++)I=(this.words[v+p]|0)+R,R=I>>26,this.words[v+p]=I&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,v=0;v<this.length;v++)I=-(this.words[v]|0)+R,R=I>>26,this.words[v]=I&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(a,d){var p=this.length-a.length,b=this.clone(),v=a,I=v.words[v.length-1]|0,R=this._countBits(I);p=26-R,p!==0&&(v=v.ushln(p),b.iushln(p),I=v.words[v.length-1]|0);var m=b.length-v.length,f;if(d!=="mod"){f=new i(null),f.length=m+1,f.words=new Array(f.length);for(var x=0;x<f.length;x++)f.words[x]=0}var j=b.clone()._ishlnsubmul(v,1,m);j.negative===0&&(b=j,f&&(f.words[m]=1));for(var q=m-1;q>=0;q--){var X=(b.words[v.length+q]|0)*67108864+(b.words[v.length+q-1]|0);for(X=Math.min(X/I|0,67108863),b._ishlnsubmul(v,X,q);b.negative!==0;)X--,b.negative=0,b._ishlnsubmul(v,1,q),b.isZero()||(b.negative^=1);f&&(f.words[q]=X)}return f&&f._strip(),b._strip(),d!=="div"&&p!==0&&b.iushrn(p),{div:f||null,mod:b}},i.prototype.divmod=function(a,d,p){if(r(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var b,v,I;return this.negative!==0&&a.negative===0?(I=this.neg().divmod(a,d),d!=="mod"&&(b=I.div.neg()),d!=="div"&&(v=I.mod.neg(),p&&v.negative!==0&&v.iadd(a)),{div:b,mod:v}):this.negative===0&&a.negative!==0?(I=this.divmod(a.neg(),d),d!=="mod"&&(b=I.div.neg()),{div:b,mod:I.mod}):this.negative&a.negative?(I=this.neg().divmod(a.neg(),d),d!=="div"&&(v=I.mod.neg(),p&&v.negative!==0&&v.isub(a)),{div:I.div,mod:v}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?d==="div"?{div:this.divn(a.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modrn(a.words[0]))}:this._wordDiv(a,d)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(a):d.mod,b=a.ushrn(1),v=a.andln(1),I=p.cmp(b);return I<0||v===1&&I===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(a){var d=a<0;d&&(a=-a),r(a<=67108863);for(var p=(1<<26)%a,b=0,v=this.length-1;v>=0;v--)b=(p*b+(this.words[v]|0))%a;return d?-b:b},i.prototype.modn=function(a){return this.modrn(a)},i.prototype.idivn=function(a){var d=a<0;d&&(a=-a),r(a<=67108863);for(var p=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+p*67108864;this.words[b]=v/a|0,p=v%a}return this._strip(),d?this.ineg():this},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var d=this,p=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var b=new i(1),v=new i(0),I=new i(0),R=new i(1),m=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++m;for(var f=p.clone(),x=d.clone();!d.isZero();){for(var j=0,q=1;!(d.words[0]&q)&&j<26;++j,q<<=1);if(j>0)for(d.iushrn(j);j-- >0;)(b.isOdd()||v.isOdd())&&(b.iadd(f),v.isub(x)),b.iushrn(1),v.iushrn(1);for(var X=0,mt=1;!(p.words[0]&mt)&&X<26;++X,mt<<=1);if(X>0)for(p.iushrn(X);X-- >0;)(I.isOdd()||R.isOdd())&&(I.iadd(f),R.isub(x)),I.iushrn(1),R.iushrn(1);d.cmp(p)>=0?(d.isub(p),b.isub(I),v.isub(R)):(p.isub(d),I.isub(b),R.isub(v))}return{a:I,b:R,gcd:p.iushln(m)}},i.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var d=this,p=a.clone();d.negative!==0?d=d.umod(a):d=d.clone();for(var b=new i(1),v=new i(0),I=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var R=0,m=1;!(d.words[0]&m)&&R<26;++R,m<<=1);if(R>0)for(d.iushrn(R);R-- >0;)b.isOdd()&&b.iadd(I),b.iushrn(1);for(var f=0,x=1;!(p.words[0]&x)&&f<26;++f,x<<=1);if(f>0)for(p.iushrn(f);f-- >0;)v.isOdd()&&v.iadd(I),v.iushrn(1);d.cmp(p)>=0?(d.isub(p),b.isub(v)):(p.isub(d),v.isub(b))}var j;return d.cmpn(1)===0?j=b:j=v,j.cmpn(0)<0&&j.iadd(a),j},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),p=a.clone();d.negative=0,p.negative=0;for(var b=0;d.isEven()&&p.isEven();b++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var v=d.cmp(p);if(v<0){var I=d;d=p,p=I}else if(v===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(b)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){r(typeof a=="number");var d=a%26,p=(a-d)/26,b=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=b,this;for(var v=b,I=p;v!==0&&I<this.length;I++){var R=this.words[I]|0;R+=v,v=R>>>26,R&=67108863,this.words[I]=R}return v!==0&&(this.words[I]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var d=a<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var p;if(this.length>1)p=1;else{d&&(a=-a),r(a<=67108863,"Number is too big");var b=this.words[0]|0;p=b===a?0:b<a?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var d=this.ucmp(a);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var b=this.words[p]|0,v=a.words[p]|0;if(b!==v){b<v?d=-1:b>v&&(d=1);break}}return d},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new Y(a)},i.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var Q={k256:null,p224:null,p192:null,p25519:null};function it(y,a){this.name=y,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}it.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},it.prototype.ireduce=function(a){var d=a,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var b=p<this.n?-1:d.ucmp(this.p);return b===0?(d.words[0]=0,d.length=1):b>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},it.prototype.split=function(a,d){a.iushrn(this.n,0,d)},it.prototype.imulK=function(a){return a.imul(this.k)};function ft(){it.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ft,it),ft.prototype.split=function(a,d){for(var p=4194303,b=Math.min(a.length,9),v=0;v<b;v++)d.words[v]=a.words[v];if(d.length=b,a.length<=9){a.words[0]=0,a.length=1;return}var I=a.words[9];for(d.words[d.length++]=I&p,v=10;v<a.length;v++){var R=a.words[v]|0;a.words[v-10]=(R&p)<<4|I>>>22,I=R}I>>>=22,a.words[v-10]=I,I===0&&a.length>10?a.length-=10:a.length-=9},ft.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,p=0;p<a.length;p++){var b=a.words[p]|0;d+=b*977,a.words[p]=d&67108863,d=b*64+(d/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function ct(){it.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ct,it);function z(){it.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,it);function tt(){it.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(tt,it),tt.prototype.imulK=function(a){for(var d=0,p=0;p<a.length;p++){var b=(a.words[p]|0)*19+d,v=b&67108863;b>>>=26,a.words[p]=v,d=b}return d!==0&&(a.words[a.length++]=d),a},i._prime=function(a){if(Q[a])return Q[a];var d;if(a==="k256")d=new ft;else if(a==="p224")d=new ct;else if(a==="p192")d=new z;else if(a==="p25519")d=new tt;else throw new Error("Unknown prime "+a);return Q[a]=d,d};function Y(y){if(typeof y=="string"){var a=i._prime(y);this.m=a.p,this.prime=a}else r(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}Y.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Y.prototype._verify2=function(a,d){r((a.negative|d.negative)===0,"red works only with positives"),r(a.red&&a.red===d.red,"red works only with red numbers")},Y.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(E(a,a.umod(this.m)._forceRed(this)),a)},Y.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Y.prototype.add=function(a,d){this._verify2(a,d);var p=a.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Y.prototype.iadd=function(a,d){this._verify2(a,d);var p=a.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},Y.prototype.sub=function(a,d){this._verify2(a,d);var p=a.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Y.prototype.isub=function(a,d){this._verify2(a,d);var p=a.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},Y.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Y.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Y.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Y.prototype.isqr=function(a){return this.imul(a,a.clone())},Y.prototype.sqr=function(a){return this.mul(a,a)},Y.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(a,p)}for(var b=this.m.subn(1),v=0;!b.isZero()&&b.andln(1)===0;)v++,b.iushrn(1);r(!b.isZero());var I=new i(1).toRed(this),R=I.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,m).cmp(R)!==0;)f.redIAdd(R);for(var x=this.pow(f,b),j=this.pow(a,b.addn(1).iushrn(1)),q=this.pow(a,b),X=v;q.cmp(I)!==0;){for(var mt=q,lt=0;mt.cmp(I)!==0;lt++)mt=mt.redSqr();r(lt<X);var at=this.pow(x,new i(1).iushln(X-lt-1));j=j.redMul(at),x=at.redSqr(),q=q.redMul(x),X=lt}return j},Y.prototype.invm=function(a){var d=a._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Y.prototype.pow=function(a,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return a.clone();var p=4,b=new Array(1<<p);b[0]=new i(1).toRed(this),b[1]=a;for(var v=2;v<b.length;v++)b[v]=this.mul(b[v-1],a);var I=b[0],R=0,m=0,f=d.bitLength()%26;for(f===0&&(f=26),v=d.length-1;v>=0;v--){for(var x=d.words[v],j=f-1;j>=0;j--){var q=x>>j&1;if(I!==b[0]&&(I=this.sqr(I)),q===0&&R===0){m=0;continue}R<<=1,R|=q,m++,!(m!==p&&(v!==0||j!==0))&&(I=this.mul(I,b[R]),m=0,R=0)}f=26}return I},Y.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Y.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},i.mont=function(a){return new J(a)};function J(y){Y.call(this,y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(J,Y),J.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},J.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},J.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var p=a.imul(d),b=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(b).iushrn(this.shift),I=v;return v.cmp(this.m)>=0?I=v.isub(this.m):v.cmpn(0)<0&&(I=v.iadd(this.m)),I._forceRed(this)},J.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new i(0)._forceRed(this);var p=a.mul(d),b=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=p.isub(b).iushrn(this.shift),I=v;return v.cmp(this.m)>=0?I=v.isub(this.m):v.cmpn(0)<0&&(I=v.iadd(this.m)),I._forceRed(this)},J.prototype.invm=function(a){var d=this.imod(a._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(n,$e)})(bs);var wa=bs.exports;const mo=Zn(wa);var ts={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,t){var e=ot,r=e.Buffer;function s(o,c){for(var h in o)c[h]=o[h]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=e:(s(e,t),t.Buffer=i);function i(o,c,h){return r(o,c,h)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,c,h){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,c,h)},i.alloc=function(o,c,h){if(typeof o!="number")throw new TypeError("Argument must be a number");var w=r(o);return c!==void 0?typeof h=="string"?w.fill(c,h):w.fill(c):w.fill(0),w},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(o)}})(ts,ts.exports);var Ju=ts.exports,Pn=Ju.Buffer;function Qu(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=n.length,c=n.charAt(0),h=Math.log(o)/Math.log(256),w=Math.log(256)/Math.log(o);function E(S){if((Array.isArray(S)||S instanceof Uint8Array)&&(S=Pn.from(S)),!Pn.isBuffer(S))throw new TypeError("Expected Buffer");if(S.length===0)return"";for(var B=0,T=0,P=0,C=S.length;P!==C&&S[P]===0;)P++,B++;for(var K=(C-P)*w+1>>>0,N=new Uint8Array(K);P!==C;){for(var H=S[P],Q=0,it=K-1;(H!==0||Q<T)&&it!==-1;it--,Q++)H+=256*N[it]>>>0,N[it]=H%o>>>0,H=H/o>>>0;if(H!==0)throw new Error("Non-zero carry");T=Q,P++}for(var ft=K-T;ft!==K&&N[ft]===0;)ft++;for(var ct=c.repeat(B);ft<K;++ft)ct+=n.charAt(N[ft]);return ct}function _(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return Pn.alloc(0);for(var B=0,T=0,P=0;S[B]===c;)T++,B++;for(var C=(S.length-B)*h+1>>>0,K=new Uint8Array(C);B<S.length;){var N=S.charCodeAt(B);if(N>255)return;var H=t[N];if(H===255)return;for(var Q=0,it=C-1;(H!==0||Q<P)&&it!==-1;it--,Q++)H+=o*K[it]>>>0,K[it]=H%256>>>0,H=H/256>>>0;if(H!==0)throw new Error("Non-zero carry");P=Q,B++}for(var ft=C-P;ft!==C&&K[ft]===0;)ft++;var ct=Pn.allocUnsafe(T+(C-ft));ct.fill(0,0,T);for(var z=T;ft!==C;)ct[z++]=K[ft++];return ct}function A(S){var B=_(S);if(B)return B;throw new Error("Non-base"+o+" character")}return{encode:E,decodeUnsafe:_,decode:A}}var tf=Qu,ef=tf,rf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ba=ef(rf);const be=Zn(ba),wo=Xo;var we={};function ur(n,t,e){return t<=n&&n<=e}function Qn(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function nf(n){for(var t=String(n),e=t.length,r=0,s=[];r<e;){var i=t.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===e-1)s.push(65533);else{var o=n.charCodeAt(r+1);if(56320<=o&&o<=57343){var c=i&1023,h=o&1023;s.push(65536+(c<<10)+h),r+=1}else s.push(65533)}r+=1}return s}function sf(n){for(var t="",e=0;e<n.length;++e){var r=n[e];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Dn=-1;function ks(n){this.tokens=[].slice.call(n)}ks.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Dn},prepend:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var t=n;t.length;)this.tokens.push(t.shift());else this.tokens.push(n)}};var Qr=-1;function Fi(n,t){if(n)throw TypeError("Decoder error");return t||65533}var Wn="utf-8";function qn(n,t){if(!(this instanceof qn))return new qn(n,t);if(n=n!==void 0?String(n).toLowerCase():Wn,n!==Wn)throw new Error("Encoding not supported. Only utf-8 is supported");t=Qn(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}qn.prototype={decode:function(t,e){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),e=Qn(e),this._streaming||(this._decoder=new of({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var s=new ks(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Qr);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Qr)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),sf(i)}};function $n(n,t){if(!(this instanceof $n))return new $n(n,t);if(n=n!==void 0?String(n).toLowerCase():Wn,n!==Wn)throw new Error("Encoding not supported. Only utf-8 is supported");t=Qn(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}$n.prototype={encode:function(t,e){t=t?String(t):"",e=Qn(e),this._streaming||(this._encoder=new af(this._options)),this._streaming=!!e.stream;for(var r=[],s=new ks(nf(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Qr);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Qr;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function of(n){var t=n.fatal,e=0,r=0,s=0,i=128,o=191;this.handler=function(c,h){if(h===Dn&&s!==0)return s=0,Fi(t);if(h===Dn)return Qr;if(s===0){if(ur(h,0,127))return h;if(ur(h,194,223))s=1,e=h-192;else if(ur(h,224,239))h===224&&(i=160),h===237&&(o=159),s=2,e=h-224;else if(ur(h,240,244))h===240&&(i=144),h===244&&(o=143),s=3,e=h-240;else return Fi(t);return e=e<<6*s,null}if(!ur(h,i,o))return e=s=r=0,i=128,o=191,c.prepend(h),Fi(t);if(i=128,o=191,r+=1,e+=h-128<<6*(s-r),r!==s)return null;var w=e;return e=s=r=0,w}}function af(n){n.fatal,this.handler=function(t,e){if(e===Dn)return Qr;if(ur(e,0,127))return e;var r,s;ur(e,128,2047)?(r=1,s=192):ur(e,2048,65535)?(r=2,s=224):ur(e,65536,1114111)&&(r=3,s=240);for(var i=[(e>>6*r)+s];r>0;){var o=e>>6*(r-1);i.push(128|o&63),r-=1}return i}}const cf=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:qn,TextEncoder:$n},Symbol.toStringTag,{value:"Module"})),uf=fs(cf);var ff=$e&&$e.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),lf=$e&&$e.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),rr=$e&&$e.__decorate||function(n,t,e,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,t,e,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},hf=$e&&$e.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.hasOwnProperty.call(n,e)&&ff(t,n,e);return lf(t,n),t},ka=$e&&$e.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(we,"__esModule",{value:!0});var va=we.deserializeUnchecked=Aa=we.deserialize=_a=we.serialize=we.BinaryReader=we.BinaryWriter=we.BorshError=we.baseDecode=we.baseEncode=void 0;const wr=ka(wa),Sa=ka(ba),df=hf(uf),pf=typeof TextDecoder!="function"?df.TextDecoder:TextDecoder,gf=new pf("utf-8",{fatal:!0});function yf(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),Sa.default.encode(Buffer.from(n))}we.baseEncode=yf;function mf(n){return Buffer.from(Sa.default.decode(n))}we.baseDecode=mf;const zi=1024;class Ae extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}we.BorshError=Ae;class xa{constructor(){this.buf=Buffer.alloc(zi),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(zi)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new wr.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new wr.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new wr.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new wr.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(zi)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}we.BinaryWriter=xa;function nr(n,t,e){const r=e.value;e.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Ae("Reached the end of buffer when deserializing")}throw i}}}class Oe{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new wr.default(t,"le")}readU128(){const t=this.readBuffer(16);return new wr.default(t,"le")}readU256(){const t=this.readBuffer(32);return new wr.default(t,"le")}readU512(){const t=this.readBuffer(64);return new wr.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Ae(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return gf.decode(e)}catch(r){throw new Ae(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let s=0;s<e;++s)r.push(t());return r}}rr([nr],Oe.prototype,"readU8",null);rr([nr],Oe.prototype,"readU16",null);rr([nr],Oe.prototype,"readU32",null);rr([nr],Oe.prototype,"readU64",null);rr([nr],Oe.prototype,"readU128",null);rr([nr],Oe.prototype,"readU256",null);rr([nr],Oe.prototype,"readU512",null);rr([nr],Oe.prototype,"readString",null);rr([nr],Oe.prototype,"readFixedArray",null);rr([nr],Oe.prototype,"readArray",null);we.BinaryReader=Oe;function Ea(n){return n.charAt(0).toUpperCase()+n.slice(1)}function xr(n,t,e,r,s){try{if(typeof r=="string")s[`write${Ea(r)}`](e);else if(r instanceof Array)if(typeof r[0]=="number"){if(e.length!==r[0])throw new Ae(`Expecting byte array of length ${r[0]}, but got ${e.length} bytes`);s.writeFixedArray(e)}else if(r.length===2&&typeof r[1]=="number"){if(e.length!==r[1])throw new Ae(`Expecting byte array of length ${r[1]}, but got ${e.length} bytes`);for(let i=0;i<r[1];i++)xr(n,null,e[i],r[0],s)}else s.writeArray(e,i=>{xr(n,t,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{e==null?s.writeU8(0):(s.writeU8(1),xr(n,t,e,r.type,s));break}case"map":{s.writeU32(e.size),e.forEach((i,o)=>{xr(n,t,o,r.key,s),xr(n,t,i,r.value,s)});break}default:throw new Ae(`FieldType ${r} unrecognized`)}else Ia(n,e,s)}catch(i){throw i instanceof Ae&&i.addToFieldPath(t),i}}function Ia(n,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const r=n.get(t.constructor);if(!r)throw new Ae(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{xr(n,s,t[s],i,e)});else if(r.kind==="enum"){const s=t[r.field];for(let i=0;i<r.values.length;++i){const[o,c]=r.values[i];if(o===s){e.writeU8(i),xr(n,o,t[o],c,e);break}}}else throw new Ae(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function wf(n,t,e=xa){const r=new e;return Ia(n,t,r),r.toArray()}var _a=we.serialize=wf;function Er(n,t,e,r){try{if(typeof e=="string")return r[`read${Ea(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return r.readFixedArray(e[0]);if(typeof e[1]=="number"){const s=[];for(let i=0;i<e[1];i++)s.push(Er(n,null,e[0],r));return s}else return r.readArray(()=>Er(n,t,e[0],r))}if(e.kind==="option")return r.readU8()?Er(n,t,e.type,r):void 0;if(e.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const c=Er(n,t,e.key,r),h=Er(n,t,e.value,r);s.set(c,h)}return s}return vs(n,e,r)}catch(s){throw s instanceof Ae&&s.addToFieldPath(t),s}}function vs(n,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const r=n.get(t);if(!r)throw new Ae(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of n.get(t).fields)s[i]=Er(n,i,o,e);return new t(s)}if(r.kind==="enum"){const s=e.readU8();if(s>=r.values.length)throw new Ae(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],c=Er(n,i,o,e);return new t({[i]:c})}throw new Ae(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function bf(n,t,e,r=Oe){const s=new r(e),i=vs(n,t,s);if(s.offset<e.length)throw new Ae(`Unexpected ${e.length-s.offset} bytes after deserialized data`);return i}var Aa=we.deserialize=bf;function kf(n,t,e,r=Oe){const s=new r(e);return vs(n,t,s)}va=we.deserializeUnchecked=kf;var O={};Object.defineProperty(O,"__esModule",{value:!0});O.s16=O.s8=O.nu64be=O.u48be=O.u40be=O.u32be=O.u24be=O.u16be=me=O.nu64=O.u48=O.u40=et=O.u32=O.u24=ze=O.u16=kt=O.u8=kr=O.offset=O.greedy=O.Constant=O.UTF8=O.CString=O.Blob=O.Boolean=O.BitField=O.BitStructure=O.VariantLayout=O.Union=O.UnionLayoutDiscriminator=O.UnionDiscriminator=O.Structure=O.Sequence=O.DoubleBE=O.Double=O.FloatBE=O.Float=O.NearInt64BE=O.NearInt64=O.NearUInt64BE=O.NearUInt64=O.IntBE=O.Int=O.UIntBE=O.UInt=O.OffsetLayout=O.GreedyCount=O.ExternalLayout=O.bindConstructorLayout=O.nameWithProperty=O.Layout=O.uint8ArrayToBuffer=O.checkUint8Array=void 0;O.constant=O.utf8=O.cstr=Ct=O.blob=O.unionLayoutDiscriminator=O.union=ke=O.seq=O.bits=rt=O.struct=O.f64be=O.f64=O.f32be=O.f32=O.ns64be=O.s48be=O.s40be=O.s32be=O.s24be=O.s16be=Ce=O.ns64=O.s48=O.s40=O.s32=O.s24=void 0;const Ss=ot;function nn(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}O.checkUint8Array=nn;function St(n){return nn(n),Ss.Buffer.from(n.buffer,n.byteOffset,n.length)}O.uint8ArrayToBuffer=St;class It{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}O.Layout=It;function xs(n,t){return t.property?n+"["+t.property+"]":n}O.nameWithProperty=xs;function vf(n,t){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof It))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=t,t.boundConstructor_=n,t.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(n,"decode",{value(e,r){return t.decode(e,r)},writable:!0})}O.bindConstructorLayout=vf;class Te extends It{isCount(){throw new Error("ExternalLayout is abstract")}}O.ExternalLayout=Te;class Ba extends Te{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){nn(t);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}O.GreedyCount=Ba;class Es extends Te{constructor(t,e=0,r){if(!(t instanceof It))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Ke||this.layout instanceof qe}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}O.OffsetLayout=Es;class Ke extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return St(t).readUIntLE(e,this.span)}encode(t,e,r=0){return St(e).writeUIntLE(t,r,this.span),this.span}}O.UInt=Ke;class qe extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return St(t).readUIntBE(e,this.span)}encode(t,e,r=0){return St(e).writeUIntBE(t,r,this.span),this.span}}O.UIntBE=qe;class Ur extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return St(t).readIntLE(e,this.span)}encode(t,e,r=0){return St(e).writeIntLE(t,r,this.span),this.span}}O.Int=Ur;class sn extends It{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return St(t).readIntBE(e,this.span)}encode(t,e,r=0){return St(e).writeIntBE(t,r,this.span),this.span}}O.IntBE=sn;const es=Math.pow(2,32);function ti(n){const t=Math.floor(n/es),e=n-t*es;return{hi32:t,lo32:e}}function ei(n,t){return n*es+t}class Ra extends It{constructor(t){super(8,t)}decode(t,e=0){const r=St(t),s=r.readUInt32LE(e),i=r.readUInt32LE(e+4);return ei(i,s)}encode(t,e,r=0){const s=ti(t),i=St(e);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}O.NearUInt64=Ra;class Ma extends It{constructor(t){super(8,t)}decode(t,e=0){const r=St(t),s=r.readUInt32BE(e),i=r.readUInt32BE(e+4);return ei(s,i)}encode(t,e,r=0){const s=ti(t),i=St(e);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}O.NearUInt64BE=Ma;class Ta extends It{constructor(t){super(8,t)}decode(t,e=0){const r=St(t),s=r.readUInt32LE(e),i=r.readInt32LE(e+4);return ei(i,s)}encode(t,e,r=0){const s=ti(t),i=St(e);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}O.NearInt64=Ta;class Pa extends It{constructor(t){super(8,t)}decode(t,e=0){const r=St(t),s=r.readInt32BE(e),i=r.readUInt32BE(e+4);return ei(s,i)}encode(t,e,r=0){const s=ti(t),i=St(e);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}O.NearInt64BE=Pa;class La extends It{constructor(t){super(4,t)}decode(t,e=0){return St(t).readFloatLE(e)}encode(t,e,r=0){return St(e).writeFloatLE(t,r),4}}O.Float=La;class Ca extends It{constructor(t){super(4,t)}decode(t,e=0){return St(t).readFloatBE(e)}encode(t,e,r=0){return St(e).writeFloatBE(t,r),4}}O.FloatBE=Ca;class Ua extends It{constructor(t){super(8,t)}decode(t,e=0){return St(t).readDoubleLE(e)}encode(t,e,r=0){return St(e).writeDoubleLE(t,r),8}}O.Double=Ua;class Oa extends It{constructor(t){super(8,t)}decode(t,e=0){return St(t).readDoubleBE(e)}encode(t,e,r=0){return St(e).writeDoubleBE(t,r),8}}O.DoubleBE=Oa;class Na extends It{constructor(t,e,r){if(!(t instanceof It))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Te&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(e instanceof Te)&&0<t.span&&(s=e*t.span),super(s,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof Te&&(s=s.decode(t,e)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let s=0,i=this.count;for(i instanceof Te&&(i=i.decode(t,e));s<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),s+=1;return r}encode(t,e,r=0){const s=this.elementLayout,i=t.reduce((o,c)=>o+s.encode(c,e,r+o),0);return this.count instanceof Te&&this.count.encode(t.length,e,r),i}}O.Sequence=Na;class Fa extends It{constructor(t,e,r){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof It,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&r===void 0&&(r=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(t,e);return e+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,e=0){nn(t);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(t,e)),e+=s.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const s=r;let i=0,o=0;for(const c of this.fields){let h=c.span;if(o=0<h?h:0,c.property!==void 0){const w=t[c.property];w!==void 0&&(o=c.encode(w,e,r),0>h&&(h=c.getSpan(e,r)))}i=r,r+=h}return i+o-s}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}O.Structure=Fa;class Is{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,r){throw new Error("UnionDiscriminator is abstract")}}O.UnionDiscriminator=Is;class Vn extends Is{constructor(t,e){if(!(t instanceof Te&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}O.UnionLayoutDiscriminator=Vn;class _s extends It{constructor(t,e,r){let s;if(t instanceof Ke||t instanceof qe)s=new Vn(new Es(t));else if(t instanceof Te&&t.isCount())s=new Vn(t);else if(t instanceof Is)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof It))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof Ke||t instanceof qe)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof Ke||t instanceof qe,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return o(c)},this.configGetSourceVariant=function(c){o=c.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,e=0){let r;const s=this.discriminator,i=s.decode(t,e),o=this.registry[i];if(o===void 0){const c=this.defaultLayout;let h=0;this.usesPrefixDiscriminator&&(h=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[c.property]=c.decode(t,e+h)}else r=o.decode(t,e);return r}encode(t,e,r=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(t[i.property],e,r),c+o.encode(t[o.property],e,r+c)}return s.encode(t,e,r)}addVariant(t,e,r){const s=new za(this,t,e,r);return this.registry[t]=s,s}getVariant(t,e=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,e):r=t,this.registry[r]}}O.Union=_s;class za extends It{constructor(t,e,r,s){if(!(t instanceof _s))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof It))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,e+r)),r+s}decode(t,e=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=s;if(this.layout&&(this.layout.encode(t[this.property],e,r+s),i+=this.layout.getSpan(e,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}O.VariantLayout=za;function $r(n){return 0>n&&(n+=4294967296),n}class As extends It{constructor(t,e,r){if(!(t instanceof Ke||t instanceof qe))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&r===void 0&&(r=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let s=0;this._packedSetValue=function(i){return s=$r(i),this},this._packedGetValue=function(){return s}}decode(t,e=0){const r=this.makeDestinationObject(),s=this.word.decode(t,e);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,e,r=0){const s=this.word.decode(e,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new Bs(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new Ka(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}O.BitStructure=As;class Bs{constructor(t,e,r){if(!(t instanceof As))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,c)=>o+c.bits,0);if(e+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-e),this.wordMask=$r(this.valueMask<<this.start),this.property=r}decode(t,e){const r=this.container._packedGetValue();return $r(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==$r(t&this.valueMask))throw new TypeError(xs("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=$r(t<<this.start);this.container._packedSetValue($r(e&~this.wordMask)|r)}}O.BitField=Bs;let Ka=class extends Bs{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};O.Boolean=Ka;class Da extends It{constructor(t,e){if(!(t instanceof Te&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Te||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),St(t).slice(e,e+r)}encode(t,e,r){let s=this.length;if(this.length instanceof Te&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(xs("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>e.length)throw new RangeError("encoding overruns Uint8Array");const i=St(t);return St(e).write(i.toString("hex"),r,s,"hex"),this.length instanceof Te&&this.length.encode(s,e,r),s}}O.Blob=Da;class Wa extends It{constructor(t){super(-1,t)}getSpan(t,e=0){nn(t);let r=e;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-e}decode(t,e=0){const r=this.getSpan(t,e);return St(t).slice(e,e+r-1).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const s=Ss.Buffer.from(t,"utf8"),i=s.length;if(r+i>e.length)throw new RangeError("encoding overruns Buffer");const o=St(e);return s.copy(o,r),o[r+i]=0,i+1}}O.CString=Wa;class qa extends It{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return nn(t),t.length-e}decode(t,e=0){const r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return St(t).slice(e,e+r).toString("utf-8")}encode(t,e,r=0){typeof t!="string"&&(t=String(t));const s=Ss.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return s.copy(St(e),r),i}}O.UTF8=qa;class $a extends It{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,r){return 0}}O.Constant=$a;O.greedy=(n,t)=>new Ba(n,t);var kr=O.offset=(n,t,e)=>new Es(n,t,e),kt=O.u8=n=>new Ke(1,n),ze=O.u16=n=>new Ke(2,n);O.u24=n=>new Ke(3,n);var et=O.u32=n=>new Ke(4,n);O.u40=n=>new Ke(5,n);O.u48=n=>new Ke(6,n);var me=O.nu64=n=>new Ra(n);O.u16be=n=>new qe(2,n);O.u24be=n=>new qe(3,n);O.u32be=n=>new qe(4,n);O.u40be=n=>new qe(5,n);O.u48be=n=>new qe(6,n);O.nu64be=n=>new Ma(n);O.s8=n=>new Ur(1,n);O.s16=n=>new Ur(2,n);O.s24=n=>new Ur(3,n);O.s32=n=>new Ur(4,n);O.s40=n=>new Ur(5,n);O.s48=n=>new Ur(6,n);var Ce=O.ns64=n=>new Ta(n);O.s16be=n=>new sn(2,n);O.s24be=n=>new sn(3,n);O.s32be=n=>new sn(4,n);O.s40be=n=>new sn(5,n);O.s48be=n=>new sn(6,n);O.ns64be=n=>new Pa(n);O.f32=n=>new La(n);O.f32be=n=>new Ca(n);O.f64=n=>new Ua(n);O.f64be=n=>new Oa(n);var rt=O.struct=(n,t,e)=>new Fa(n,t,e);O.bits=(n,t,e)=>new As(n,t,e);var ke=O.seq=(n,t,e)=>new Na(n,t,e);O.union=(n,t,e)=>new _s(n,t,e);O.unionLayoutDiscriminator=(n,t)=>new Vn(n,t);var Ct=O.blob=(n,t)=>new Da(n,t);O.cstr=n=>new Wa(n);O.utf8=(n,t)=>new qa(n,t);O.constant=(n,t)=>new $a(n,t);var Sf=8078e3,xf=8078001,Ef=8078004,If=8078005,_f=8078006,Af=8078011;function Va(n){return Array.isArray(n)?"%5B"+n.map(Va).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function Bf([n,t]){return`${n}=${Va(t)}`}function Rf(n){const t=Object.entries(n).map(Bf).join("&");return btoa(t)}function Mf(n,t={}){{let e=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(t).length&&(e+=` '${Rf(t)}'`),`${e}\``}}var jr=class extends Error{constructor(...[t,e]){let r,s;if(e){const{cause:o,...c}=e;o&&(s={cause:o}),Object.keys(c).length>0&&(r=c)}const i=Mf(t,r);super(i,s);le(this,"cause",this.cause);le(this,"context");this.context={__code:t,...r},this.name="SolanaError"}};function Tf(n,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(n)}function Pf(n){return Object.freeze({...n,encode:t=>{const e=new Uint8Array(Tf(t,n));return n.write(t,e,0),e}})}function Lf(n){return Object.freeze({...n,decode:(t,e=0)=>n.read(t,e)[0]})}function qr(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function Cf(n,t){if(qr(n)!==qr(t))throw new jr(Ef);if(qr(n)&&qr(t)&&n.fixedSize!==t.fixedSize)throw new jr(If,{decoderFixedSize:t.fixedSize,encoderFixedSize:n.fixedSize});if(!qr(n)&&!qr(t)&&n.maxSize!==t.maxSize)throw new jr(_f,{decoderMaxSize:t.maxSize,encoderMaxSize:n.maxSize});return{...t,...n,decode:t.decode,encode:n.encode,read:t.read,write:n.write}}function Uf(n,t,e=0){if(t.length-e<=0)throw new jr(Sf,{codecDescription:n})}function Of(n,t,e,r=0){const s=e.length-r;if(s<t)throw new jr(xf,{bytesLength:s,codecDescription:n,expected:t})}function Nf(n,t,e,r){if(r<t||r>e)throw new jr(Af,{codecDescription:n,max:e,min:t,value:r})}function Ha(n){return(n==null?void 0:n.endian)!==1}function Ff(n){return Pf({fixedSize:n.size,write(t,e,r){n.range&&Nf(n.name,n.range[0],n.range[1],t);const s=new ArrayBuffer(n.size);return n.set(new DataView(s),t,Ha(n.config)),e.set(new Uint8Array(s),r),r+n.size}})}function zf(n){return Lf({fixedSize:n.size,read(t,e=0){Uf(n.name,t,e),Of(n.name,n.size,t,e);const r=new DataView(Kf(t,e,n.size));return[n.get(r,Ha(n.config)),e+n.size]}})}function Kf(n,t,e){const r=n.byteOffset+(t??0),s=e??n.byteLength;return n.buffer.slice(r,r+s)}var ja=(n={})=>Ff({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,e,r)=>t.setBigUint64(0,BigInt(e),r),size:8}),Df=(n={})=>zf({config:n,get:(t,e)=>t.getBigUint64(0,e),name:"u64",size:8}),Wf=(n={})=>Cf(ja(n),Df(n));class qf extends TypeError{constructor(t,e){let r;const{message:s,explanation:i,...o}=t,{path:c}=t,h=c.length===0?s:`At path: ${c.join(".")} -- ${s}`;super(i??h),i!=null&&(this.cause=h),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}}function $f(n){return Sn(n)&&typeof n[Symbol.iterator]=="function"}function Sn(n){return typeof n=="object"&&n!=null}function Hn(n){return Sn(n)&&!Array.isArray(n)}function Ve(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Vf(n){const{done:t,value:e}=n.next();return t?void 0:e}function Hf(n,t,e,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=t,{type:o}=e,{refinement:c,message:h=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${Ve(r)}\``}=n;return{value:r,type:o,refinement:c,key:s[s.length-1],path:s,branch:i,...n,message:h}}function*bo(n,t,e,r){$f(n)||(n=[n]);for(const s of n){const i=Hf(s,t,e,r);i&&(yield i)}}function*Rs(n,t,e={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=e,c={path:r,branch:s,mask:o};i&&(n=t.coercer(n,c));let h="valid";for(const w of t.validator(n,c))w.explanation=e.message,h="not_valid",yield[w,void 0];for(let[w,E,_]of t.entries(n,c)){const A=Rs(E,_,{path:w===void 0?r:[...r,w],branch:w===void 0?s:[...s,E],coerce:i,mask:o,message:e.message});for(const S of A)S[0]?(h=S[0].refinement!=null?"not_refined":"not_valid",yield[S[0],void 0]):i&&(E=S[1],w===void 0?n=E:n instanceof Map?n.set(w,E):n instanceof Set?n.add(E):Sn(n)&&(E!==void 0||w in n)&&(n[w]=E))}if(h!=="not_valid")for(const w of t.refiner(n,c))w.explanation=e.message,h="not_refined",yield[w,void 0];h==="valid"&&(yield[void 0,n])}let ir=class{constructor(t){const{type:e,schema:r,validator:s,refiner:i,coercer:o=h=>h,entries:c=function*(){}}=t;this.type=e,this.schema=r,this.entries=c,this.coercer=o,s?this.validator=(h,w)=>{const E=s(h,w);return bo(E,w,this,h)}:this.validator=()=>[],i?this.refiner=(h,w)=>{const E=i(h,w);return bo(E,w,this,h)}:this.refiner=()=>[]}assert(t,e){return Ga(t,this,e)}create(t,e){return V(t,this,e)}is(t){return Za(t,this)}mask(t,e){return jf(t,this,e)}validate(t,e={}){return xn(t,this,e)}};function Ga(n,t,e){const r=xn(n,t,{message:e});if(r[0])throw r[0]}function V(n,t,e){const r=xn(n,t,{coerce:!0,message:e});if(r[0])throw r[0];return r[1]}function jf(n,t,e){const r=xn(n,t,{coerce:!0,mask:!0,message:e});if(r[0])throw r[0];return r[1]}function Za(n,t){return!xn(n,t)[0]}function xn(n,t,e={}){const r=Rs(n,t,e),s=Vf(r);return s[0]?[new qf(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Or(n,t){return new ir({type:n,schema:null,validator:t})}function Gf(){return Or("any",()=>!0)}function G(n){return new ir({type:"array",schema:n,*entries(t){if(n&&Array.isArray(t))for(const[e,r]of t.entries())yield[e,r,n]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Ve(t)}`}})}function er(){return Or("boolean",n=>typeof n=="boolean")}function Ms(n){return Or("instance",t=>t instanceof n||`Expected a \`${n.name}\` instance, but received: ${Ve(t)}`)}function Ft(n){const t=Ve(n),e=typeof n;return new ir({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${t}\`, but received: ${Ve(r)}`}})}function Zf(){return Or("never",()=>!1)}function Z(n){return new ir({...n,validator:(t,e)=>t===null||n.validator(t,e),refiner:(t,e)=>t===null||n.refiner(t,e)})}function U(){return Or("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Ve(n)}`)}function st(n){return new ir({...n,validator:(t,e)=>t===void 0||n.validator(t,e),refiner:(t,e)=>t===void 0||n.refiner(t,e)})}function Ya(n,t){return new ir({type:"record",schema:null,*entries(e){if(Sn(e))for(const r in e){const s=e[r];yield[r,r,n],yield[r,s,t]}},validator(e){return Hn(e)||`Expected an object, but received: ${Ve(e)}`},coercer(e){return Hn(e)?{...e}:e}})}function W(){return Or("string",n=>typeof n=="string"||`Expected a string, but received: ${Ve(n)}`)}function Ts(n){const t=Zf();return new ir({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const r=Math.max(n.length,e.length);for(let s=0;s<r;s++)yield[s,e[s],n[s]||t]}},validator(e){return Array.isArray(e)||`Expected an array, but received: ${Ve(e)}`},coercer(e){return Array.isArray(e)?e.slice():e}})}function D(n){const t=Object.keys(n);return new ir({type:"type",schema:n,*entries(e){if(Sn(e))for(const r of t)yield[r,e[r],n[r]]},validator(e){return Hn(e)||`Expected an object, but received: ${Ve(e)}`},coercer(e){return Hn(e)?{...e}:e}})}function Be(n){const t=n.map(e=>e.type).join(" | ");return new ir({type:"union",schema:null,coercer(e,r){for(const s of n){const[i,o]=s.validate(e,{coerce:!0,mask:r.mask});if(!i)return o}return e},validator(e,r){const s=[];for(const i of n){const[...o]=Rs(e,i,r),[c]=o;if(c[0])for(const[h]of o)h&&s.push(h);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ve(e)}`,...s]}})}function on(){return Or("unknown",()=>!0)}function En(n,t,e){return new ir({...n,coercer:(r,s)=>Za(r,t)?n.coercer(e(r,s),s):n.coercer(r,s)})}var Ln,Yf=new Uint8Array(16);function Xa(){if(!Ln&&(Ln=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ln))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ln(Yf)}const Xf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ri(n){return typeof n=="string"&&Xf.test(n)}var ye=[];for(var Ki=0;Ki<256;++Ki)ye.push((Ki+256).toString(16).substr(1));function ni(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(ye[n[t+0]]+ye[n[t+1]]+ye[n[t+2]]+ye[n[t+3]]+"-"+ye[n[t+4]]+ye[n[t+5]]+"-"+ye[n[t+6]]+ye[n[t+7]]+"-"+ye[n[t+8]]+ye[n[t+9]]+"-"+ye[n[t+10]]+ye[n[t+11]]+ye[n[t+12]]+ye[n[t+13]]+ye[n[t+14]]+ye[n[t+15]]).toLowerCase();if(!ri(e))throw TypeError("Stringified UUID is invalid");return e}var ko,Di,Wi=0,qi=0;function Jf(n,t,e){var r=t&&e||0,s=t||new Array(16);n=n||{};var i=n.node||ko,o=n.clockseq!==void 0?n.clockseq:Di;if(i==null||o==null){var c=n.random||(n.rng||Xa)();i==null&&(i=ko=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=Di=(c[6]<<8|c[7])&16383)}var h=n.msecs!==void 0?n.msecs:Date.now(),w=n.nsecs!==void 0?n.nsecs:qi+1,E=h-Wi+(w-qi)/1e4;if(E<0&&n.clockseq===void 0&&(o=o+1&16383),(E<0||h>Wi)&&n.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Wi=h,qi=w,Di=o,h+=122192928e5;var _=((h&268435455)*1e4+w)%4294967296;s[r++]=_>>>24&255,s[r++]=_>>>16&255,s[r++]=_>>>8&255,s[r++]=_&255;var A=h/4294967296*1e4&268435455;s[r++]=A>>>8&255,s[r++]=A&255,s[r++]=A>>>24&15|16,s[r++]=A>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var S=0;S<6;++S)s[r+S]=i[S];return t||ni(s)}function Ja(n){if(!ri(n))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(n.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(n.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(n.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(n.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(n.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function Qf(n){n=unescape(encodeURIComponent(n));for(var t=[],e=0;e<n.length;++e)t.push(n.charCodeAt(e));return t}var tl="6ba7b810-9dad-11d1-80b4-00c04fd430c8",el="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Qa(n,t,e){function r(s,i,o,c){if(typeof s=="string"&&(s=Qf(s)),typeof i=="string"&&(i=Ja(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+s.length);if(h.set(i),h.set(s,i.length),h=e(h),h[6]=h[6]&15|t,h[8]=h[8]&63|128,o){c=c||0;for(var w=0;w<16;++w)o[c+w]=h[w];return o}return ni(h)}try{r.name=n}catch{}return r.DNS=tl,r.URL=el,r}function rl(n){if(typeof n=="string"){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var e=0;e<t.length;++e)n[e]=t.charCodeAt(e)}return nl(il(sl(n),n.length*8))}function nl(n){for(var t=[],e=n.length*32,r="0123456789abcdef",s=0;s<e;s+=8){var i=n[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(o)}return t}function tc(n){return(n+64>>>9<<4)+14+1}function il(n,t){n[t>>5]|=128<<t%32,n[tc(t)-1]=t;for(var e=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<n.length;o+=16){var c=e,h=r,w=s,E=i;e=xe(e,r,s,i,n[o],7,-680876936),i=xe(i,e,r,s,n[o+1],12,-389564586),s=xe(s,i,e,r,n[o+2],17,606105819),r=xe(r,s,i,e,n[o+3],22,-1044525330),e=xe(e,r,s,i,n[o+4],7,-176418897),i=xe(i,e,r,s,n[o+5],12,1200080426),s=xe(s,i,e,r,n[o+6],17,-1473231341),r=xe(r,s,i,e,n[o+7],22,-45705983),e=xe(e,r,s,i,n[o+8],7,1770035416),i=xe(i,e,r,s,n[o+9],12,-1958414417),s=xe(s,i,e,r,n[o+10],17,-42063),r=xe(r,s,i,e,n[o+11],22,-1990404162),e=xe(e,r,s,i,n[o+12],7,1804603682),i=xe(i,e,r,s,n[o+13],12,-40341101),s=xe(s,i,e,r,n[o+14],17,-1502002290),r=xe(r,s,i,e,n[o+15],22,1236535329),e=Ee(e,r,s,i,n[o+1],5,-165796510),i=Ee(i,e,r,s,n[o+6],9,-1069501632),s=Ee(s,i,e,r,n[o+11],14,643717713),r=Ee(r,s,i,e,n[o],20,-373897302),e=Ee(e,r,s,i,n[o+5],5,-701558691),i=Ee(i,e,r,s,n[o+10],9,38016083),s=Ee(s,i,e,r,n[o+15],14,-660478335),r=Ee(r,s,i,e,n[o+4],20,-405537848),e=Ee(e,r,s,i,n[o+9],5,568446438),i=Ee(i,e,r,s,n[o+14],9,-1019803690),s=Ee(s,i,e,r,n[o+3],14,-187363961),r=Ee(r,s,i,e,n[o+8],20,1163531501),e=Ee(e,r,s,i,n[o+13],5,-1444681467),i=Ee(i,e,r,s,n[o+2],9,-51403784),s=Ee(s,i,e,r,n[o+7],14,1735328473),r=Ee(r,s,i,e,n[o+12],20,-1926607734),e=Ie(e,r,s,i,n[o+5],4,-378558),i=Ie(i,e,r,s,n[o+8],11,-2022574463),s=Ie(s,i,e,r,n[o+11],16,1839030562),r=Ie(r,s,i,e,n[o+14],23,-35309556),e=Ie(e,r,s,i,n[o+1],4,-1530992060),i=Ie(i,e,r,s,n[o+4],11,1272893353),s=Ie(s,i,e,r,n[o+7],16,-155497632),r=Ie(r,s,i,e,n[o+10],23,-1094730640),e=Ie(e,r,s,i,n[o+13],4,681279174),i=Ie(i,e,r,s,n[o],11,-358537222),s=Ie(s,i,e,r,n[o+3],16,-722521979),r=Ie(r,s,i,e,n[o+6],23,76029189),e=Ie(e,r,s,i,n[o+9],4,-640364487),i=Ie(i,e,r,s,n[o+12],11,-421815835),s=Ie(s,i,e,r,n[o+15],16,530742520),r=Ie(r,s,i,e,n[o+2],23,-995338651),e=_e(e,r,s,i,n[o],6,-198630844),i=_e(i,e,r,s,n[o+7],10,1126891415),s=_e(s,i,e,r,n[o+14],15,-1416354905),r=_e(r,s,i,e,n[o+5],21,-57434055),e=_e(e,r,s,i,n[o+12],6,1700485571),i=_e(i,e,r,s,n[o+3],10,-1894986606),s=_e(s,i,e,r,n[o+10],15,-1051523),r=_e(r,s,i,e,n[o+1],21,-2054922799),e=_e(e,r,s,i,n[o+8],6,1873313359),i=_e(i,e,r,s,n[o+15],10,-30611744),s=_e(s,i,e,r,n[o+6],15,-1560198380),r=_e(r,s,i,e,n[o+13],21,1309151649),e=_e(e,r,s,i,n[o+4],6,-145523070),i=_e(i,e,r,s,n[o+11],10,-1120210379),s=_e(s,i,e,r,n[o+2],15,718787259),r=_e(r,s,i,e,n[o+9],21,-343485551),e=br(e,c),r=br(r,h),s=br(s,w),i=br(i,E)}return[e,r,s,i]}function sl(n){if(n.length===0)return[];for(var t=n.length*8,e=new Uint32Array(tc(t)),r=0;r<t;r+=8)e[r>>5]|=(n[r/8]&255)<<r%32;return e}function br(n,t){var e=(n&65535)+(t&65535),r=(n>>16)+(t>>16)+(e>>16);return r<<16|e&65535}function ol(n,t){return n<<t|n>>>32-t}function ii(n,t,e,r,s,i){return br(ol(br(br(t,n),br(r,i)),s),e)}function xe(n,t,e,r,s,i,o){return ii(t&e|~t&r,n,t,s,i,o)}function Ee(n,t,e,r,s,i,o){return ii(t&r|e&~r,n,t,s,i,o)}function Ie(n,t,e,r,s,i,o){return ii(t^e^r,n,t,s,i,o)}function _e(n,t,e,r,s,i,o){return ii(e^(t|~r),n,t,s,i,o)}var al=Qa("v3",48,rl);function cl(n,t,e){n=n||{};var r=n.random||(n.rng||Xa)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=r[s];return t}return ni(r)}function ul(n,t,e,r){switch(n){case 0:return t&e^~t&r;case 1:return t^e^r;case 2:return t&e^t&r^e&r;case 3:return t^e^r}}function $i(n,t){return n<<t|n>>>32-t}function fl(n){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var s=0;s<r.length;++s)n.push(r.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,o=Math.ceil(i/16),c=new Array(o),h=0;h<o;++h){for(var w=new Uint32Array(16),E=0;E<16;++E)w[E]=n[h*64+E*4]<<24|n[h*64+E*4+1]<<16|n[h*64+E*4+2]<<8|n[h*64+E*4+3];c[h]=w}c[o-1][14]=(n.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(n.length-1)*8&4294967295;for(var _=0;_<o;++_){for(var A=new Uint32Array(80),S=0;S<16;++S)A[S]=c[_][S];for(var B=16;B<80;++B)A[B]=$i(A[B-3]^A[B-8]^A[B-14]^A[B-16],1);for(var T=e[0],P=e[1],C=e[2],K=e[3],N=e[4],H=0;H<80;++H){var Q=Math.floor(H/20),it=$i(T,5)+ul(Q,P,C,K)+N+t[Q]+A[H]>>>0;N=K,K=C,C=$i(P,30)>>>0,P=T,T=it}e[0]=e[0]+T>>>0,e[1]=e[1]+P>>>0,e[2]=e[2]+C>>>0,e[3]=e[3]+K>>>0,e[4]=e[4]+N>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var ll=Qa("v5",80,fl);const hl="00000000-0000-0000-0000-000000000000";function dl(n){if(!ri(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const pl=Object.freeze(Object.defineProperty({__proto__:null,NIL:hl,parse:Ja,stringify:ni,v1:Jf,v3:al,v4:cl,v5:ll,validate:ri,version:dl},Symbol.toStringTag,{value:"Module"})),ec=fs(pl),gl=ec.v4,yl=function(n,t,e,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:n};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const o=typeof r.generator=="function"?r.generator:function(){return gl()};i.id=o(i,r)}else s===2&&e===null?r.notificationIdNull&&(i.id=null):i.id=e;return i};var ml=yl;const wl=ec.v4,bl=ml,pn=function(n,t){if(!(this instanceof pn))return new pn(n,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return wl()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=n};var kl=pn;pn.prototype.request=function(n,t,e,r){const s=this;let i=null;const o=Array.isArray(n)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&n&&typeof n=="object"&&typeof t=="function")r=t,i=n;else{typeof e=="function"&&(r=e,e=void 0);const w=typeof r=="function";try{i=bl(n,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(E){if(w)return r(E);throw E}if(!w)return i}let h;try{h=JSON.stringify(i,this.options.replacer)}catch(w){return r(w)}return this.callServer(h,function(w,E){s._parseResponse(w,E,r)}),i};pn.prototype._parseResponse=function(n,t,e){if(n){e(n);return}if(!t)return e();let r;try{r=JSON.parse(t,this.options.reviver)}catch(s){return e(s)}if(e.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return e(null,r.filter(s),r.filter(i))}else return e(null,r.error,r.result);e(null,r)};const vl=Zn(kl);var rc={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function s(h,w,E){this.fn=h,this.context=w,this.once=E||!1}function i(h,w,E,_,A){if(typeof E!="function")throw new TypeError("The listener must be a function");var S=new s(E,_||h,A),B=e?e+w:w;return h._events[B]?h._events[B].fn?h._events[B]=[h._events[B],S]:h._events[B].push(S):(h._events[B]=S,h._eventsCount++),h}function o(h,w){--h._eventsCount===0?h._events=new r:delete h._events[w]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var w=[],E,_;if(this._eventsCount===0)return w;for(_ in E=this._events)t.call(E,_)&&w.push(e?_.slice(1):_);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(E)):w},c.prototype.listeners=function(w){var E=e?e+w:w,_=this._events[E];if(!_)return[];if(_.fn)return[_.fn];for(var A=0,S=_.length,B=new Array(S);A<S;A++)B[A]=_[A].fn;return B},c.prototype.listenerCount=function(w){var E=e?e+w:w,_=this._events[E];return _?_.fn?1:_.length:0},c.prototype.emit=function(w,E,_,A,S,B){var T=e?e+w:w;if(!this._events[T])return!1;var P=this._events[T],C=arguments.length,K,N;if(P.fn){switch(P.once&&this.removeListener(w,P.fn,void 0,!0),C){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,E),!0;case 3:return P.fn.call(P.context,E,_),!0;case 4:return P.fn.call(P.context,E,_,A),!0;case 5:return P.fn.call(P.context,E,_,A,S),!0;case 6:return P.fn.call(P.context,E,_,A,S,B),!0}for(N=1,K=new Array(C-1);N<C;N++)K[N-1]=arguments[N];P.fn.apply(P.context,K)}else{var H=P.length,Q;for(N=0;N<H;N++)switch(P[N].once&&this.removeListener(w,P[N].fn,void 0,!0),C){case 1:P[N].fn.call(P[N].context);break;case 2:P[N].fn.call(P[N].context,E);break;case 3:P[N].fn.call(P[N].context,E,_);break;case 4:P[N].fn.call(P[N].context,E,_,A);break;default:if(!K)for(Q=1,K=new Array(C-1);Q<C;Q++)K[Q-1]=arguments[Q];P[N].fn.apply(P[N].context,K)}}return!0},c.prototype.on=function(w,E,_){return i(this,w,E,_,!1)},c.prototype.once=function(w,E,_){return i(this,w,E,_,!0)},c.prototype.removeListener=function(w,E,_,A){var S=e?e+w:w;if(!this._events[S])return this;if(!E)return o(this,S),this;var B=this._events[S];if(B.fn)B.fn===E&&(!A||B.once)&&(!_||B.context===_)&&o(this,S);else{for(var T=0,P=[],C=B.length;T<C;T++)(B[T].fn!==E||A&&!B[T].once||_&&B[T].context!==_)&&P.push(B[T]);P.length?this._events[S]=P.length===1?P[0]:P:o(this,S)}return this},c.prototype.removeAllListeners=function(w){var E;return w?(E=e?e+w:w,this._events[E]&&o(this,E)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=e,c.EventEmitter=c,n.exports=c})(rc);var Sl=rc.exports;const nc=Zn(Sl);var xl=class extends nc{constructor(t,e,r){super();le(this,"socket");this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,e,r){const s=r||e;try{this.socket.send(t),s()}catch(i){s(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function El(n,t){return new xl(n,t)}var Il=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},_l=class extends nc{constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...c}={},h,w){super();le(this,"address");le(this,"rpc_id");le(this,"queue");le(this,"options");le(this,"autoconnect");le(this,"ready");le(this,"reconnect");le(this,"reconnect_timer_id");le(this,"reconnect_interval");le(this,"max_reconnects");le(this,"rest_options");le(this,"current_reconnects");le(this,"generate_request_id");le(this,"socket");le(this,"webSocketFactory");le(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=h||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),w?this.dataPack=w:this.dataPack=new Il,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const c=this.generate_request_id(t,e),h={jsonrpc:"2.0",method:t,params:e||void 0,id:c};this.socket.send(this.dataPack.encode(h),s,w=>{if(w)return o(w);this.queue[c]={promise:[i,o]},r&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],o(new Error("reply timeout"))},r))})})}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.on",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){typeof t=="string"&&(t=[t]);const e=await this.call("rpc.off",t);if(typeof t=="string"&&e[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket&&this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=ot.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,s),1))})}};const Al=BigInt(0),un=BigInt(1),Bl=BigInt(2),Rl=BigInt(7),Ml=BigInt(256),Tl=BigInt(113),ic=[],sc=[],oc=[];for(let n=0,t=un,e=1,r=0;n<24;n++){[e,r]=[r,(2*e+3*r)%5],ic.push(2*(5*r+e)),sc.push((n+1)*(n+2)/2%64);let s=Al;for(let i=0;i<7;i++)t=(t<<un^(t>>Rl)*Tl)%Ml,t&Bl&&(s^=un<<(un<<BigInt(i))-un);oc.push(s)}const ac=Zo(oc,!0),Pl=ac[0],Ll=ac[1],vo=(n,t,e)=>e>32?su(n,t,e):nu(n,t,e),So=(n,t,e)=>e>32?ou(n,t,e):iu(n,t,e);function Cl(n,t=24){const e=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)e[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const c=(o+8)%10,h=(o+2)%10,w=e[h],E=e[h+1],_=vo(w,E,1)^e[c],A=So(w,E,1)^e[c+1];for(let S=0;S<50;S+=10)n[o+S]^=_,n[o+S+1]^=A}let s=n[2],i=n[3];for(let o=0;o<24;o++){const c=sc[o],h=vo(s,i,c),w=So(s,i,c),E=ic[o];s=n[E],i=n[E+1],n[E]=h,n[E+1]=w}for(let o=0;o<50;o+=10){for(let c=0;c<10;c++)e[c]=n[o+c];for(let c=0;c<10;c++)n[o+c]^=~e[(c+2)%10]&e[(c+4)%10]}n[0]^=Pl[r],n[1]^=Ll[r]}Sr(e)}class Ps extends hs{constructor(t,e,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=s,this.rounds=i,hn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=jc(this.state)}clone(){return this._cloneInto()}keccak(){no(this.state32),Cl(this.state32,this.rounds),no(this.state32),this.posOut=0,this.pos=0}update(t){Xr(this),t=Xn(t),hr(t);const{blockLen:e,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(e-this.pos,s-i);for(let c=0;c<o;c++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:s}=this;t[r]^=e,e&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Xr(this,!1),hr(t),this.finish();const e=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(e.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return hn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ho(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Sr(this.state)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new Ps(e,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Ul=(n,t,e)=>ds(()=>new Ps(t,n,e)),xo=Ul(1,136,256/8);class cc extends hs{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Vo(t);const r=Xn(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Sr(i)}update(t){return Xr(this),this.iHash.update(t),this}digestInto(t){Xr(this),hr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=c,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uc=(n,t,e)=>new cc(n,t).update(e).digest();uc.create=(n,t)=>new cc(n,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Eo=(n,t)=>(n+(n>=0?t:-t)/fc)/t;function Ol(n,t,e){const[[r,s],[i,o]]=t,c=Eo(o*n,e),h=Eo(-s*n,e);let w=n-c*r-h*i,E=-c*s-h*o;const _=w<lr,A=E<lr;_&&(w=-w),A&&(E=-E);const S=kn(Math.ceil(ta(e)/2))+Gr;if(w<lr||w>=S||E<lr||E>=S)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:_,k1:w,k2neg:A,k2:E}}function rs(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function Vi(n,t){const e={};for(let r of Object.keys(t))e[r]=n[r]===void 0?t[r]:n[r];return Tr(e.lowS,"lowS"),Tr(e.prehash,"prehash"),e.format!==void 0&&rs(e.format),e}class Nl extends Error{constructor(t=""){super(t)}}const cr={Err:Nl,_tlv:{encode:(n,t)=>{const{Err:e}=cr;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length&1)throw new e("tlv.encode: unpadded data");const r=t.length/2,s=Tn(r);if(s.length/2&128)throw new e("tlv.encode: long form length too big");const i=r>127?Tn(s.length/2|128):"";return Tn(n)+i+s+t},decode(n,t){const{Err:e}=cr;let r=0;if(n<0||n>256)throw new e("tlv.encode: wrong tag");if(t.length<2||t[r++]!==n)throw new e("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const h=s&127;if(!h)throw new e("tlv.decode(long): indefinite length not supported");if(h>4)throw new e("tlv.decode(long): byte length is too big");const w=t.subarray(r,r+h);if(w.length!==h)throw new e("tlv.decode: length bytes not complete");if(w[0]===0)throw new e("tlv.decode(long): zero leftmost byte");for(const E of w)o=o<<8|E;if(r+=h,o<128)throw new e("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+o);if(c.length!==o)throw new e("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+o)}}},_int:{encode(n){const{Err:t}=cr;if(n<lr)throw new t("integer: negative integers are not allowed");let e=Tn(n);if(Number.parseInt(e[0],16)&8&&(e="00"+e),e.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return e},decode(n){const{Err:t}=cr;if(n[0]&128)throw new t("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Jn(n)}},toSig(n){const{Err:t,_int:e,_tlv:r}=cr,s=Ht("signature",n),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:h}=r.decode(2,i),{v:w,l:E}=r.decode(2,h);if(E.length)throw new t("invalid signature: left bytes after parsing");return{r:e.decode(c),s:e.decode(w)}},hexFromSig(n){const{_tlv:t,_int:e}=cr,r=t.encode(2,e.encode(n.r)),s=t.encode(2,e.encode(n.s)),i=r+s;return t.encode(48,i)}},lr=BigInt(0),Gr=BigInt(1),fc=BigInt(2),Cn=BigInt(3),Fl=BigInt(4);function Vr(n,t){const{BYTES:e}=n;let r;if(typeof t=="bigint")r=t;else{let s=Ht("private key",t);try{r=n.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${e}, got ${typeof t}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function zl(n,t={}){const e=ya("weierstrass",n,t),{Fp:r,Fn:s}=e;let i=e.CURVE;const{h:o,n:c}=i;vn(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:h}=t;if(h&&(!r.is0(i.a)||typeof h.beta!="bigint"||!Array.isArray(h.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const w=hc(r,s);function E(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function _(J,y,a){const{x:d,y:p}=y.toAffine(),b=r.toBytes(d);if(Tr(a,"isCompressed"),a){E();const v=!r.isOdd(p);return Ye(lc(v),b)}else return Ye(Uint8Array.of(4),b,r.toBytes(p))}function A(J){We(J,void 0,"Point");const{publicKey:y,publicKeyUncompressed:a}=w,d=J.length,p=J[0],b=J.subarray(1);if(d===y&&(p===2||p===3)){const v=r.fromBytes(b);if(!r.isValid(v))throw new Error("bad point: is not on curve, wrong x");const I=T(v);let R;try{R=r.sqrt(I)}catch(x){const j=x instanceof Error?": "+x.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}E();const m=r.isOdd(R);return(p&1)===1!==m&&(R=r.neg(R)),{x:v,y:R}}else if(d===a&&p===4){const v=r.BYTES,I=r.fromBytes(b.subarray(0,v)),R=r.fromBytes(b.subarray(v,v*2));if(!P(I,R))throw new Error("bad point: is not on curve");return{x:I,y:R}}else throw new Error(`bad point: got length ${d}, expected compressed=${y} or uncompressed=${a}`)}const S=t.toBytes||_,B=t.fromBytes||A;function T(J){const y=r.sqr(J),a=r.mul(y,J);return r.add(r.add(a,r.mul(J,i.a)),i.b)}function P(J,y){const a=r.sqr(y),d=T(J);return r.eql(a,d)}if(!P(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const C=r.mul(r.pow(i.a,Cn),Fl),K=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(C,K)))throw new Error("bad curve params: a or b");function N(J,y,a=!1){if(!r.isValid(y)||a&&r.is0(y))throw new Error(`bad point coordinate ${J}`);return y}function H(J){if(!(J instanceof z))throw new Error("ProjectivePoint expected")}function Q(J){if(!h||!h.basises)throw new Error("no endo");return Ol(J,h.basises,s.ORDER)}const it=zn((J,y)=>{const{X:a,Y:d,Z:p}=J;if(r.eql(p,r.ONE))return{x:a,y:d};const b=J.is0();y==null&&(y=b?r.ONE:r.inv(p));const v=r.mul(a,y),I=r.mul(d,y),R=r.mul(p,y);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(R,r.ONE))throw new Error("invZ was invalid");return{x:v,y:I}}),ft=zn(J=>{if(J.is0()){if(t.allowInfinityPoint&&!r.is0(J.Y))return;throw new Error("bad point: ZERO")}const{x:y,y:a}=J.toAffine();if(!r.isValid(y)||!r.isValid(a))throw new Error("bad point: x or y not field elements");if(!P(y,a))throw new Error("bad point: equation left != right");if(!J.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function ct(J,y,a,d,p){return a=new z(r.mul(a.X,J),a.Y,a.Z),y=Kn(d,y),a=Kn(p,a),y.add(a)}class z{constructor(y,a,d){this.X=N("x",y),this.Y=N("y",a,!0),this.Z=N("z",d),Object.freeze(this)}static CURVE(){return i}static fromAffine(y){const{x:a,y:d}=y||{};if(!y||!r.isValid(a)||!r.isValid(d))throw new Error("invalid affine point");if(y instanceof z)throw new Error("projective point not allowed");return r.is0(a)&&r.is0(d)?z.ZERO:new z(a,d,r.ONE)}static fromBytes(y){const a=z.fromAffine(B(We(y,void 0,"point")));return a.assertValidity(),a}static fromHex(y){return z.fromBytes(Ht("pointHex",y))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(y=8,a=!0){return Y.createCache(this,y),a||this.multiply(Cn),this}assertValidity(){ft(this)}hasEvenY(){const{y}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(y)}equals(y){H(y);const{X:a,Y:d,Z:p}=this,{X:b,Y:v,Z:I}=y,R=r.eql(r.mul(a,I),r.mul(b,p)),m=r.eql(r.mul(d,I),r.mul(v,p));return R&&m}negate(){return new z(this.X,r.neg(this.Y),this.Z)}double(){const{a:y,b:a}=i,d=r.mul(a,Cn),{X:p,Y:b,Z:v}=this;let I=r.ZERO,R=r.ZERO,m=r.ZERO,f=r.mul(p,p),x=r.mul(b,b),j=r.mul(v,v),q=r.mul(p,b);return q=r.add(q,q),m=r.mul(p,v),m=r.add(m,m),I=r.mul(y,m),R=r.mul(d,j),R=r.add(I,R),I=r.sub(x,R),R=r.add(x,R),R=r.mul(I,R),I=r.mul(q,I),m=r.mul(d,m),j=r.mul(y,j),q=r.sub(f,j),q=r.mul(y,q),q=r.add(q,m),m=r.add(f,f),f=r.add(m,f),f=r.add(f,j),f=r.mul(f,q),R=r.add(R,f),j=r.mul(b,v),j=r.add(j,j),f=r.mul(j,q),I=r.sub(I,f),m=r.mul(j,x),m=r.add(m,m),m=r.add(m,m),new z(I,R,m)}add(y){H(y);const{X:a,Y:d,Z:p}=this,{X:b,Y:v,Z:I}=y;let R=r.ZERO,m=r.ZERO,f=r.ZERO;const x=i.a,j=r.mul(i.b,Cn);let q=r.mul(a,b),X=r.mul(d,v),mt=r.mul(p,I),lt=r.add(a,d),at=r.add(b,v);lt=r.mul(lt,at),at=r.add(q,X),lt=r.sub(lt,at),at=r.add(a,p);let Kt=r.add(b,I);return at=r.mul(at,Kt),Kt=r.add(q,mt),at=r.sub(at,Kt),Kt=r.add(d,p),R=r.add(v,I),Kt=r.mul(Kt,R),R=r.add(X,mt),Kt=r.sub(Kt,R),f=r.mul(x,at),R=r.mul(j,mt),f=r.add(R,f),R=r.sub(X,f),f=r.add(X,f),m=r.mul(R,f),X=r.add(q,q),X=r.add(X,q),mt=r.mul(x,mt),at=r.mul(j,at),X=r.add(X,mt),mt=r.sub(q,mt),mt=r.mul(x,mt),at=r.add(at,mt),q=r.mul(X,at),m=r.add(m,q),q=r.mul(Kt,at),R=r.mul(lt,R),R=r.sub(R,q),q=r.mul(lt,X),f=r.mul(Kt,f),f=r.add(f,q),new z(R,m,f)}subtract(y){return this.add(y.negate())}is0(){return this.equals(z.ZERO)}multiply(y){const{endo:a}=t;if(!s.isValidNot0(y))throw new Error("invalid scalar: out of range");let d,p;const b=v=>Y.cached(this,v,I=>Br(z,I));if(a){const{k1neg:v,k1:I,k2neg:R,k2:m}=Q(y),{p:f,f:x}=b(I),{p:j,f:q}=b(m);p=x.add(q),d=ct(a.beta,f,j,v,R)}else{const{p:v,f:I}=b(y);d=v,p=I}return Br(z,[d,p])[0]}multiplyUnsafe(y){const{endo:a}=t,d=this;if(!s.isValid(y))throw new Error("invalid scalar: out of range");if(y===lr||d.is0())return z.ZERO;if(y===Gr)return d;if(Y.hasCache(this))return this.multiply(y);if(a){const{k1neg:p,k1:b,k2neg:v,k2:I}=Q(y),{p1:R,p2:m}=Lu(z,d,b,I);return ct(a.beta,R,m,p,v)}else return Y.unsafe(d,y)}multiplyAndAddUnsafe(y,a,d){const p=this.multiplyUnsafe(a).add(y.multiplyUnsafe(d));return p.is0()?void 0:p}toAffine(y){return it(this,y)}isTorsionFree(){const{isTorsionFree:y}=t;return o===Gr?!0:y?y(z,this):Y.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:y}=t;return o===Gr?this:y?y(z,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(y=!0){return Tr(y,"isCompressed"),this.assertValidity(),S(z,this,y)}toHex(y=!0){return Mr(this.toBytes(y))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(y=!0){return this.toBytes(y)}_setWindowSize(y){this.precompute(y)}static normalizeZ(y){return Br(z,y)}static msm(y,a){return ga(z,s,y,a)}static fromPrivateKey(y){return z.BASE.multiply(Vr(s,y))}}z.BASE=new z(i.Gx,i.Gy,r.ONE),z.ZERO=new z(r.ZERO,r.ONE,r.ZERO),z.Fp=r,z.Fn=s;const tt=s.BITS,Y=new pa(z,t.endo?Math.ceil(tt/2):tt);return z.BASE.precompute(8),z}function lc(n){return Uint8Array.of(n?2:3)}function hc(n,t){return{secretKey:t.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Kl(n,t={}){const{Fn:e}=n,r=t.randomBytes||ps,s=Object.assign(hc(n.Fp,e),{seed:la(e.ORDER)});function i(S){try{return!!Vr(e,S)}catch{return!1}}function o(S,B){const{publicKey:T,publicKeyUncompressed:P}=s;try{const C=S.length;return B===!0&&C!==T||B===!1&&C!==P?!1:!!n.fromBytes(S)}catch{return!1}}function c(S=r(s.seed)){return Mu(We(S,s.seed,"seed"),e.ORDER)}function h(S,B=!0){return n.BASE.multiply(Vr(e,S)).toBytes(B)}function w(S){const B=c(S);return{secretKey:B,publicKey:h(B)}}function E(S){if(typeof S=="bigint")return!1;if(S instanceof n)return!0;const{secretKey:B,publicKey:T,publicKeyUncompressed:P}=s;if(e.allowedLengths||B===T)return;const C=Ht("key",S).length;return C===T||C===P}function _(S,B,T=!0){if(E(S)===!0)throw new Error("first arg must be private key");if(E(B)===!1)throw new Error("second arg must be public key");const P=Vr(e,S);return n.fromHex(B).multiply(P).toBytes(T)}return Object.freeze({getPublicKey:h,getSharedSecret:_,keygen:w,Point:n,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:S=>Vr(e,S),precompute(S=8,B=n.BASE){return B.precompute(S,!1)}},lengths:s})}function Dl(n,t,e={}){Vo(t),vn(e,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||ps,s=e.hmac||((a,...d)=>uc(t,a,Ye(...d))),{Fp:i,Fn:o}=n,{ORDER:c,BITS:h}=o,{keygen:w,getPublicKey:E,getSharedSecret:_,utils:A,lengths:S}=Kl(n,e),B={prehash:!1,lowS:typeof e.lowS=="boolean"?e.lowS:!1,format:void 0,extraEntropy:!1},T="compact";function P(a){const d=c>>Gr;return a>d}function C(a,d){if(!o.isValidNot0(d))throw new Error(`invalid signature ${a}: out of range 1..Point.Fn.ORDER`);return d}function K(a,d){rs(d);const p=S.signature,b=d==="compact"?p:d==="recovered"?p+1:void 0;return We(a,b,`${d} signature`)}class N{constructor(d,p,b){this.r=C("r",d),this.s=C("s",p),b!=null&&(this.recovery=b),Object.freeze(this)}static fromBytes(d,p=T){K(d,p);let b;if(p==="der"){const{r:m,s:f}=cr.toSig(We(d));return new N(m,f)}p==="recovered"&&(b=d[0],p="compact",d=d.subarray(1));const v=o.BYTES,I=d.subarray(0,v),R=d.subarray(v,v*2);return new N(o.fromBytes(I),o.fromBytes(R),b)}static fromHex(d,p){return this.fromBytes(Fn(d),p)}addRecoveryBit(d){return new N(this.r,this.s,d)}recoverPublicKey(d){const p=i.ORDER,{r:b,s:v,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(c*fc<p&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const m=I===2||I===3?b+c:b;if(!i.isValid(m))throw new Error("recovery id 2 or 3 invalid");const f=i.toBytes(m),x=n.fromBytes(Ye(lc((I&1)===0),f)),j=o.inv(m),q=Q(Ht("msgHash",d)),X=o.create(-q*j),mt=o.create(v*j),lt=n.BASE.multiplyUnsafe(X).add(x.multiplyUnsafe(mt));if(lt.is0())throw new Error("point at infinify");return lt.assertValidity(),lt}hasHighS(){return P(this.s)}toBytes(d=T){if(rs(d),d==="der")return Fn(cr.hexFromSig(this));const p=o.toBytes(this.r),b=o.toBytes(this.s);if(d==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ye(Uint8Array.of(this.recovery),p,b)}return Ye(p,b)}toHex(d){return Mr(this.toBytes(d))}assertValidity(){}static fromCompact(d){return N.fromBytes(Ht("sig",d),"compact")}static fromDER(d){return N.fromBytes(Ht("sig",d),"der")}normalizeS(){return this.hasHighS()?new N(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Mr(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Mr(this.toBytes("compact"))}}const H=e.bits2int||function(d){if(d.length>8192)throw new Error("input is too large");const p=Jn(d),b=d.length*8-h;return b>0?p>>BigInt(b):p},Q=e.bits2int_modN||function(d){return o.create(H(d))},it=kn(h);function ft(a){return Qi("num < 2^"+h,a,lr,it),o.toBytes(a)}function ct(a,d){return We(a,void 0,"message"),d?We(t(a),void 0,"prehashed message"):a}function z(a,d,p){if(["recovered","canonical"].some(X=>X in p))throw new Error("sign() legacy options not supported");const{lowS:b,prehash:v,extraEntropy:I}=Vi(p,B);a=ct(a,v);const R=Q(a),m=Vr(o,d),f=[ft(m),ft(R)];if(I!=null&&I!==!1){const X=I===!0?r(S.secretKey):I;f.push(Ht("extraEntropy",X))}const x=Ye(...f),j=R;function q(X){const mt=H(X);if(!o.isValidNot0(mt))return;const lt=o.inv(mt),at=n.BASE.multiply(mt).toAffine(),Kt=o.create(at.x);if(Kt===lr)return;const _t=o.create(lt*o.create(j+Kt*m));if(_t===lr)return;let Bt=(at.x===Kt?0:2)|Number(at.y&Gr),Ne=_t;return b&&P(_t)&&(Ne=o.neg(_t),Bt^=1),new N(Kt,Ne,Bt)}return{seed:x,k2sig:q}}function tt(a,d,p={}){a=Ht("message",a);const{seed:b,k2sig:v}=z(a,d,p);return ku(t.outputLen,o.BYTES,s)(b,v)}function Y(a){let d;const p=typeof a=="string"||bn(a),b=!p&&a!==null&&typeof a=="object"&&typeof a.r=="bigint"&&typeof a.s=="bigint";if(!p&&!b)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(b)d=new N(a.r,a.s);else if(p){try{d=N.fromBytes(Ht("sig",a),"der")}catch(v){if(!(v instanceof cr.Err))throw v}if(!d)try{d=N.fromBytes(Ht("sig",a),"compact")}catch{return!1}}return d||!1}function J(a,d,p,b={}){const{lowS:v,prehash:I,format:R}=Vi(b,B);if(p=Ht("publicKey",p),d=ct(Ht("message",d),I),"strict"in b)throw new Error("options.strict was renamed to lowS");const m=R===void 0?Y(a):N.fromBytes(Ht("sig",a),R);if(m===!1)return!1;try{const f=n.fromBytes(p);if(v&&m.hasHighS())return!1;const{r:x,s:j}=m,q=Q(d),X=o.inv(j),mt=o.create(q*X),lt=o.create(x*X),at=n.BASE.multiplyUnsafe(mt).add(f.multiplyUnsafe(lt));return at.is0()?!1:o.create(at.x)===x}catch{return!1}}function y(a,d,p={}){const{prehash:b}=Vi(p,B);return d=ct(d,b),N.fromBytes(a,"recovered").recoverPublicKey(d).toBytes()}return Object.freeze({keygen:w,getPublicKey:E,getSharedSecret:_,utils:A,lengths:S,Point:n,sign:tt,verify:J,recoverPublicKey:y,Signature:N,hash:t})}function Wl(n){const t={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},e=n.Fp;let r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=Cr(t.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),i={Fp:e,Fn:s,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:t,curveOpts:i}}function ql(n){const{CURVE:t,curveOpts:e}=Wl(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:t,curveOpts:e,hash:n.hash,ecdsaOpts:r}}function $l(n,t){const e=t.Point;return Object.assign({},t,{ProjectivePoint:e,CURVE:Object.assign({},n,ua(e.Fn.ORDER,e.Fn.BITS))})}function Vl(n){const{CURVE:t,curveOpts:e,hash:r,ecdsaOpts:s}=ql(n),i=zl(t,e),o=Dl(i,r,s);return $l(n,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hl(n,t){const e=r=>Vl({...n,hash:r});return{...e(t),create:e}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ls={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},jl={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Io=BigInt(2);function Gl(n){const t=Ls.p,e=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),h=BigInt(88),w=n*n*n%t,E=w*w*n%t,_=Vt(E,e,t)*E%t,A=Vt(_,e,t)*E%t,S=Vt(A,Io,t)*w%t,B=Vt(S,s,t)*S%t,T=Vt(B,i,t)*B%t,P=Vt(T,c,t)*T%t,C=Vt(P,h,t)*P%t,K=Vt(C,c,t)*T%t,N=Vt(K,e,t)*E%t,H=Vt(N,o,t)*B%t,Q=Vt(H,r,t)*w%t,it=Vt(Q,Io,t);if(!ns.eql(ns.sqr(it),n))throw new Error("Cannot find square root");return it}const ns=Cr(Ls.p,{sqrt:Gl}),Cs=Hl({...Ls,Fp:ns,lowS:!0,endo:jl},Xo),Zl=rn.utils.randomPrivateKey,_o=()=>{const n=rn.utils.randomPrivateKey(),t=jn(n),e=new Uint8Array(64);return e.set(n),e.set(t,32),{publicKey:t,secretKey:e}},jn=rn.getPublicKey;function Ao(n){try{return rn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Us=(n,t)=>rn.sign(n,t.slice(0,32)),Yl=rn.verify,yt=n=>ot.Buffer.isBuffer(n)?n:n instanceof Uint8Array?ot.Buffer.from(n.buffer,n.byteOffset,n.byteLength):ot.Buffer.from(n);class Os{constructor(t){Object.assign(this,t)}encode(){return ot.Buffer.from(_a(ln,this))}static decode(t){return Aa(ln,this,t)}static decodeUnchecked(t){return va(ln,this,t)}}class Xl extends Os{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(e=>{this.enum=e})}}const ln=new Map;var dc;const pc=32,tr=32;function Jl(n){return n._bn!==void 0}let Bo=1;class $ extends Os{constructor(t){if(super({}),this._bn=void 0,Jl(t))this._bn=t._bn;else{if(typeof t=="string"){const e=be.decode(t);if(e.length!=tr)throw new Error("Invalid public key input");this._bn=new mo(e)}else this._bn=new mo(t);if(this._bn.byteLength()>tr)throw new Error("Invalid public key input")}}static unique(){const t=new $(Bo);return Bo+=1,new $(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return be.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(ot.Buffer);if(t.length===tr)return t;const e=ot.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const s=ot.Buffer.concat([t.toBuffer(),ot.Buffer.from(e),r.toBuffer()]),i=wo(s);return new $(i)}static createProgramAddressSync(t,e){let r=ot.Buffer.alloc(0);t.forEach(function(i){if(i.length>pc)throw new TypeError("Max seed length exceeded");r=ot.Buffer.concat([r,yt(i)])}),r=ot.Buffer.concat([r,e.toBuffer(),ot.Buffer.from("ProgramDerivedAddress")]);const s=wo(r);if(Ao(s))throw new Error("Invalid seeds, address must fall off the curve");return new $(s)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r=255,s;for(;r!=0;){try{const i=t.concat(ot.Buffer.from([r]));s=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new $(t);return Ao(e.toBytes())}}dc=$;$.default=new dc("11111111111111111111111111111111");ln.set($,{kind:"struct",fields:[["_bn","u256"]]});class Ql{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=yt(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=yt(Zl()),this._publicKey=yt(jn(this._secretKey))}get publicKey(){return new $(this._publicKey)}get secretKey(){return ot.Buffer.concat([this._secretKey,this._publicKey],64)}}const th=new $("BPFLoader1111111111111111111111111111111111"),vr=1232,si=127,gn=64;class Ns extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ns.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Fs extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Fs.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Hr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Hr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class yn{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const wt=(n="publicKey")=>Ct(32,n),eh=(n="signature")=>Ct(64,n),Rr=(n="string")=>{const t=rt([et("length"),et("lengthPadding"),Ct(kr(et(),-8),"chars")],n),e=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(i,o)=>e(i,o).chars.toString(),s.encode=(i,o,c)=>{const h={chars:ot.Buffer.from(i,"utf8")};return r(h,o,c)},s.alloc=i=>et().span+et().span+ot.Buffer.from(i,"utf8").length,s},rh=(n="authorized")=>rt([wt("staker"),wt("withdrawer")],n),nh=(n="lockup")=>rt([Ce("unixTimestamp"),Ce("epoch"),wt("custodian")],n),ih=(n="voteInit")=>rt([wt("nodePubkey"),wt("authorizedVoter"),wt("authorizedWithdrawer"),kt("commission")],n),sh=(n="voteAuthorizeWithSeedArgs")=>rt([et("voteAuthorizationType"),wt("currentAuthorityDerivedKeyOwnerPubkey"),Rr("currentAuthorityDerivedKeySeed"),wt("newAuthorized")],n);function gc(n,t){const e=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(t[s.property]);if("count"in s&&"elementLayout"in s){const i=t[s.property];if(Array.isArray(i))return i.length*e(s.elementLayout)}else if("fields"in s)return gc({layout:s},t[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=e(s)}),r}function Re(n){let t=0,e=0;for(;;){let r=n.shift();if(t|=(r&127)<<e*7,e+=1,!(r&128))break}return t}function Ue(n,t){let e=t;for(;;){let r=e&127;if(e>>=7,e==0){n.push(r);break}else r|=128,n.push(r)}}function vt(n,t){if(!n)throw new Error(t||"Assertion failed")}class oi{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,s=o=>{const c=o.toBase58();let h=r.get(c);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,h)),h},i=s(e);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const c of o.keys){const h=s(c.pubkey);h.isSigner||(h.isSigner=c.isSigner),h.isWritable||(h.isWritable=c.isWritable)}}return new oi(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];vt(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,h])=>h.isSigner&&h.isWritable),r=t.filter(([,h])=>h.isSigner&&!h.isWritable),s=t.filter(([,h])=>!h.isSigner&&h.isWritable),i=t.filter(([,h])=>!h.isSigner&&!h.isWritable),o={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{vt(e.length>0,"Expected at least one writable signer key");const[h]=e[0];vt(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...e.map(([h])=>new $(h)),...r.map(([h])=>new $(h)),...s.map(([h])=>new $(h)),...i.map(([h])=>new $(h))];return[o,c]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(e.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(e(o)){const c=new $(i),h=t.findIndex(w=>w.equals(c));h>=0&&(vt(h<256,"Max lookup table index exceeded"),r.push(h),s.push(c),this.keyMetaMap.delete(i))}return[r,s]}}const yc="Reached end of buffer unexpectedly";function Xe(n){if(n.length===0)throw new Error(yc);return n.shift()}function Me(n,...t){const[e]=t;if(t.length===2?e+(t[1]??0)>n.length:e>=n.length)throw new Error(yc);return n.splice(...t)}class He{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new $(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:be.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new yn(this.staticAccountKeys)}static compile(t){const e=oi.compile(t.instructions,t.payerKey),[r,s]=e.getMessageComponents(),o=new yn(s).compileInstructions(t.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:be.encode(c.data)}));return new He({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=e-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Ue(e,t);const r=this.instructions.map(_=>{const{accounts:A,programIdIndex:S}=_,B=Array.from(be.decode(_.data));let T=[];Ue(T,A.length);let P=[];return Ue(P,B.length),{programIdIndex:S,keyIndicesCount:ot.Buffer.from(T),keyIndices:A,dataLength:ot.Buffer.from(P),data:B}});let s=[];Ue(s,r.length);let i=ot.Buffer.alloc(vr);ot.Buffer.from(s).copy(i);let o=s.length;r.forEach(_=>{const S=rt([kt("programIdIndex"),Ct(_.keyIndicesCount.length,"keyIndicesCount"),ke(kt("keyIndex"),_.keyIndices.length,"keyIndices"),Ct(_.dataLength.length,"dataLength"),ke(kt("userdatum"),_.data.length,"data")]).encode(_,i,o);o+=S}),i=i.slice(0,o);const c=rt([Ct(1,"numRequiredSignatures"),Ct(1,"numReadonlySignedAccounts"),Ct(1,"numReadonlyUnsignedAccounts"),Ct(e.length,"keyCount"),ke(wt("key"),t,"keys"),wt("recentBlockhash")]),h={numRequiredSignatures:ot.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ot.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ot.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ot.Buffer.from(e),keys:this.accountKeys.map(_=>yt(_.toBytes())),recentBlockhash:be.decode(this.recentBlockhash)};let w=ot.Buffer.alloc(2048);const E=c.encode(h,w);return i.copy(w,E),w.slice(0,E+i.length)}static from(t){let e=[...t];const r=Xe(e);if(r!==(r&si))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Xe(e),i=Xe(e),o=Re(e);let c=[];for(let A=0;A<o;A++){const S=Me(e,0,tr);c.push(new $(ot.Buffer.from(S)))}const h=Me(e,0,tr),w=Re(e);let E=[];for(let A=0;A<w;A++){const S=Xe(e),B=Re(e),T=Me(e,0,B),P=Re(e),C=Me(e,0,P),K=be.encode(ot.Buffer.from(C));E.push({programIdIndex:S,accounts:T,data:K})}const _={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:be.encode(ot.Buffer.from(h)),accountKeys:c,instructions:E};return new He(_)}}class Pr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new yn(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const s=t-r,i=this.addressTableLookups.reduce((o,c)=>o+c.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-e,o=r-e-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=e-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=t.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)e.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)e.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return e}static compile(t){const e=oi.compile(t.instructions,t.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const E of i){const _=e.extractTableLookup(E);if(_!==void 0){const[A,{writable:S,readonly:B}]=_;r.push(A),s.writable.push(...S),s.readonly.push(...B)}}const[o,c]=e.getMessageComponents(),w=new yn(c,s).compileInstructions(t.instructions);return new Pr({header:o,staticAccountKeys:c,recentBlockhash:t.recentBlockhash,compiledInstructions:w,addressTableLookups:r})}serialize(){const t=Array();Ue(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();Ue(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ue(i,this.addressTableLookups.length);const o=rt([kt("prefix"),rt([kt("numRequiredSignatures"),kt("numReadonlySignedAccounts"),kt("numReadonlyUnsignedAccounts")],"header"),Ct(t.length,"staticAccountKeysLength"),ke(wt(),this.staticAccountKeys.length,"staticAccountKeys"),wt("recentBlockhash"),Ct(r.length,"instructionsLength"),Ct(e.length,"serializedInstructions"),Ct(i.length,"addressTableLookupsLength"),Ct(s.length,"serializedAddressTableLookups")]),c=new Uint8Array(vr),w=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(E=>E.toBytes()),recentBlockhash:be.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},c);return c.slice(0,w)}serializeInstructions(){let t=0;const e=new Uint8Array(vr);for(const r of this.compiledInstructions){const s=Array();Ue(s,r.accountKeyIndexes.length);const i=Array();Ue(i,r.data.length);const o=rt([kt("programIdIndex"),Ct(s.length,"encodedAccountKeyIndexesLength"),ke(kt(),r.accountKeyIndexes.length,"accountKeyIndexes"),Ct(i.length,"encodedDataLength"),Ct(r.data.length,"data")]);t+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(vr);for(const r of this.addressTableLookups){const s=Array();Ue(s,r.writableIndexes.length);const i=Array();Ue(i,r.readonlyIndexes.length);const o=rt([wt("accountKey"),Ct(s.length,"encodedWritableIndexesLength"),ke(kt(),r.writableIndexes.length,"writableIndexes"),Ct(i.length,"encodedReadonlyIndexesLength"),ke(kt(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=Xe(e),s=r&si;vt(r!==s,"Expected versioned message but received legacy message");const i=s;vt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Xe(e),numReadonlySignedAccounts:Xe(e),numReadonlyUnsignedAccounts:Xe(e)},c=[],h=Re(e);for(let B=0;B<h;B++)c.push(new $(Me(e,0,tr)));const w=be.encode(Me(e,0,tr)),E=Re(e),_=[];for(let B=0;B<E;B++){const T=Xe(e),P=Re(e),C=Me(e,0,P),K=Re(e),N=new Uint8Array(Me(e,0,K));_.push({programIdIndex:T,accountKeyIndexes:C,data:N})}const A=Re(e),S=[];for(let B=0;B<A;B++){const T=new $(Me(e,0,tr)),P=Re(e),C=Me(e,0,P),K=Re(e),N=Me(e,0,K);S.push({accountKey:T,writableIndexes:C,readonlyIndexes:N})}return new Pr({header:o,staticAccountKeys:c,recentBlockhash:w,compiledInstructions:_,addressTableLookups:S})}}const zs={deserializeMessageVersion(n){const t=n[0],e=t&si;return e===t?"legacy":e},deserialize:n=>{const t=zs.deserializeMessageVersion(n);if(t==="legacy")return He.from(n);if(t===0)return Pr.deserialize(n);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let ar=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const oh=ot.Buffer.alloc(gn).fill(0);class At{constructor(t){this.keys=void 0,this.programId=void 0,this.data=ot.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class xt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new At(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let T=0;T<e.length;T++)if(e[T].programId===void 0)throw new Error(`Transaction instruction index ${T} has undefined program id`);const s=[],i=[];e.forEach(T=>{T.keys.forEach(C=>{i.push({...C})});const P=T.programId.toString();s.includes(P)||s.push(P)}),s.forEach(T=>{i.push({pubkey:new $(T),isSigner:!1,isWritable:!1})});const o=[];i.forEach(T=>{const P=T.pubkey.toString(),C=o.findIndex(K=>K.pubkey.toString()===P);C>-1?(o[C].isWritable=o[C].isWritable||T.isWritable,o[C].isSigner=o[C].isSigner||T.isSigner):o.push(T)}),o.sort(function(T,P){if(T.isSigner!==P.isSigner)return T.isSigner?-1:1;if(T.isWritable!==P.isWritable)return T.isWritable?-1:1;const C={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return T.pubkey.toBase58().localeCompare(P.pubkey.toBase58(),"en",C)});const c=o.findIndex(T=>T.pubkey.equals(r));if(c>-1){const[T]=o.splice(c,1);T.isSigner=!0,T.isWritable=!0,o.unshift(T)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const T of this.signatures){const P=o.findIndex(C=>C.pubkey.equals(T.publicKey));if(P>-1)o[P].isSigner||(o[P].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${T.publicKey.toString()}`)}let h=0,w=0,E=0;const _=[],A=[];o.forEach(({pubkey:T,isSigner:P,isWritable:C})=>{P?(_.push(T.toString()),h+=1,C||(w+=1)):(A.push(T.toString()),C||(E+=1))});const S=_.concat(A),B=e.map(T=>{const{data:P,programId:C}=T;return{programIdIndex:S.indexOf(C.toString()),accounts:T.keys.map(K=>S.indexOf(K.pubkey.toString())),data:be.encode(P)}});return B.forEach(T=>{vt(T.programIdIndex>=0),T.accounts.forEach(P=>vt(P>=0))}),new He({header:{numRequiredSignatures:h,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:E},accountKeys:S,recentBlockhash:t,instructions:B})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((s,i)=>e[i].equals(s.publicKey))||(this.signatures=e.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(r=>{const s=r.toString();return e.has(s)?!1:(e.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const o=i.publicKey.toString();e.has(o)||(e.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach(s=>{const i=Us(r,s.secretKey);this._addSignature(s.publicKey,yt(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){vt(e.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=ot.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?e&&(r.missing||(r.missing=[])).push(i):Yl(s,t,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,e);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(t){const{signatures:e}=this,r=[];Ue(r,e.length);const s=r.length+e.length*64+t.length,i=ot.Buffer.alloc(s);return vt(e.length<256),ot.Buffer.from(r).copy(i,0),e.forEach(({signature:o},c)=>{o!==null&&(vt(o.length===64,"signature has invalid length"),ot.Buffer.from(o).copy(i,r.length+c*64))}),t.copy(i,r.length+e.length*64),vt(i.length<=vr,`Transaction too large: ${i.length} > ${vr}`),i}get keys(){return vt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return vt(this.instructions.length===1),this.instructions[0].programId}get data(){return vt(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const r=Re(e);let s=[];for(let i=0;i<r;i++){const o=Me(e,0,gn);s.push(be.encode(ot.Buffer.from(o)))}return xt.populate(He.from(e),s)}static populate(t,e=[]){const r=new xt;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach((s,i)=>{const o={signature:s==be.encode(oh)?null:be.decode(s),publicKey:t.accountKeys[i]};r.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const c=t.accountKeys[o];return{pubkey:c,isSigner:r.signatures.some(h=>h.publicKey.toString()===c.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});r.instructions.push(new At({keys:i,programId:t.accountKeys[s.programIdIndex],data:be.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}}class Ks{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:r,compiledInstructions:s,recentBlockhash:i}=t,{numRequiredSignatures:o,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:h}=r,w=o-c;vt(w>0,"Message header is invalid");const E=t.staticAccountKeys.length-o-h;vt(E>=0,"Message header is invalid");const _=t.getAccountKeys(e),A=_.get(0);if(A===void 0)throw new Error("Failed to decompile message because no account keys were found");const S=[];for(const B of s){const T=[];for(const C of B.accountKeyIndexes){const K=_.get(C);if(K===void 0)throw new Error(`Failed to find key for account key index ${C}`);const N=C<o;let H;N?H=C<w:C<_.staticAccountKeys.length?H=C-o<E:H=C-_.staticAccountKeys.length<_.accountKeysFromLookups.writable.length,T.push({pubkey:K,isSigner:C<r.numRequiredSignatures,isWritable:H})}const P=_.get(B.programIdIndex);if(P===void 0)throw new Error(`Failed to find program id for program id index ${B.programIdIndex}`);S.push(new At({programId:P,data:yt(B.data),keys:T}))}return new Ks({payerKey:A,instructions:S,recentBlockhash:i})}compileToLegacyMessage(){return He.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return Pr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class Ds{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)vt(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const r=[];for(let s=0;s<t.header.numRequiredSignatures;s++)r.push(new Uint8Array(gn));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Ue(e,this.signatures.length);const r=rt([Ct(e.length,"encodedSignaturesLength"),ke(eh(),this.signatures.length,"signatures"),Ct(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let e=[...t];const r=[],s=Re(e);for(let o=0;o<s;o++)r.push(new Uint8Array(Me(e,0,gn)));const i=zs.deserialize(new Uint8Array(e));return new Ds(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=r.findIndex(o=>o.equals(s.publicKey));vt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Us(e,s.secretKey)}}addSignature(t,e){vt(e.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));vt(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=e}}const ah=160,ch=64,uh=ah/ch,mc=1e3/uh,Ge=new $("SysvarC1ock11111111111111111111111111111111"),fh=new $("SysvarEpochSchedu1e111111111111111111111111"),lh=new $("Sysvar1nstructions1111111111111111111111111"),On=new $("SysvarRecentB1ockHashes11111111111111111111"),tn=new $("SysvarRent111111111111111111111111111111111"),hh=new $("SysvarRewards111111111111111111111111111111"),dh=new $("SysvarS1otHashes111111111111111111111111111"),ph=new $("SysvarS1otHistory11111111111111111111111111"),Nn=new $("SysvarStakeHistory1111111111111111111111111");class mn extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let c;switch(t){case"send":c=`Transaction ${e} resulted in an error. 
${r}. `+i+o;break;case"simulate":c=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:c=`Unknown action '${(h=>h)(t)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((e,r)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,e(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const gh={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class nt extends Error{constructor({code:t,message:e,data:r},s){super(s!=null?`${s}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}async function is(n,t,e,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(t,e,s);let o;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){const{nonceInstruction:c}=t.nonceInfo,h=c.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:h,nonceValue:t.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new mn({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function Ir(n){return new Promise(t=>setTimeout(t,n))}function bt(n,t){const e=n.layout.span>=0?n.layout.span:gc(n,t),r=ot.Buffer.alloc(e),s=Object.assign({instruction:n.index},t);return n.layout.encode(s,r),r}function Et(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(e.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${e.instruction} != ${n.index}`);return e}const wc=me("lamportsPerSignature"),bc=rt([et("version"),et("state"),wt("authorizedPubkey"),wt("nonce"),rt([wc],"feeCalculator")]),ss=bc.span;class ai{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=bc.decode(yt(t),0);return new ai({authorizedPubkey:new $(e.authorizedPubkey),nonce:new $(e.nonce).toString(),feeCalculator:e.feeCalculator})}}function en(n){const t=Ct(8,n),e=t.decode.bind(t),r=t.encode.bind(t),s=t,i=Wf();return s.decode=(o,c)=>{const h=e(o,c);return i.decode(h)},s.encode=(o,c,h)=>{const w=i.encode(o);return r(w,c,h)},s}class yh{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=et("instruction").decode(t.data);let s;for(const[i,o]of Object.entries(Tt))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:r,programId:s}=Et(Tt.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:r,programId:new $(s)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=Et(Tt.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:r,programId:s}=Et(Tt.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:r,programId:new $(s)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=Et(Tt.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,space:s,programId:i}=Et(Tt.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new $(e),seed:r,space:s,programId:new $(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=Et(Tt.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new $(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,programId:s}=Et(Tt.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new $(e),seed:r,programId:new $(s)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:r,lamports:s,space:i,programId:o}=Et(Tt.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new $(e),seed:r,lamports:s,space:i,programId:new $(o)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=Et(Tt.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new $(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(Tt.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Et(Tt.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=Et(Tt.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new $(e)}}static checkProgramId(t){if(!t.equals(ge.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Tt=Object.freeze({Create:{index:0,layout:rt([et("instruction"),Ce("lamports"),Ce("space"),wt("programId")])},Assign:{index:1,layout:rt([et("instruction"),wt("programId")])},Transfer:{index:2,layout:rt([et("instruction"),en("lamports")])},CreateWithSeed:{index:3,layout:rt([et("instruction"),wt("base"),Rr("seed"),Ce("lamports"),Ce("space"),wt("programId")])},AdvanceNonceAccount:{index:4,layout:rt([et("instruction")])},WithdrawNonceAccount:{index:5,layout:rt([et("instruction"),Ce("lamports")])},InitializeNonceAccount:{index:6,layout:rt([et("instruction"),wt("authorized")])},AuthorizeNonceAccount:{index:7,layout:rt([et("instruction"),wt("authorized")])},Allocate:{index:8,layout:rt([et("instruction"),Ce("space")])},AllocateWithSeed:{index:9,layout:rt([et("instruction"),wt("base"),Rr("seed"),Ce("space"),wt("programId")])},AssignWithSeed:{index:10,layout:rt([et("instruction"),wt("base"),Rr("seed"),wt("programId")])},TransferWithSeed:{index:11,layout:rt([et("instruction"),en("lamports"),Rr("seed"),wt("programId")])},UpgradeNonceAccount:{index:12,layout:rt([et("instruction")])}});class ge{constructor(){}static createAccount(t){const e=Tt.Create,r=bt(e,{lamports:t.lamports,space:t.space,programId:yt(t.programId.toBuffer())});return new At({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let e,r;if("basePubkey"in t){const s=Tt.TransferWithSeed;e=bt(s,{lamports:BigInt(t.lamports),seed:t.seed,programId:yt(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Tt.Transfer;e=bt(s,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new At({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if("basePubkey"in t){const s=Tt.AssignWithSeed;e=bt(s,{base:yt(t.basePubkey.toBuffer()),seed:t.seed,programId:yt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Tt.Assign;e=bt(s,{programId:yt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new At({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Tt.CreateWithSeed,r=bt(e,{base:yt(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:yt(t.programId.toBuffer())});let s=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||s.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new At({keys:s,programId:this.programId,data:r})}static createNonceAccount(t){const e=new xt;"basePubkey"in t&&"seed"in t?e.add(ge.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:ss,programId:this.programId})):e.add(ge.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:ss,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=Tt.InitializeNonceAccount,r=bt(e,{authorized:yt(t.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:On,isSigner:!1,isWritable:!1},{pubkey:tn,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new At(s)}static nonceAdvance(t){const e=Tt.AdvanceNonceAccount,r=bt(e),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:On,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new At(s)}static nonceWithdraw(t){const e=Tt.WithdrawNonceAccount,r=bt(e,{lamports:t.lamports});return new At({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:On,isSigner:!1,isWritable:!1},{pubkey:tn,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const e=Tt.AuthorizeNonceAccount,r=bt(e,{authorized:yt(t.newAuthorizedPubkey.toBuffer())});return new At({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let e,r;if("basePubkey"in t){const s=Tt.AllocateWithSeed;e=bt(s,{base:yt(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:yt(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Tt.Allocate;e=bt(s,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new At({keys:r,programId:this.programId,data:e})}}ge.programId=new $("11111111111111111111111111111111");const mh=vr-300;class Lr{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Lr.chunkSize)+1+1)}static async load(t,e,r,s,i){{const _=await t.getMinimumBalanceForRentExemption(i.length),A=await t.getAccountInfo(r.publicKey,"confirmed");let S=null;if(A!==null){if(A.executable)return console.error("Program load failed, account is already executable"),!1;A.data.length!==i.length&&(S=S||new xt,S.add(ge.allocate({accountPubkey:r.publicKey,space:i.length}))),A.owner.equals(s)||(S=S||new xt,S.add(ge.assign({accountPubkey:r.publicKey,programId:s}))),A.lamports<_&&(S=S||new xt,S.add(ge.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:_-A.lamports})))}else S=new xt().add(ge.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:_>0?_:1,space:i.length,programId:s}));S!==null&&await is(t,S,[e,r],{commitment:"confirmed"})}const o=rt([et("instruction"),et("offset"),et("bytesLength"),et("bytesLengthPadding"),ke(kt("byte"),kr(et(),-8),"bytes")]),c=Lr.chunkSize;let h=0,w=i,E=[];for(;w.length>0;){const _=w.slice(0,c),A=ot.Buffer.alloc(c+16);o.encode({instruction:0,offset:h,bytes:_,bytesLength:0,bytesLengthPadding:0},A);const S=new xt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:A});E.push(is(t,S,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await Ir(1e3/4),h+=c,w=w.slice(c)}await Promise.all(E);{const _=rt([et("instruction")]),A=ot.Buffer.alloc(_.span);_.encode({instruction:1},A);const S=new xt().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:tn,isSigner:!1,isWritable:!1}],programId:s,data:A}),B="processed",T=await t.sendTransaction(S,[e,r],{preflightCommitment:B}),{context:P,value:C}=await t.confirmTransaction({signature:T,lastValidBlockHeight:S.lastValidBlockHeight,blockhash:S.recentBlockhash},B);if(C.err)throw new Error(`Transaction ${T} failed (${JSON.stringify(C)})`);for(;;){try{if(await t.getSlot({commitment:B})>P.slot)break}catch{}await new Promise(K=>setTimeout(K,Math.round(mc/2)))}}return!0}}Lr.chunkSize=mh;const wh=new $("BPFLoader2111111111111111111111111111111111");class bh{static getMinNumSignatures(t){return Lr.getMinNumSignatures(t)}static load(t,e,r,s,i){return Lr.load(t,e,r,i,s)}}function kh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hi,Ro;function vh(){if(Ro)return Hi;Ro=1;var n=Object.prototype.toString,t=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function e(r,s){var i,o,c,h,w,E,_;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return e(r.toJSON(),s);if(_=n.call(r),_==="[object Array]"){for(c="[",o=r.length-1,i=0;i<o;i++)c+=e(r[i],!0)+",";return o>-1&&(c+=e(r[i],!0)),c+"]"}else if(_==="[object Object]"){for(h=t(r).sort(),o=h.length,c="",i=0;i<o;)w=h[i],E=e(r[w],!1),E!==void 0&&(c&&(c+=","),c+=JSON.stringify(w)+":"+E),i++;return"{"+c+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Hi=function(r){var s=e(r,!1);if(s!==void 0)return""+s},Hi}var Sh=vh(),Mo=kh(Sh);const fn=32;function ji(n){let t=0;for(;n>1;)n/=2,t++;return t}function xh(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class kc{constructor(t,e,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=ji(xh(t+fn+1))-ji(fn)-1,r=this.getSlotsInEpoch(e),s=t-(r-fn);return[e,s]}else{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=e%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*fn:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+ji(fn)):this.slotsPerEpoch}}var Eh=globalThis.fetch;class Ih extends _l{constructor(t,e,r){const s=i=>{const o=El(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,t,e,r),this.underlyingSocket=void 0}call(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var r;const e=(r=this.underlyingSocket)==null?void 0:r.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function _h(n,t){let e;try{e=n.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(e.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${n.index}`);return e}const To=56;class os{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=_h(Ah,t),r=t.length-To;vt(r>=0,"lookup table is invalid"),vt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=rt([ke(wt(),s,"addresses")]).decode(t.slice(To));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new $(e.authority[0]):void 0,addresses:i.map(o=>new $(o))}}}const Ah={index:1,layout:rt([et("typeIndex"),en("deactivationSlot"),me("lastExtendedSlot"),kt("lastExtendedStartIndex"),kt(),ke(wt(),kr(kt(),-1),"authority")])},Bh=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Rh(n){const t=n.match(Bh);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[e,r,s,i]=t,o=n.startsWith("https:")?"wss:":"ws:",c=s==null?null:parseInt(s.slice(1),10),h=c==null?"":`:${c+1}`;return`${o}//${r}${h}${i}`}const zt=En(Ms($),W(),n=>new $(n)),vc=Ts([W(),Ft("base64")]),Ws=En(Ms(ot.Buffer),vc,n=>ot.Buffer.from(n[0],"base64")),Sc=30*1e3;function Mh(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Mt(n){let t,e;if(typeof n=="string")t=n;else if(n){const{commitment:r,...s}=n;t=r,e=s}return{commitment:t,config:e}}function Po(n){return n.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function xc(n){return Be([D({jsonrpc:Ft("2.0"),id:W(),result:n}),D({jsonrpc:Ft("2.0"),id:W(),error:D({code:on(),message:W(),data:st(Gf())})})])}const Th=xc(on());function gt(n){return En(xc(n),Th,t=>"error"in t?t:{...t,result:V(t.result,n)})}function jt(n){return gt(D({context:D({slot:U()}),value:n}))}function ci(n){return D({context:D({slot:U()}),value:n})}function Gi(n,t){return n===0?new Pr({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new $(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:be.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new He(t)}const Ph=D({foundation:U(),foundationTerm:U(),initial:U(),taper:U(),terminal:U()}),Lh=gt(G(Z(D({epoch:U(),effectiveSlot:U(),amount:U(),postBalance:U(),commission:st(Z(U()))})))),Ch=G(D({slot:U(),prioritizationFee:U()})),Uh=D({total:U(),validator:U(),foundation:U(),epoch:U()}),Oh=D({epoch:U(),slotIndex:U(),slotsInEpoch:U(),absoluteSlot:U(),blockHeight:st(U()),transactionCount:st(U())}),Nh=D({slotsPerEpoch:U(),leaderScheduleSlotOffset:U(),warmup:er(),firstNormalEpoch:U(),firstNormalSlot:U()}),Fh=Ya(W(),G(U())),Nr=Z(Be([D({}),W()])),zh=D({err:Nr}),Kh=Ft("receivedSignature"),Dh=D({"solana-core":W(),"feature-set":st(U())}),Wh=D({program:W(),programId:zt,parsed:on()}),qh=D({programId:zt,accounts:G(zt),data:W()}),Lo=jt(D({err:Z(Be([D({}),W()])),logs:Z(G(W())),accounts:st(Z(G(Z(D({executable:er(),owner:W(),lamports:U(),data:G(W()),rentEpoch:st(U())}))))),unitsConsumed:st(U()),returnData:st(Z(D({programId:W(),data:Ts([W(),Ft("base64")])}))),innerInstructions:st(Z(G(D({index:U(),instructions:G(Be([Wh,qh]))}))))})),$h=jt(D({byIdentity:Ya(W(),G(U())),range:D({firstSlot:U(),lastSlot:U()})}));function Vh(n,t,e,r,s,i){const o=e||Eh;let c;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let h;return r&&(h=async(E,_)=>{const A=await new Promise((S,B)=>{try{r(E,_,(T,P)=>S([T,P]))}catch(T){B(T)}});return await o(...A)}),new vl(async(E,_)=>{const A={method:"POST",body:E,agent:c,headers:Object.assign({"Content-Type":"application/json"},t||{},Vd)};try{let S=5,B,T=500;for(;h?B=await h(n,A):B=await o(n,A),!(B.status!==429||s===!0||(S-=1,S===0));)console.error(`Server responded with ${B.status} ${B.statusText}.  Retrying after ${T}ms delay...`),await Ir(T),T*=2;const P=await B.text();B.ok?_(null,P):_(new Error(`${B.status} ${B.statusText}: ${P}`))}catch(S){S instanceof Error&&_(S)}},{})}function Hh(n){return(t,e)=>new Promise((r,s)=>{n.request(t,e,(i,o)=>{if(i){s(i);return}r(o)})})}function jh(n){return t=>new Promise((e,r)=>{t.length===0&&e([]);const s=t.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}e(o)})})}const Gh=gt(Ph),Zh=gt(Uh),Yh=gt(Ch),Xh=gt(Oh),Jh=gt(Nh),Qh=gt(Fh),td=gt(U()),ed=jt(D({total:U(),circulating:U(),nonCirculating:U(),nonCirculatingAccounts:G(zt)})),as=D({amount:W(),uiAmount:Z(U()),decimals:U(),uiAmountString:st(W())}),rd=jt(G(D({address:zt,amount:W(),uiAmount:Z(U()),decimals:U(),uiAmountString:st(W())}))),nd=jt(G(D({pubkey:zt,account:D({executable:er(),owner:zt,lamports:U(),data:Ws,rentEpoch:U()})}))),cs=D({program:W(),parsed:on(),space:U()}),id=jt(G(D({pubkey:zt,account:D({executable:er(),owner:zt,lamports:U(),data:cs,rentEpoch:U()})}))),sd=jt(G(D({lamports:U(),address:zt}))),wn=D({executable:er(),owner:zt,lamports:U(),data:Ws,rentEpoch:U()}),od=D({pubkey:zt,account:wn}),ad=En(Be([Ms(ot.Buffer),cs]),Be([vc,cs]),n=>Array.isArray(n)?V(n,Ws):n),us=D({executable:er(),owner:zt,lamports:U(),data:ad,rentEpoch:U()}),cd=D({pubkey:zt,account:us}),ud=D({state:Be([Ft("active"),Ft("inactive"),Ft("activating"),Ft("deactivating")]),active:U(),inactive:U()}),fd=gt(G(D({signature:W(),slot:U(),err:Nr,memo:Z(W()),blockTime:st(Z(U()))}))),ld=gt(G(D({signature:W(),slot:U(),err:Nr,memo:Z(W()),blockTime:st(Z(U()))}))),hd=D({subscription:U(),result:ci(wn)}),dd=D({pubkey:zt,account:wn}),pd=D({subscription:U(),result:ci(dd)}),gd=D({parent:U(),slot:U(),root:U()}),yd=D({subscription:U(),result:gd}),md=Be([D({type:Be([Ft("firstShredReceived"),Ft("completed"),Ft("optimisticConfirmation"),Ft("root")]),slot:U(),timestamp:U()}),D({type:Ft("createdBank"),parent:U(),slot:U(),timestamp:U()}),D({type:Ft("frozen"),slot:U(),timestamp:U(),stats:D({numTransactionEntries:U(),numSuccessfulTransactions:U(),numFailedTransactions:U(),maxTransactionsPerEntry:U()})}),D({type:Ft("dead"),slot:U(),timestamp:U(),err:W()})]),wd=D({subscription:U(),result:md}),bd=D({subscription:U(),result:ci(Be([zh,Kh]))}),kd=D({subscription:U(),result:U()}),vd=D({pubkey:W(),gossip:Z(W()),tpu:Z(W()),rpc:Z(W()),version:Z(W())}),Co=D({votePubkey:W(),nodePubkey:W(),activatedStake:U(),epochVoteAccount:er(),epochCredits:G(Ts([U(),U(),U()])),commission:U(),lastVote:U(),rootSlot:Z(U())}),Sd=gt(D({current:G(Co),delinquent:G(Co)})),xd=Be([Ft("processed"),Ft("confirmed"),Ft("finalized")]),Ed=D({slot:U(),confirmations:Z(U()),err:Nr,confirmationStatus:st(xd)}),Id=jt(G(Z(Ed))),_d=gt(U()),Ec=D({accountKey:zt,writableIndexes:G(U()),readonlyIndexes:G(U())}),qs=D({signatures:G(W()),message:D({accountKeys:G(W()),header:D({numRequiredSignatures:U(),numReadonlySignedAccounts:U(),numReadonlyUnsignedAccounts:U()}),instructions:G(D({accounts:G(U()),data:W(),programIdIndex:U()})),recentBlockhash:W(),addressTableLookups:st(G(Ec))})}),Ic=D({pubkey:zt,signer:er(),writable:er(),source:st(Be([Ft("transaction"),Ft("lookupTable")]))}),_c=D({accountKeys:G(Ic),signatures:G(W())}),Ac=D({parsed:on(),program:W(),programId:zt}),Bc=D({accounts:G(zt),data:W(),programId:zt}),Ad=Be([Bc,Ac]),Bd=Be([D({parsed:on(),program:W(),programId:W()}),D({accounts:G(W()),data:W(),programId:W()})]),Rc=En(Ad,Bd,n=>"accounts"in n?V(n,Bc):V(n,Ac)),Mc=D({signatures:G(W()),message:D({accountKeys:G(Ic),instructions:G(Rc),recentBlockhash:W(),addressTableLookups:st(Z(G(Ec)))})}),Gn=D({accountIndex:U(),mint:W(),owner:st(W()),programId:st(W()),uiTokenAmount:as}),Tc=D({writable:G(zt),readonly:G(zt)}),ui=D({err:Nr,fee:U(),innerInstructions:st(Z(G(D({index:U(),instructions:G(D({accounts:G(U()),data:W(),programIdIndex:U()}))})))),preBalances:G(U()),postBalances:G(U()),logMessages:st(Z(G(W()))),preTokenBalances:st(Z(G(Gn))),postTokenBalances:st(Z(G(Gn))),loadedAddresses:st(Tc),computeUnitsConsumed:st(U()),costUnits:st(U())}),$s=D({err:Nr,fee:U(),innerInstructions:st(Z(G(D({index:U(),instructions:G(Rc)})))),preBalances:G(U()),postBalances:G(U()),logMessages:st(Z(G(W()))),preTokenBalances:st(Z(G(Gn))),postTokenBalances:st(Z(G(Gn))),loadedAddresses:st(Tc),computeUnitsConsumed:st(U()),costUnits:st(U())}),an=Be([Ft(0),Ft("legacy")]),Fr=D({pubkey:W(),lamports:U(),postBalance:Z(U()),rewardType:Z(W()),commission:st(Z(U()))}),Rd=gt(Z(D({blockhash:W(),previousBlockhash:W(),parentSlot:U(),transactions:G(D({transaction:qs,meta:Z(ui),version:st(an)})),rewards:st(G(Fr)),blockTime:Z(U()),blockHeight:Z(U())}))),Md=gt(Z(D({blockhash:W(),previousBlockhash:W(),parentSlot:U(),rewards:st(G(Fr)),blockTime:Z(U()),blockHeight:Z(U())}))),Td=gt(Z(D({blockhash:W(),previousBlockhash:W(),parentSlot:U(),transactions:G(D({transaction:_c,meta:Z(ui),version:st(an)})),rewards:st(G(Fr)),blockTime:Z(U()),blockHeight:Z(U())}))),Pd=gt(Z(D({blockhash:W(),previousBlockhash:W(),parentSlot:U(),transactions:G(D({transaction:Mc,meta:Z($s),version:st(an)})),rewards:st(G(Fr)),blockTime:Z(U()),blockHeight:Z(U())}))),Ld=gt(Z(D({blockhash:W(),previousBlockhash:W(),parentSlot:U(),transactions:G(D({transaction:_c,meta:Z($s),version:st(an)})),rewards:st(G(Fr)),blockTime:Z(U()),blockHeight:Z(U())}))),Cd=gt(Z(D({blockhash:W(),previousBlockhash:W(),parentSlot:U(),rewards:st(G(Fr)),blockTime:Z(U()),blockHeight:Z(U())}))),Ud=gt(Z(D({blockhash:W(),previousBlockhash:W(),parentSlot:U(),transactions:G(D({transaction:qs,meta:Z(ui)})),rewards:st(G(Fr)),blockTime:Z(U())}))),Uo=gt(Z(D({blockhash:W(),previousBlockhash:W(),parentSlot:U(),signatures:G(W()),blockTime:Z(U())}))),Zi=gt(Z(D({slot:U(),meta:Z(ui),blockTime:st(Z(U())),transaction:qs,version:st(an)}))),Un=gt(Z(D({slot:U(),transaction:Mc,meta:Z($s),blockTime:st(Z(U())),version:st(an)}))),Od=jt(D({blockhash:W(),lastValidBlockHeight:U()})),Nd=jt(er()),Fd=D({slot:U(),numTransactions:U(),numSlots:U(),samplePeriodSecs:U()}),zd=gt(G(Fd)),Kd=jt(Z(D({feeCalculator:D({lamportsPerSignature:U()})}))),Dd=gt(W()),Wd=gt(W()),qd=D({err:Nr,logs:G(W()),signature:W()}),$d=D({result:ci(qd),subscription:U()}),Vd={"solana-client":"js/1.0.0-maintenance"};class Hd{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async E=>{const{commitment:_,config:A}=Mt(E),S=this._buildArgs([],_,void 0,A),B=Mo(S);return w[B]=w[B]??(async()=>{try{const T=await this._rpcRequest("getBlockHeight",S),P=V(T,gt(U()));if("error"in P)throw new nt(P.error,"failed to get block height information");return P.result}finally{delete w[B]}})(),await w[B]}})();let r,s,i,o,c,h;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,s=e.httpHeaders,i=e.fetch,o=e.fetchMiddleware,c=e.disableRetryOnRateLimit,h=e.httpAgent),this._rpcEndpoint=Mh(t),this._rpcWsEndpoint=r||Rh(t),this._rpcClient=Vh(t,s,i,o,c,h),this._rpcRequest=Hh(this._rpcClient),this._rpcBatchRequest=jh(this._rpcClient),this._rpcWebSocket=new Ih(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgs([t.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),c=V(o,jt(U()));if("error"in c)throw new nt(c.error,`failed to get balance for ${t.toBase58()}`);return c.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),r=V(e,gt(Z(U())));if("error"in r)throw new nt(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=V(t,gt(U()));if("error"in e)throw new nt(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=V(t,td);if("error"in e)throw new nt(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[e]),s=V(r,ed);if("error"in s)throw new nt(s.error,"failed to get supply");return s.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenSupply",r),i=V(s,jt(as));if("error"in i)throw new nt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenAccountBalance",r),i=V(s,jt(as));if("error"in i)throw new nt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,r){const{commitment:s,config:i}=Mt(r);let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const c=this._buildArgs(o,s,"base64",i),h=await this._rpcRequest("getTokenAccountsByOwner",c),w=V(h,nd);if("error"in w)throw new nt(w.error,`failed to get token accounts owned by account ${t.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(t,e,r){let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),c=V(o,id);if("error"in c)throw new nt(c.error,`failed to get token accounts owned by account ${t.toBase58()}`);return c.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],s=await this._rpcRequest("getLargestAccounts",r),i=V(s,sd);if("error"in i)throw new nt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),s=await this._rpcRequest("getTokenLargestAccounts",r),i=V(s,rd);if("error"in i)throw new nt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgs([t.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),c=V(o,jt(Z(wn)));if("error"in c)throw new nt(c.error,`failed to get info about account ${t.toBase58()}`);return c.result}async getParsedAccountInfo(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),c=V(o,jt(Z(us)));if("error"in c)throw new nt(c.error,`failed to get info about account ${t.toBase58()}`);return c.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:s}=Mt(e),i=t.map(w=>w.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),c=await this._rpcRequest("getMultipleAccounts",o),h=V(c,jt(G(Z(us))));if("error"in h)throw new nt(h.error,`failed to get info for accounts ${i}`);return h.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:s}=Mt(e),i=t.map(w=>w.toBase58()),o=this._buildArgs([i],r,"base64",s),c=await this._rpcRequest("getMultipleAccounts",o),h=V(c,jt(G(Z(wn))));if("error"in h)throw new nt(h.error,`failed to get info for accounts ${i}`);return h.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:s,config:i}=Mt(e),o=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getStakeActivation",o),h=V(c,gt(ud));if("error"in h)throw new nt(h.error,`failed to get Stake Activation ${t.toBase58()}`);return h.result}async getProgramAccounts(t,e){const{commitment:r,config:s}=Mt(e),{encoding:i,...o}=s||{},c=this._buildArgs([t.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Po(o.filters)}:null}),h=await this._rpcRequest("getProgramAccounts",c),w=G(od),E=o.withContext===!0?V(h,jt(w)):V(h,gt(w));if("error"in E)throw new nt(E.error,`failed to get accounts owned by program ${t.toBase58()}`);return E.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),c=V(o,gt(G(cd)));if("error"in c)throw new nt(c.error,`failed to get accounts owned by program ${t.toBase58()}`);return c.result}async confirmTransaction(t,e){var i;let r;if(typeof t=="string")r=t;else{const o=t;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=be.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return vt(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,s,i=!1;const o=new Promise((h,w)=>{try{r=this.onSignature(e,(_,A)=>{r=void 0;const S={context:A,value:_};h({__type:ar.PROCESSED,response:S})},t);const E=new Promise(_=>{r==null?_():s=this._onSubscriptionStateChange(r,A=>{A==="subscribed"&&_()})});(async()=>{if(await E,i)return;const _=await this.getSignatureStatus(e);if(i||_==null)return;const{context:A,value:S}=_;if(S!=null)if(S!=null&&S.err)w(S.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(S.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(S.confirmationStatus==="processed"||S.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,h({__type:ar.PROCESSED,response:{context:A,value:S}})}})()}catch(E){w(E)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(_=>{const A=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let S=await A();if(!i){for(;S<=r;)if(await Ir(1e3),i||(S=await A(),i))return;_({__type:ar.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),w=this.getCancellationPromise(e);let E;try{const _=await Promise.race([w,h,o]);if(_.__type===ar.PROCESSED)E=_.response;else throw new Ns(s)}finally{i=!0,c()}return E}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let c=!1;const h=new Promise(S=>{let B=i,T=null;const P=async()=>{try{const{context:C,value:K}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:r});return T=C.slot,K==null?void 0:K.nonce}catch{return B}};(async()=>{if(B=await P(),!c)for(;;){if(i!==B){S({__type:ar.NONCE_INVALID,slotInWhichNonceDidAdvance:T});return}if(await Ir(2e3),c||(B=await P(),c))return}})()}),{abortConfirmation:w,confirmationPromise:E}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),_=this.getCancellationPromise(e);let A;try{const S=await Promise.race([_,E,h]);if(S.__type===ar.PROCESSED)A=S.response;else{let B;for(;;){const T=await this.getSignatureStatus(o);if(T==null)break;if(T.context.slot<(S.slotInWhichNonceDidAdvance??r)){await Ir(400);continue}B=T;break}if(B!=null&&B.value){const T=t||"finalized",{confirmationStatus:P}=B.value;switch(T){case"processed":case"recent":if(P!=="processed"&&P!=="confirmed"&&P!=="finalized")throw new Hr(o);break;case"confirmed":case"single":case"singleGossip":if(P!=="confirmed"&&P!=="finalized")throw new Hr(o);break;case"finalized":case"max":case"root":if(P!=="finalized")throw new Hr(o);break;default:}A={context:B.context,value:{err:B.value.err}}}else throw new Hr(o)}}finally{c=!0,w()}return A}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const s=new Promise(h=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>h({__type:ar.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let c;try{const h=await Promise.race([o,s]);if(h.__type===ar.PROCESSED)c=h.response;else throw new Fs(e,h.timeoutMs/1e3)}finally{clearTimeout(r),i()}return c}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=V(t,gt(G(vd)));if("error"in e)throw new nt(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),s=V(r,Sd);if("error"in s)throw new nt(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:e,config:r}=Mt(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlot",s),o=V(i,gt(U()));if("error"in o)throw new nt(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:e,config:r}=Mt(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=V(i,gt(W()));if("error"in o)throw new nt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,e){const r=[t,e],s=await this._rpcRequest("getSlotLeaders",r),i=V(s,gt(G(zt)));if("error"in i)throw new nt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:r,value:s}=await this.getSignatureStatuses([t],e);vt(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const s=await this._rpcRequest("getSignatureStatuses",r),i=V(s,Id);if("error"in i)throw new nt(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:r}=Mt(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=V(i,gt(U()));if("error"in o)throw new nt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),s=V(r,Gh);if("error"in s)throw new nt(s.error,"failed to get inflation");return s.result}async getInflationReward(t,e,r){const{commitment:s,config:i}=Mt(r),o=this._buildArgs([t.map(w=>w.toBase58())],s,void 0,{...i,epoch:e??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getInflationReward",o),h=V(c,Lh);if("error"in h)throw new nt(h.error,"failed to get inflation reward");return h.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=V(t,Zh);if("error"in e)throw new nt(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:r}=Mt(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=V(i,Xh);if("error"in o)throw new nt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=V(t,Jh);if("error"in e)throw new nt(e.error,"failed to get epoch schedule");const r=e.result;return new kc(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=V(t,Qh);if("error"in e)throw new nt(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=V(s,_d);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=V(e,zd);if("error"in r)throw new nt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=V(s,Kd);if("error"in i)throw new nt(i.error,"failed to get fee calculator");const{context:o,value:c}=i.result;return{context:o,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(t,e){const r=yt(t.serialize()).toString("base64"),s=this._buildArgs([r],e),i=await this._rpcRequest("getFeeForMessage",s),o=V(i,jt(Z(U())));if("error"in o)throw new nt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){var o;const e=(o=t==null?void 0:t.lockedWritableAccounts)==null?void 0:o.map(c=>c.toBase58()),r=e!=null&&e.length?[e]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=V(s,Yh);if("error"in i)throw new nt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=Mt(t),s=this._buildArgs([],e,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=V(i,Od);if("error"in o)throw new nt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgs([t],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),c=V(o,Nd);if("error"in c)throw new nt(c.error,"failed to determine if the blockhash `"+t+"`is valid");return c.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=V(t,gt(Dh));if("error"in e)throw new nt(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=V(t,gt(W()));if("error"in e)throw new nt(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const c=V(o,Td);if("error"in c)throw c.error;return c.result}case"none":{const c=V(o,Md);if("error"in c)throw c.error;return c.result}default:{const c=V(o,Rd);if("error"in c)throw c.error;const{result:h}=c;return h?{...h,transactions:h.transactions.map(({transaction:w,meta:E,version:_})=>({meta:E,transaction:{...w,message:Gi(_,w.message)},version:_}))}:null}}}catch(c){throw new nt(c,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const c=V(o,Ld);if("error"in c)throw c.error;return c.result}case"none":{const c=V(o,Cd);if("error"in c)throw c.error;return c.result}default:{const c=V(o,Pd);if("error"in c)throw c.error;return c.result}}}catch(c){throw new nt(c,"failed to get block")}}async getBlockProduction(t){let e,r;if(typeof t=="string")r=t;else if(t){const{commitment:c,...h}=t;r=c,e=h}const s=this._buildArgs([],r,"base64",e),i=await this._rpcRequest("getBlockProduction",s),o=V(i,$h);if("error"in o)throw new nt(o.error,"failed to get block production information");return o.result}async getTransaction(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),o=await this._rpcRequest("getTransaction",i),c=V(o,Zi);if("error"in c)throw new nt(c.error,"failed to get transaction");const h=c.result;return h&&{...h,transaction:{...h.transaction,message:Gi(h.version,h.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:r,config:s}=Mt(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),c=V(o,Un);if("error"in c)throw new nt(c.error,"failed to get transaction");return c.result}async getParsedTransactions(t,e){const{commitment:r,config:s}=Mt(e),i=t.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(h=>{const w=V(h,Un);if("error"in w)throw new nt(w.error,"failed to get transactions");return w.result})}async getTransactions(t,e){const{commitment:r,config:s}=Mt(e),i=t.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(h=>{const w=V(h,Zi);if("error"in w)throw new nt(w.error,"failed to get transactions");const E=w.result;return E&&{...E,transaction:{...E.transaction,message:Gi(E.version,E.transaction.message)}}})}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getBlock",r),i=V(s,Ud);if("error"in i)throw new nt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const c={...o,transactions:o.transactions.map(({transaction:h,meta:w})=>{const E=new He(h.message);return{meta:w,transaction:{...h,message:E}}})};return{...c,transactions:c.transactions.map(({transaction:h,meta:w})=>({meta:w,transaction:xt.populate(h.message,h.signatures)}))}}async getBlocks(t,e,r){const s=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],r),i=await this._rpcRequest("getBlocks",s),o=V(i,gt(G(U())));if("error"in o)throw new nt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=V(s,Uo);if("error"in i)throw new nt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=V(s,Uo);if("error"in i)throw new nt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),s=await this._rpcRequest("getTransaction",r),i=V(s,Zi);if("error"in i)throw new nt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const c=new He(o.transaction.message),h=o.transaction.signatures;return{...o,transaction:xt.populate(c,h)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=V(s,Un);if("error"in i)throw new nt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const r=t.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],e,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const c=V(o,Un);if("error"in c)throw new nt(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(t,e,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(e--,!(e<=0||e<i));)try{const h=await this.getConfirmedBlockSignatures(e,"finalized");h.signatures.length>0&&(s.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const h=await this.getConfirmedBlockSignatures(r);h.signatures.length>0&&(s.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(t,e,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=V(i,fd);if("error"in o)throw new nt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,e,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",s),o=V(i,ld);if("error"in o)throw new nt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,e){const{context:r,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=new os({key:t,state:os.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:s}=await this.getAccountInfoAndContext(t,e);let i=null;return s!==null&&(i=ai.fromAccountData(s.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,e){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),s=V(r,Dd);if("error"in s)throw new nt(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Ir(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Sc;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Ir(mc/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=Mt(t),s=this._buildArgs([],e,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=V(i,jt(U()));if("error"in o)throw new nt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,e,r){if("message"in t){const T=t.serialize(),P=ot.Buffer.from(T).toString("base64");if(Array.isArray(e)||r!==void 0)throw new Error("Invalid arguments");const C=e||{};C.encoding="base64","commitment"in C||(C.commitment=this.commitment),e&&typeof e=="object"&&"innerInstructions"in e&&(C.innerInstructions=e.innerInstructions);const K=[P,C],N=await this._rpcRequest("simulateTransaction",K),H=V(N,Lo);if("error"in H)throw new Error("failed to simulate transaction: "+H.error.message);return H.result}let s;if(t instanceof xt){let B=t;s=new xt,s.feePayer=B.feePayer,s.instructions=t.instructions,s.nonceInfo=B.nonceInfo,s.signatures=B.signatures}else s=xt.populate(t),s._message=s._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(s.nonceInfo&&i)s.sign(...i);else{let B=this._disableBlockhashCaching;for(;;){const T=await this._blockhashWithExpiryBlockHeight(B);if(s.lastValidBlockHeight=T.lastValidBlockHeight,s.recentBlockhash=T.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const P=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(P)&&!this._blockhashInfo.transactionSignatures.includes(P)){this._blockhashInfo.simulatedSignatures.push(P);break}else B=!0}}const o=s._compile(),c=o.serialize(),w=s._serialize(c).toString("base64"),E={encoding:"base64",commitment:this.commitment};if(r){const B=(Array.isArray(r)?r:o.nonProgramIds()).map(T=>T.toBase58());E.accounts={encoding:"base64",addresses:B}}i&&(E.sigVerify=!0),e&&typeof e=="object"&&"innerInstructions"in e&&(E.innerInstructions=e.innerInstructions);const _=[w,E],A=await this._rpcRequest("simulateTransaction",_),S=V(A,Lo);if("error"in S){let B;if("data"in S.error&&(B=S.error.data.logs,B&&Array.isArray(B))){const T=`
    `,P=T+B.join(T);console.error(S.error.message,P)}throw new mn({action:"simulate",signature:"",transactionMessage:S.error.message,logs:B})}return S.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(t.nonceInfo)t.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=c.lastValidBlockHeight,t.recentBlockhash=c.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const h=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))o=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=yt(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},s=e&&e.skipPreflight,i=s===!0?"processed":e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(r.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(r.minContextSlot=e.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[t,r],c=await this._rpcRequest("sendTransaction",o),h=V(c,Wd);if("error"in h){let w;throw"data"in h.error&&(w=h.error.data.logs),new mn({action:s?"send":"simulate",signature:"",transactionMessage:h.error.message,logs:w})}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,r])=>{this._setSubscription(e,{...r,state:"pending"})})}_setSubscription(t,e){var s;const r=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var i;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(e),()=>{s.delete(e),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const c=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=s.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:c}),!e())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(c){if(c instanceof Error&&console.error(`${o} error:`,c.message),!e())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(s=>{try{s(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:r}=V(t,hd);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,s=Mo([t.method,e]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];vt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const{commitment:s,config:i}=Mt(r),o=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=V(t,pd);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,s){const{commitment:i,config:o}=Mt(r),c=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Po(s)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=V(t,$d);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=V(t,yd);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=V(t,wd);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,s){const i=e||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,e,r,s){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,s)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=V(t,bd);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const s=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,c)=>{if(o.type==="status"){e(o.result,c);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,e,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],s,void 0,i),c=this._makeSubscription({callback:(h,w)=>{e(h,w);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return c}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=V(t,kd);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Zr{constructor(t){this._keypair=void 0,this._keypair=t??_o()}static generate(){return new Zr(_o())}static fromSecretKey(t,e){if(t.byteLength!==64)throw new Error("bad secret key size");const r=t.slice(32,64);if(!e||!e.skipValidation){const s=t.slice(0,32),i=jn(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Zr({publicKey:r,secretKey:t})}static fromSeed(t){const e=jn(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new Zr({publicKey:e,secretKey:r})}get publicKey(){return new $(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const fr=Object.freeze({CreateLookupTable:{index:0,layout:rt([et("instruction"),en("recentSlot"),kt("bumpSeed")])},FreezeLookupTable:{index:1,layout:rt([et("instruction")])},ExtendLookupTable:{index:2,layout:rt([et("instruction"),en(),ke(wt(),kr(et(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:rt([et("instruction")])},CloseLookupTable:{index:4,layout:rt([et("instruction")])}});class jd{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=et("instruction").decode(t.data);let s;for(const[i,o]of Object.entries(fr))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=Et(fr.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=Et(fr.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map(r=>new $(r))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(Vs.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class Vs{constructor(){}static createLookupTable(t){const[e,r]=$.findProgramAddressSync([t.authority.toBuffer(),ja().encode(t.recentSlot)],this.programId),s=fr.CreateLookupTable,i=bt(s,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:ge.programId,isSigner:!1,isWritable:!1}];return[new At({programId:this.programId,keys:o,data:i}),e]}static freezeLookupTable(t){const e=fr.FreezeLookupTable,r=bt(e),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new At({programId:this.programId,keys:s,data:r})}static extendLookupTable(t){const e=fr.ExtendLookupTable,r=bt(e,{addresses:t.addresses.map(i=>i.toBytes())}),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&s.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:ge.programId,isSigner:!1,isWritable:!1}),new At({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(t){const e=fr.DeactivateLookupTable,r=bt(e),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new At({programId:this.programId,keys:s,data:r})}static closeLookupTable(t){const e=fr.CloseLookupTable,r=bt(e),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new At({programId:this.programId,keys:s,data:r})}}Vs.programId=new $("AddressLookupTab1e1111111111111111111111111");class Gd{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=kt("instruction").decode(t.data);let s;for(const[i,o]of Object.entries(Je))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:r}=Et(Je.RequestUnits,t.data);return{units:e,additionalFee:r}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=Et(Je.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=Et(Je.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=Et(Je.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(Hs.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Je=Object.freeze({RequestUnits:{index:0,layout:rt([kt("instruction"),et("units"),et("additionalFee")])},RequestHeapFrame:{index:1,layout:rt([kt("instruction"),et("bytes")])},SetComputeUnitLimit:{index:2,layout:rt([kt("instruction"),et("units")])},SetComputeUnitPrice:{index:3,layout:rt([kt("instruction"),en("microLamports")])}});class Hs{constructor(){}static requestUnits(t){const e=Je.RequestUnits,r=bt(e,t);return new At({keys:[],programId:this.programId,data:r})}static requestHeapFrame(t){const e=Je.RequestHeapFrame,r=bt(e,t);return new At({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(t){const e=Je.SetComputeUnitLimit,r=bt(e,t);return new At({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(t){const e=Je.SetComputeUnitPrice,r=bt(e,{microLamports:BigInt(t.microLamports)});return new At({keys:[],programId:this.programId,data:r})}}Hs.programId=new $("ComputeBudget111111111111111111111111111111");const Oo=64,No=32,Fo=64,zo=rt([kt("numSignatures"),kt("padding"),ze("signatureOffset"),ze("signatureInstructionIndex"),ze("publicKeyOffset"),ze("publicKeyInstructionIndex"),ze("messageDataOffset"),ze("messageDataSize"),ze("messageInstructionIndex")]);class fi{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:s,instructionIndex:i}=t;vt(e.length===No,`Public Key must be ${No} bytes but received ${e.length} bytes`),vt(s.length===Fo,`Signature must be ${Fo} bytes but received ${s.length} bytes`);const o=zo.span,c=o+e.length,h=c+s.length,w=1,E=ot.Buffer.alloc(h+r.length),_=i??65535;return zo.encode({numSignatures:w,padding:0,signatureOffset:c,signatureInstructionIndex:_,publicKeyOffset:o,publicKeyInstructionIndex:_,messageDataOffset:h,messageDataSize:r.length,messageInstructionIndex:_},E),E.fill(e,o),E.fill(s,c),E.fill(r,h),new At({keys:[],programId:fi.programId,data:E})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:s}=t;vt(e.length===Oo,`Private key must be ${Oo} bytes but received ${e.length} bytes`);try{const i=Zr.fromSecretKey(e),o=i.publicKey.toBytes(),c=Us(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}fi.programId=new $("Ed25519SigVerify111111111111111111111111111");const Zd=(n,t)=>{const e=Cs.sign(n,t);return[e.toCompactRawBytes(),e.recovery]};Cs.utils.isValidPrivateKey;const Yd=Cs.getPublicKey,Ko=32,Yi=20,Do=64,Xd=11,Xi=rt([kt("numSignatures"),ze("signatureOffset"),kt("signatureInstructionIndex"),ze("ethAddressOffset"),kt("ethAddressInstructionIndex"),ze("messageDataOffset"),ze("messageDataSize"),kt("messageInstructionIndex"),Ct(20,"ethAddress"),Ct(64,"signature"),kt("recoveryId")]);class Yr{constructor(){}static publicKeyToEthAddress(t){vt(t.length===Do,`Public key must be ${Do} bytes but received ${t.length} bytes`);try{return ot.Buffer.from(xo(yt(t))).slice(-Yi)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:s,recoveryId:i,instructionIndex:o}=t;return Yr.createInstructionWithEthAddress({ethAddress:Yr.publicKeyToEthAddress(e),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=t;let c;typeof e=="string"?e.startsWith("0x")?c=ot.Buffer.from(e.substr(2),"hex"):c=ot.Buffer.from(e,"hex"):c=e,vt(c.length===Yi,`Address must be ${Yi} bytes but received ${c.length} bytes`);const h=1+Xd,w=h,E=h+c.length,_=E+s.length+1,A=1,S=ot.Buffer.alloc(Xi.span+r.length);return Xi.encode({numSignatures:A,signatureOffset:E,signatureInstructionIndex:o,ethAddressOffset:w,ethAddressInstructionIndex:o,messageDataOffset:_,messageDataSize:r.length,messageInstructionIndex:o,signature:yt(s),ethAddress:yt(c),recoveryId:i},S),S.fill(yt(r),Xi.span),new At({keys:[],programId:Yr.programId,data:S})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:s}=t;vt(e.length===Ko,`Private key must be ${Ko} bytes but received ${e.length} bytes`);try{const i=yt(e),o=Yd(i,!1).slice(1),c=ot.Buffer.from(xo(yt(r))),[h,w]=Zd(c,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:h,recoveryId:w,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Yr.programId=new $("KeccakSecp256k11111111111111111111111111111");var Pc;const Lc=new $("StakeConfig11111111111111111111111111111111");class Cc{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class In{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}Pc=In;In.default=new Pc(0,0,$.default);class Jd{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=et("instruction").decode(t.data);let s;for(const[i,o]of Object.entries(pe))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:r}=Et(pe.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Cc(new $(e.staker),new $(e.withdrawer)),lockup:new In(r.unixTimestamp,r.epoch,new $(r.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Et(pe.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:r}=Et(pe.Authorize,t.data),s={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new $(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(s.custodianPubkey=t.keys[3].pubkey),s}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=Et(pe.AuthorizeWithSeed,t.data),o={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:s,authorityOwner:new $(i),newAuthorizedPubkey:new $(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=Et(pe.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(pe.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Et(pe.Withdraw,t.data),r={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(r.custodianPubkey=t.keys[5].pubkey),r}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Et(pe.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(li.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const pe=Object.freeze({Initialize:{index:0,layout:rt([et("instruction"),rh(),nh()])},Authorize:{index:1,layout:rt([et("instruction"),wt("newAuthorized"),et("stakeAuthorizationType")])},Delegate:{index:2,layout:rt([et("instruction")])},Split:{index:3,layout:rt([et("instruction"),Ce("lamports")])},Withdraw:{index:4,layout:rt([et("instruction"),Ce("lamports")])},Deactivate:{index:5,layout:rt([et("instruction")])},Merge:{index:7,layout:rt([et("instruction")])},AuthorizeWithSeed:{index:8,layout:rt([et("instruction"),wt("newAuthorized"),et("stakeAuthorizationType"),Rr("authoritySeed"),wt("authorityOwner")])}}),Qd=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class li{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:s}=t,i=s||In.default,o=pe.Initialize,c=bt(o,{authorized:{staker:yt(r.staker.toBuffer()),withdrawer:yt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:yt(i.custodian.toBuffer())}}),h={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:tn,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new At(h)}static createAccountWithSeed(t){const e=new xt;e.add(ge.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(t){const e=new xt;e.add(ge.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:s}=t,i=pe.Delegate,o=bt(i);return new xt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:Nn,isSigner:!1,isWritable:!1},{pubkey:Lc,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=t,c=pe.Authorize,h=bt(c,{newAuthorized:yt(s.toBuffer()),stakeAuthorizationType:i.index}),w=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&w.push({pubkey:o,isSigner:!0,isWritable:!1}),new xt().add({keys:w,programId:this.programId,data:h})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:c,custodianPubkey:h}=t,w=pe.AuthorizeWithSeed,E=bt(w,{newAuthorized:yt(o.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:s,authorityOwner:yt(i.toBuffer())}),_=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Ge,isSigner:!1,isWritable:!1}];return h&&_.push({pubkey:h,isSigner:!0,isWritable:!1}),new xt().add({keys:_,programId:this.programId,data:E})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=t,o=pe.Split,c=bt(o,{lamports:i});return new At({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(t,e){const r=new xt;return r.add(ge.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:c,lamports:h}=t,w=new xt;return w.add(ge.allocate({accountPubkey:i,basePubkey:o,seed:c,space:this.space,programId:this.programId})),e&&e>0&&w.add(ge.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),w.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:h}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:s}=t,i=pe.Merge,o=bt(i);return new xt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:Nn,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=t,c=pe.Withdraw,h=bt(c,{lamports:i}),w=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:Nn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&w.push({pubkey:o,isSigner:!0,isWritable:!1}),new xt().add({keys:w,programId:this.programId,data:h})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,s=pe.Deactivate,i=bt(s);return new xt().add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}li.programId=new $("Stake11111111111111111111111111111111111111");li.space=200;class Uc{constructor(t,e,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=r,this.commission=s}}class t0{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=et("instruction").decode(t.data);let s;for(const[i,o]of Object.entries(Qe))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=Et(Qe.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new Uc(new $(e.nodePubkey),new $(e.authorizedVoter),new $(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:r}=Et(Qe.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new $(e),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=Et(Qe.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new $(e),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new $(s),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=Et(Qe.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(cn.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Qe=Object.freeze({InitializeAccount:{index:0,layout:rt([et("instruction"),ih()])},Authorize:{index:1,layout:rt([et("instruction"),wt("newAuthorized"),et("voteAuthorizationType")])},Withdraw:{index:3,layout:rt([et("instruction"),Ce("lamports")])},UpdateValidatorIdentity:{index:4,layout:rt([et("instruction")])},AuthorizeWithSeed:{index:10,layout:rt([et("instruction"),sh()])}}),e0=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class cn{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:s}=t,i=Qe.InitializeAccount,o=bt(i,{voteInit:{nodePubkey:yt(s.nodePubkey.toBuffer()),authorizedVoter:yt(s.authorizedVoter.toBuffer()),authorizedWithdrawer:yt(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),c={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:tn,isSigner:!1,isWritable:!1},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new At(c)}static createAccount(t){const e=new xt;return e.add(ge.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=t,o=Qe.Authorize,c=bt(o,{newAuthorized:yt(s.toBuffer()),voteAuthorizationType:i.index}),h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new xt().add({keys:h,programId:this.programId,data:c})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:c}=t,h=Qe.AuthorizeWithSeed,w=bt(h,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:yt(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:yt(i.toBuffer()),voteAuthorizationType:o.index}}),E=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Ge,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return new xt().add({keys:E,programId:this.programId,data:w})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=t,o=Qe.Withdraw,c=bt(o,{lamports:s}),h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new xt().add({keys:h,programId:this.programId,data:c})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return cn.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,nodePubkey:s}=t,i=Qe.UpdateValidatorIdentity,o=bt(i),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new xt().add({keys:c,programId:this.programId,data:o})}}cn.programId=new $("Vote111111111111111111111111111111111111111");cn.space=3762;const Oc=new $("Va1idator1nfo111111111111111111111111111111"),r0=D({name:W(),website:st(W()),details:st(W()),iconUrl:st(W()),keybaseUsername:st(W())});class js{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(Re(e)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new $(Me(e,0,tr)),c=Xe(e)===1;s.push({publicKey:o,isSigner:c})}if(s[0].publicKey.equals(Oc)&&s[1].isSigner){const i=Rr().decode(ot.Buffer.from(e)),o=JSON.parse(i);return Ga(o,r0),new js(s[1].publicKey,o)}return null}}const n0=new $("Vote111111111111111111111111111111111111111"),i0=rt([wt("nodePubkey"),wt("authorizedWithdrawer"),kt("commission"),me(),ke(rt([me("slot"),et("confirmationCount")]),kr(et(),-8),"votes"),kt("rootSlotValid"),me("rootSlot"),me(),ke(rt([me("epoch"),wt("authorizedVoter")]),kr(et(),-8),"authorizedVoters"),rt([ke(rt([wt("authorizedPubkey"),me("epochOfLastAuthorizedSwitch"),me("targetEpoch")]),32,"buf"),me("idx"),kt("isEmpty")],"priorVoters"),me(),ke(rt([me("epoch"),me("credits"),me("prevCredits")]),kr(et(),-8),"epochCredits"),rt([me("slot"),me("timestamp")],"lastTimestamp")]);class Gs{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const r=i0.decode(yt(t),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new Gs({nodePubkey:new $(r.nodePubkey),authorizedWithdrawer:new $(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(s0),priorVoters:o0(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function s0({authorizedVoter:n,epoch:t}){return{epoch:t,authorizedVoter:new $(n)}}function Wo({authorizedPubkey:n,epochOfLastAuthorizedSwitch:t,targetEpoch:e}){return{authorizedPubkey:new $(n),epochOfLastAuthorizedSwitch:t,targetEpoch:e}}function o0({buf:n,idx:t,isEmpty:e}){return e?[]:[...n.slice(t+1).map(Wo),...n.slice(0,t).map(Wo)]}const qo={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function a0(n,t){const e=t===!1?"http":"https";if(!n)return qo[e].devnet;const r=qo[e][n];if(!r)throw new Error(`Unknown ${e} cluster: ${n}`);return r}async function c0(n,t,e,r){let s,i;e&&Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")||e&&Object.prototype.hasOwnProperty.call(e,"nonceValue")?(s=e,i=r):i=e;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},c=await n.sendRawTransaction(t,o),h=i&&i.commitment,E=(await(s?n.confirmTransaction(s,h):n.confirmTransaction(c,h))).value;if(E.err)throw c!=null?new mn({action:o!=null&&o.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(E)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(E)})`);return c}const u0=1e9,p0=Object.freeze(Object.defineProperty({__proto__:null,Account:Ql,AddressLookupTableAccount:os,AddressLookupTableInstruction:jd,AddressLookupTableProgram:Vs,Authorized:Cc,BLOCKHASH_CACHE_TIMEOUT_MS:Sc,BPF_LOADER_DEPRECATED_PROGRAM_ID:th,BPF_LOADER_PROGRAM_ID:wh,BpfLoader:bh,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Je,ComputeBudgetInstruction:Gd,ComputeBudgetProgram:Hs,Connection:Hd,Ed25519Program:fi,Enum:Xl,EpochSchedule:kc,FeeCalculatorLayout:wc,Keypair:Zr,LAMPORTS_PER_SOL:u0,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:fr,Loader:Lr,Lockup:In,MAX_SEED_LENGTH:pc,Message:He,MessageAccountKeys:yn,MessageV0:Pr,NONCE_ACCOUNT_LENGTH:ss,NonceAccount:ai,PACKET_DATA_SIZE:vr,PUBLIC_KEY_LENGTH:tr,PublicKey:$,SIGNATURE_LENGTH_IN_BYTES:gn,SOLANA_SCHEMA:ln,STAKE_CONFIG_ID:Lc,STAKE_INSTRUCTION_LAYOUTS:pe,SYSTEM_INSTRUCTION_LAYOUTS:Tt,SYSVAR_CLOCK_PUBKEY:Ge,SYSVAR_EPOCH_SCHEDULE_PUBKEY:fh,SYSVAR_INSTRUCTIONS_PUBKEY:lh,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:On,SYSVAR_RENT_PUBKEY:tn,SYSVAR_REWARDS_PUBKEY:hh,SYSVAR_SLOT_HASHES_PUBKEY:dh,SYSVAR_SLOT_HISTORY_PUBKEY:ph,SYSVAR_STAKE_HISTORY_PUBKEY:Nn,Secp256k1Program:Yr,SendTransactionError:mn,SolanaJSONRPCError:nt,SolanaJSONRPCErrorCode:gh,StakeAuthorizationLayout:Qd,StakeInstruction:Jd,StakeProgram:li,Struct:Os,SystemInstruction:yh,SystemProgram:ge,Transaction:xt,TransactionExpiredBlockheightExceededError:Ns,TransactionExpiredNonceInvalidError:Hr,TransactionExpiredTimeoutError:Fs,TransactionInstruction:At,TransactionMessage:Ks,TransactionStatus:ar,VALIDATOR_INFO_KEY:Oc,VERSION_PREFIX_MASK:si,VOTE_PROGRAM_ID:n0,ValidatorInfo:js,VersionedMessage:zs,VersionedTransaction:Ds,VoteAccount:Gs,VoteAuthorizationLayout:e0,VoteInit:Uc,VoteInstruction:t0,VoteProgram:cn,clusterApiUrl:a0,sendAndConfirmRawTransaction:c0,sendAndConfirmTransaction:is},Symbol.toStringTag,{value:"Module"}));export{Cc as A,Hd as C,Zr as K,In as L,$ as P,li as S,xt as T,Ds as V,fs as a,ot as b,$e as c,u0 as d,Zn as g,p0 as i};
